"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunk_N_E"] = self["webpackChunk_N_E"] || []).push([["_app-pages-browser_node_modules_thirdweb_dist_esm_wallets_in-app_web_lib_web-connector_js"],{

/***/ "(app-pages-browser)/./node_modules/thirdweb/dist/esm/auth/core/create-login-message.js":
/*!**************************************************************************!*\
  !*** ./node_modules/thirdweb/dist/esm/auth/core/create-login-message.js ***!
  \**************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createLoginMessage: function() { return /* binding */ createLoginMessage; }\n/* harmony export */ });\n/**\n * Create an EIP-4361 & CAIP-122 compliant message to sign based on the login payload\n * @param payload - The login payload containing the necessary information.\n * @returns The generated login message.\n * @internal\n */\nfunction createLoginMessage(payload) {\n    const typeField = \"Ethereum\";\n    const header = `${payload.domain} wants you to sign in with your ${typeField} account:`;\n    let prefix = [header, payload.address].join(\"\\n\");\n    prefix = [prefix, payload.statement].join(\"\\n\\n\");\n    if (payload.statement) {\n        prefix += \"\\n\";\n    }\n    const suffixArray = [];\n    if (payload.uri) {\n        const uriField = `URI: ${payload.uri}`;\n        suffixArray.push(uriField);\n    }\n    const versionField = `Version: ${payload.version}`;\n    suffixArray.push(versionField);\n    if (payload.chain_id) {\n        const chainField = `Chain ID: ${payload.chain_id}` || \"1\";\n        suffixArray.push(chainField);\n    }\n    const nonceField = `Nonce: ${payload.nonce}`;\n    suffixArray.push(nonceField);\n    const issuedAtField = `Issued At: ${payload.issued_at}`;\n    suffixArray.push(issuedAtField);\n    const expiryField = `Expiration Time: ${payload.expiration_time}`;\n    suffixArray.push(expiryField);\n    if (payload.invalid_before) {\n        const invalidBeforeField = `Not Before: ${payload.invalid_before}`;\n        suffixArray.push(invalidBeforeField);\n    }\n    if (payload.resources) {\n        suffixArray.push([\"Resources:\", ...payload.resources.map((x) => `- ${x}`)].join(\"\\n\"));\n    }\n    const suffix = suffixArray.join(\"\\n\");\n    return [prefix, suffix].join(\"\\n\");\n}\n//# sourceMappingURL=create-login-message.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy90aGlyZHdlYi9kaXN0L2VzbS9hdXRoL2NvcmUvY3JlYXRlLWxvZ2luLW1lc3NhZ2UuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQSxzQkFBc0IsZ0JBQWdCLGlDQUFpQyxXQUFXO0FBQ2xGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLFlBQVk7QUFDN0M7QUFDQTtBQUNBLHFDQUFxQyxnQkFBZ0I7QUFDckQ7QUFDQTtBQUNBLHdDQUF3QyxpQkFBaUI7QUFDekQ7QUFDQTtBQUNBLGlDQUFpQyxjQUFjO0FBQy9DO0FBQ0Esd0NBQXdDLGtCQUFrQjtBQUMxRDtBQUNBLDRDQUE0Qyx3QkFBd0I7QUFDcEU7QUFDQTtBQUNBLGtEQUFrRCx1QkFBdUI7QUFDekU7QUFDQTtBQUNBO0FBQ0EsNkVBQTZFLEVBQUU7QUFDL0U7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvdGhpcmR3ZWIvZGlzdC9lc20vYXV0aC9jb3JlL2NyZWF0ZS1sb2dpbi1tZXNzYWdlLmpzPzE1OWYiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDcmVhdGUgYW4gRUlQLTQzNjEgJiBDQUlQLTEyMiBjb21wbGlhbnQgbWVzc2FnZSB0byBzaWduIGJhc2VkIG9uIHRoZSBsb2dpbiBwYXlsb2FkXG4gKiBAcGFyYW0gcGF5bG9hZCAtIFRoZSBsb2dpbiBwYXlsb2FkIGNvbnRhaW5pbmcgdGhlIG5lY2Vzc2FyeSBpbmZvcm1hdGlvbi5cbiAqIEByZXR1cm5zIFRoZSBnZW5lcmF0ZWQgbG9naW4gbWVzc2FnZS5cbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlTG9naW5NZXNzYWdlKHBheWxvYWQpIHtcbiAgICBjb25zdCB0eXBlRmllbGQgPSBcIkV0aGVyZXVtXCI7XG4gICAgY29uc3QgaGVhZGVyID0gYCR7cGF5bG9hZC5kb21haW59IHdhbnRzIHlvdSB0byBzaWduIGluIHdpdGggeW91ciAke3R5cGVGaWVsZH0gYWNjb3VudDpgO1xuICAgIGxldCBwcmVmaXggPSBbaGVhZGVyLCBwYXlsb2FkLmFkZHJlc3NdLmpvaW4oXCJcXG5cIik7XG4gICAgcHJlZml4ID0gW3ByZWZpeCwgcGF5bG9hZC5zdGF0ZW1lbnRdLmpvaW4oXCJcXG5cXG5cIik7XG4gICAgaWYgKHBheWxvYWQuc3RhdGVtZW50KSB7XG4gICAgICAgIHByZWZpeCArPSBcIlxcblwiO1xuICAgIH1cbiAgICBjb25zdCBzdWZmaXhBcnJheSA9IFtdO1xuICAgIGlmIChwYXlsb2FkLnVyaSkge1xuICAgICAgICBjb25zdCB1cmlGaWVsZCA9IGBVUkk6ICR7cGF5bG9hZC51cml9YDtcbiAgICAgICAgc3VmZml4QXJyYXkucHVzaCh1cmlGaWVsZCk7XG4gICAgfVxuICAgIGNvbnN0IHZlcnNpb25GaWVsZCA9IGBWZXJzaW9uOiAke3BheWxvYWQudmVyc2lvbn1gO1xuICAgIHN1ZmZpeEFycmF5LnB1c2godmVyc2lvbkZpZWxkKTtcbiAgICBpZiAocGF5bG9hZC5jaGFpbl9pZCkge1xuICAgICAgICBjb25zdCBjaGFpbkZpZWxkID0gYENoYWluIElEOiAke3BheWxvYWQuY2hhaW5faWR9YCB8fCBcIjFcIjtcbiAgICAgICAgc3VmZml4QXJyYXkucHVzaChjaGFpbkZpZWxkKTtcbiAgICB9XG4gICAgY29uc3Qgbm9uY2VGaWVsZCA9IGBOb25jZTogJHtwYXlsb2FkLm5vbmNlfWA7XG4gICAgc3VmZml4QXJyYXkucHVzaChub25jZUZpZWxkKTtcbiAgICBjb25zdCBpc3N1ZWRBdEZpZWxkID0gYElzc3VlZCBBdDogJHtwYXlsb2FkLmlzc3VlZF9hdH1gO1xuICAgIHN1ZmZpeEFycmF5LnB1c2goaXNzdWVkQXRGaWVsZCk7XG4gICAgY29uc3QgZXhwaXJ5RmllbGQgPSBgRXhwaXJhdGlvbiBUaW1lOiAke3BheWxvYWQuZXhwaXJhdGlvbl90aW1lfWA7XG4gICAgc3VmZml4QXJyYXkucHVzaChleHBpcnlGaWVsZCk7XG4gICAgaWYgKHBheWxvYWQuaW52YWxpZF9iZWZvcmUpIHtcbiAgICAgICAgY29uc3QgaW52YWxpZEJlZm9yZUZpZWxkID0gYE5vdCBCZWZvcmU6ICR7cGF5bG9hZC5pbnZhbGlkX2JlZm9yZX1gO1xuICAgICAgICBzdWZmaXhBcnJheS5wdXNoKGludmFsaWRCZWZvcmVGaWVsZCk7XG4gICAgfVxuICAgIGlmIChwYXlsb2FkLnJlc291cmNlcykge1xuICAgICAgICBzdWZmaXhBcnJheS5wdXNoKFtcIlJlc291cmNlczpcIiwgLi4ucGF5bG9hZC5yZXNvdXJjZXMubWFwKCh4KSA9PiBgLSAke3h9YCldLmpvaW4oXCJcXG5cIikpO1xuICAgIH1cbiAgICBjb25zdCBzdWZmaXggPSBzdWZmaXhBcnJheS5qb2luKFwiXFxuXCIpO1xuICAgIHJldHVybiBbcHJlZml4LCBzdWZmaXhdLmpvaW4oXCJcXG5cIik7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jcmVhdGUtbG9naW4tbWVzc2FnZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/thirdweb/dist/esm/auth/core/create-login-message.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/thirdweb/dist/esm/auth/core/sign-login-payload.js":
/*!************************************************************************!*\
  !*** ./node_modules/thirdweb/dist/esm/auth/core/sign-login-payload.js ***!
  \************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   signLoginPayload: function() { return /* binding */ signLoginPayload; }\n/* harmony export */ });\n/* harmony import */ var _create_login_message_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./create-login-message.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/auth/core/create-login-message.js\");\n\n/**\n * Signs the login payload using the provided account.\n * @param options - The options for signing the login payload.\n * @returns An object containing the signature and the payload.\n * @example\n * ```ts\n * import { signLoginPayload } from 'thirdweb/auth';\n *\n * const { signature, payload } = await signLoginPayload({\n *  payload: loginPayload,\n *  account: account,\n * });\n * ```\n * @auth\n */\nasync function signLoginPayload(options) {\n    const { payload, account } = options;\n    const signature = await account.signMessage({\n        message: (0,_create_login_message_js__WEBPACK_IMPORTED_MODULE_0__.createLoginMessage)(payload),\n    });\n    return {\n        payload,\n        signature,\n    };\n}\n//# sourceMappingURL=sign-login-payload.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy90aGlyZHdlYi9kaXN0L2VzbS9hdXRoL2NvcmUvc2lnbi1sb2dpbi1wYXlsb2FkLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQStEO0FBQy9EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksbUJBQW1CO0FBQy9CO0FBQ0EsV0FBVyxxQkFBcUI7QUFDaEM7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDTztBQUNQLFlBQVksbUJBQW1CO0FBQy9CO0FBQ0EsaUJBQWlCLDRFQUFrQjtBQUNuQyxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy90aGlyZHdlYi9kaXN0L2VzbS9hdXRoL2NvcmUvc2lnbi1sb2dpbi1wYXlsb2FkLmpzPzA2MjQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlTG9naW5NZXNzYWdlIH0gZnJvbSBcIi4vY3JlYXRlLWxvZ2luLW1lc3NhZ2UuanNcIjtcbi8qKlxuICogU2lnbnMgdGhlIGxvZ2luIHBheWxvYWQgdXNpbmcgdGhlIHByb3ZpZGVkIGFjY291bnQuXG4gKiBAcGFyYW0gb3B0aW9ucyAtIFRoZSBvcHRpb25zIGZvciBzaWduaW5nIHRoZSBsb2dpbiBwYXlsb2FkLlxuICogQHJldHVybnMgQW4gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIHNpZ25hdHVyZSBhbmQgdGhlIHBheWxvYWQuXG4gKiBAZXhhbXBsZVxuICogYGBgdHNcbiAqIGltcG9ydCB7IHNpZ25Mb2dpblBheWxvYWQgfSBmcm9tICd0aGlyZHdlYi9hdXRoJztcbiAqXG4gKiBjb25zdCB7IHNpZ25hdHVyZSwgcGF5bG9hZCB9ID0gYXdhaXQgc2lnbkxvZ2luUGF5bG9hZCh7XG4gKiAgcGF5bG9hZDogbG9naW5QYXlsb2FkLFxuICogIGFjY291bnQ6IGFjY291bnQsXG4gKiB9KTtcbiAqIGBgYFxuICogQGF1dGhcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNpZ25Mb2dpblBheWxvYWQob3B0aW9ucykge1xuICAgIGNvbnN0IHsgcGF5bG9hZCwgYWNjb3VudCB9ID0gb3B0aW9ucztcbiAgICBjb25zdCBzaWduYXR1cmUgPSBhd2FpdCBhY2NvdW50LnNpZ25NZXNzYWdlKHtcbiAgICAgICAgbWVzc2FnZTogY3JlYXRlTG9naW5NZXNzYWdlKHBheWxvYWQpLFxuICAgIH0pO1xuICAgIHJldHVybiB7XG4gICAgICAgIHBheWxvYWQsXG4gICAgICAgIHNpZ25hdHVyZSxcbiAgICB9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2lnbi1sb2dpbi1wYXlsb2FkLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/thirdweb/dist/esm/auth/core/sign-login-payload.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/thirdweb/dist/esm/utils/storage/inMemoryStorage.js":
/*!*************************************************************************!*\
  !*** ./node_modules/thirdweb/dist/esm/utils/storage/inMemoryStorage.js ***!
  \*************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   inMemoryStorage: function() { return /* binding */ inMemoryStorage; }\n/* harmony export */ });\nconst store = new Map();\nconst inMemoryStorage = {\n    getItem: async (key) => {\n        return store.get(key) ?? null;\n    },\n    removeItem: async (key) => {\n        store.delete(key);\n    },\n    setItem: async (key, value) => {\n        store.set(key, value);\n    },\n};\n//# sourceMappingURL=inMemoryStorage.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy90aGlyZHdlYi9kaXN0L2VzbS91dGlscy9zdG9yYWdlL2luTWVtb3J5U3RvcmFnZS5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDTztBQUNQO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL3RoaXJkd2ViL2Rpc3QvZXNtL3V0aWxzL3N0b3JhZ2UvaW5NZW1vcnlTdG9yYWdlLmpzP2MyZGUiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3Qgc3RvcmUgPSBuZXcgTWFwKCk7XG5leHBvcnQgY29uc3QgaW5NZW1vcnlTdG9yYWdlID0ge1xuICAgIGdldEl0ZW06IGFzeW5jIChrZXkpID0+IHtcbiAgICAgICAgcmV0dXJuIHN0b3JlLmdldChrZXkpID8/IG51bGw7XG4gICAgfSxcbiAgICByZW1vdmVJdGVtOiBhc3luYyAoa2V5KSA9PiB7XG4gICAgICAgIHN0b3JlLmRlbGV0ZShrZXkpO1xuICAgIH0sXG4gICAgc2V0SXRlbTogYXN5bmMgKGtleSwgdmFsdWUpID0+IHtcbiAgICAgICAgc3RvcmUuc2V0KGtleSwgdmFsdWUpO1xuICAgIH0sXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5NZW1vcnlTdG9yYWdlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/thirdweb/dist/esm/utils/storage/inMemoryStorage.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/core/actions/generate-wallet.enclave.js":
/*!***********************************************************************************************!*\
  !*** ./node_modules/thirdweb/dist/esm/wallets/in-app/core/actions/generate-wallet.enclave.js ***!
  \***********************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   generateWallet: function() { return /* binding */ generateWallet; }\n/* harmony export */ });\n/* harmony import */ var _utils_domains_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../utils/domains.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/utils/domains.js\");\n/* harmony import */ var _utils_fetch_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../utils/fetch.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/utils/fetch.js\");\n\n\n/**\n * Generate a new enclave wallet using an auth token\n * @internal\n */\nasync function generateWallet({ client, ecosystem, authToken, }) {\n    const clientFetch = (0,_utils_fetch_js__WEBPACK_IMPORTED_MODULE_0__.getClientFetch)(client, ecosystem);\n    const response = await clientFetch(`${(0,_utils_domains_js__WEBPACK_IMPORTED_MODULE_1__.getThirdwebBaseUrl)(\"inAppWallet\")}/api/v1/enclave-wallet/generate`, {\n        headers: {\n            Authorization: `Bearer embedded-wallet-token:${authToken}`,\n            \"Content-Type\": \"application/json\",\n            \"x-thirdweb-client-id\": client.clientId,\n        },\n        method: \"POST\",\n    });\n    if (!response.ok) {\n        throw new Error(`Failed to generate wallet - ${response.status} ${response.statusText}`);\n    }\n    const { wallet } = (await response.json());\n    return wallet;\n}\n//# sourceMappingURL=generate-wallet.enclave.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy90aGlyZHdlYi9kaXN0L2VzbS93YWxsZXRzL2luLWFwcC9jb3JlL2FjdGlvbnMvZ2VuZXJhdGUtd2FsbGV0LmVuY2xhdmUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQWtFO0FBQ047QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDTyxnQ0FBZ0MsK0JBQStCO0FBQ3RFLHdCQUF3QiwrREFBYztBQUN0QywwQ0FBMEMscUVBQWtCLGdCQUFnQjtBQUM1RTtBQUNBLDJEQUEyRCxVQUFVO0FBQ3JFO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxLQUFLO0FBQ0w7QUFDQSx1REFBdUQsaUJBQWlCLEVBQUUsb0JBQW9CO0FBQzlGO0FBQ0EsWUFBWSxTQUFTO0FBQ3JCO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvdGhpcmR3ZWIvZGlzdC9lc20vd2FsbGV0cy9pbi1hcHAvY29yZS9hY3Rpb25zL2dlbmVyYXRlLXdhbGxldC5lbmNsYXZlLmpzPzZjN2EiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZ2V0VGhpcmR3ZWJCYXNlVXJsIH0gZnJvbSBcIi4uLy4uLy4uLy4uL3V0aWxzL2RvbWFpbnMuanNcIjtcbmltcG9ydCB7IGdldENsaWVudEZldGNoIH0gZnJvbSBcIi4uLy4uLy4uLy4uL3V0aWxzL2ZldGNoLmpzXCI7XG4vKipcbiAqIEdlbmVyYXRlIGEgbmV3IGVuY2xhdmUgd2FsbGV0IHVzaW5nIGFuIGF1dGggdG9rZW5cbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2VuZXJhdGVXYWxsZXQoeyBjbGllbnQsIGVjb3N5c3RlbSwgYXV0aFRva2VuLCB9KSB7XG4gICAgY29uc3QgY2xpZW50RmV0Y2ggPSBnZXRDbGllbnRGZXRjaChjbGllbnQsIGVjb3N5c3RlbSk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBjbGllbnRGZXRjaChgJHtnZXRUaGlyZHdlYkJhc2VVcmwoXCJpbkFwcFdhbGxldFwiKX0vYXBpL3YxL2VuY2xhdmUtd2FsbGV0L2dlbmVyYXRlYCwge1xuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyIGVtYmVkZGVkLXdhbGxldC10b2tlbjoke2F1dGhUb2tlbn1gLFxuICAgICAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICAgICAgICBcIngtdGhpcmR3ZWItY2xpZW50LWlkXCI6IGNsaWVudC5jbGllbnRJZCxcbiAgICAgICAgfSxcbiAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICB9KTtcbiAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIGdlbmVyYXRlIHdhbGxldCAtICR7cmVzcG9uc2Uuc3RhdHVzfSAke3Jlc3BvbnNlLnN0YXR1c1RleHR9YCk7XG4gICAgfVxuICAgIGNvbnN0IHsgd2FsbGV0IH0gPSAoYXdhaXQgcmVzcG9uc2UuanNvbigpKTtcbiAgICByZXR1cm4gd2FsbGV0O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Z2VuZXJhdGUtd2FsbGV0LmVuY2xhdmUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/core/actions/generate-wallet.enclave.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/core/actions/get-enclave-user-status.js":
/*!***********************************************************************************************!*\
  !*** ./node_modules/thirdweb/dist/esm/wallets/in-app/core/actions/get-enclave-user-status.js ***!
  \***********************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getUserStatus: function() { return /* binding */ getUserStatus; }\n/* harmony export */ });\n/* harmony import */ var _utils_domains_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../utils/domains.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/utils/domains.js\");\n/* harmony import */ var _utils_fetch_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../utils/fetch.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/utils/fetch.js\");\n\n\n/**\n * Gets the user's status from the backend.\n *\n * @internal\n */\nasync function getUserStatus({ authToken, client, ecosystem, }) {\n    const clientFetch = (0,_utils_fetch_js__WEBPACK_IMPORTED_MODULE_0__.getClientFetch)(client, ecosystem);\n    const response = await clientFetch(`${(0,_utils_domains_js__WEBPACK_IMPORTED_MODULE_1__.getThirdwebBaseUrl)(\"inAppWallet\")}/api/2024-05-05/accounts`, {\n        headers: {\n            Authorization: `Bearer embedded-wallet-token:${authToken}`,\n            \"Content-Type\": \"application/json\",\n        },\n        method: \"GET\",\n    });\n    if (!response.ok) {\n        const result = await response.text().catch(() => {\n            return \"Unknown error\";\n        });\n        throw new Error(`Failed to get user info: ${result}`);\n    }\n    return (await response.json());\n}\n//# sourceMappingURL=get-enclave-user-status.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy90aGlyZHdlYi9kaXN0L2VzbS93YWxsZXRzL2luLWFwcC9jb3JlL2FjdGlvbnMvZ2V0LWVuY2xhdmUtdXNlci1zdGF0dXMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQWtFO0FBQ047QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPLCtCQUErQiwrQkFBK0I7QUFDckUsd0JBQXdCLCtEQUFjO0FBQ3RDLDBDQUEwQyxxRUFBa0IsZ0JBQWdCO0FBQzVFO0FBQ0EsMkRBQTJELFVBQVU7QUFDckU7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULG9EQUFvRCxPQUFPO0FBQzNEO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy90aGlyZHdlYi9kaXN0L2VzbS93YWxsZXRzL2luLWFwcC9jb3JlL2FjdGlvbnMvZ2V0LWVuY2xhdmUtdXNlci1zdGF0dXMuanM/MDJlMyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBnZXRUaGlyZHdlYkJhc2VVcmwgfSBmcm9tIFwiLi4vLi4vLi4vLi4vdXRpbHMvZG9tYWlucy5qc1wiO1xuaW1wb3J0IHsgZ2V0Q2xpZW50RmV0Y2ggfSBmcm9tIFwiLi4vLi4vLi4vLi4vdXRpbHMvZmV0Y2guanNcIjtcbi8qKlxuICogR2V0cyB0aGUgdXNlcidzIHN0YXR1cyBmcm9tIHRoZSBiYWNrZW5kLlxuICpcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0VXNlclN0YXR1cyh7IGF1dGhUb2tlbiwgY2xpZW50LCBlY29zeXN0ZW0sIH0pIHtcbiAgICBjb25zdCBjbGllbnRGZXRjaCA9IGdldENsaWVudEZldGNoKGNsaWVudCwgZWNvc3lzdGVtKTtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGNsaWVudEZldGNoKGAke2dldFRoaXJkd2ViQmFzZVVybChcImluQXBwV2FsbGV0XCIpfS9hcGkvMjAyNC0wNS0wNS9hY2NvdW50c2AsIHtcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogYEJlYXJlciBlbWJlZGRlZC13YWxsZXQtdG9rZW46JHthdXRoVG9rZW59YCxcbiAgICAgICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgICB9LFxuICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgfSk7XG4gICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS50ZXh0KCkuY2F0Y2goKCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIFwiVW5rbm93biBlcnJvclwiO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gZ2V0IHVzZXIgaW5mbzogJHtyZXN1bHR9YCk7XG4gICAgfVxuICAgIHJldHVybiAoYXdhaXQgcmVzcG9uc2UuanNvbigpKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdldC1lbmNsYXZlLXVzZXItc3RhdHVzLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/core/actions/get-enclave-user-status.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/core/actions/sign-authorization.enclave.js":
/*!**************************************************************************************************!*\
  !*** ./node_modules/thirdweb/dist/esm/wallets/in-app/core/actions/sign-authorization.enclave.js ***!
  \**************************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   signAuthorization: function() { return /* binding */ signAuthorization; }\n/* harmony export */ });\n/* harmony import */ var _utils_domains_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../utils/domains.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/utils/domains.js\");\n/* harmony import */ var _utils_fetch_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../utils/fetch.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/utils/fetch.js\");\n/* harmony import */ var _utils_json_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../utils/json.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/utils/json.js\");\n\n\n\nasync function signAuthorization({ client, payload, storage, }) {\n    const authToken = await storage.getAuthCookie();\n    const ecosystem = storage.ecosystem;\n    const clientFetch = (0,_utils_fetch_js__WEBPACK_IMPORTED_MODULE_0__.getClientFetch)(client, ecosystem);\n    if (!authToken) {\n        throw new Error(\"No auth token found when signing message\");\n    }\n    const body = {\n        address: payload.address,\n        chainId: payload.chainId,\n        nonce: Number(payload.nonce),\n    };\n    const response = await clientFetch(`${(0,_utils_domains_js__WEBPACK_IMPORTED_MODULE_1__.getThirdwebBaseUrl)(\"inAppWallet\")}/api/v1/enclave-wallet/sign-authorization`, {\n        body: (0,_utils_json_js__WEBPACK_IMPORTED_MODULE_2__.stringify)(body),\n        headers: {\n            Authorization: `Bearer embedded-wallet-token:${authToken}`,\n            \"Content-Type\": \"application/json\",\n            \"x-thirdweb-client-id\": client.clientId,\n        },\n        method: \"POST\",\n    });\n    if (!response.ok) {\n        throw new Error(`Failed to sign message - ${response.status} ${response.statusText}`);\n    }\n    const signedAuthorization = (await response.json());\n    return signedAuthorization;\n}\n//# sourceMappingURL=sign-authorization.enclave.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy90aGlyZHdlYi9kaXN0L2VzbS93YWxsZXRzL2luLWFwcC9jb3JlL2FjdGlvbnMvc2lnbi1hdXRob3JpemF0aW9uLmVuY2xhdmUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFrRTtBQUNOO0FBQ047QUFDL0MsbUNBQW1DLDJCQUEyQjtBQUNyRTtBQUNBO0FBQ0Esd0JBQXdCLCtEQUFjO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEMscUVBQWtCLGdCQUFnQjtBQUM1RSxjQUFjLHlEQUFTO0FBQ3ZCO0FBQ0EsMkRBQTJELFVBQVU7QUFDckU7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLEtBQUs7QUFDTDtBQUNBLG9EQUFvRCxpQkFBaUIsRUFBRSxvQkFBb0I7QUFDM0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvdGhpcmR3ZWIvZGlzdC9lc20vd2FsbGV0cy9pbi1hcHAvY29yZS9hY3Rpb25zL3NpZ24tYXV0aG9yaXphdGlvbi5lbmNsYXZlLmpzPzBiMGYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZ2V0VGhpcmR3ZWJCYXNlVXJsIH0gZnJvbSBcIi4uLy4uLy4uLy4uL3V0aWxzL2RvbWFpbnMuanNcIjtcbmltcG9ydCB7IGdldENsaWVudEZldGNoIH0gZnJvbSBcIi4uLy4uLy4uLy4uL3V0aWxzL2ZldGNoLmpzXCI7XG5pbXBvcnQgeyBzdHJpbmdpZnkgfSBmcm9tIFwiLi4vLi4vLi4vLi4vdXRpbHMvanNvbi5qc1wiO1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNpZ25BdXRob3JpemF0aW9uKHsgY2xpZW50LCBwYXlsb2FkLCBzdG9yYWdlLCB9KSB7XG4gICAgY29uc3QgYXV0aFRva2VuID0gYXdhaXQgc3RvcmFnZS5nZXRBdXRoQ29va2llKCk7XG4gICAgY29uc3QgZWNvc3lzdGVtID0gc3RvcmFnZS5lY29zeXN0ZW07XG4gICAgY29uc3QgY2xpZW50RmV0Y2ggPSBnZXRDbGllbnRGZXRjaChjbGllbnQsIGVjb3N5c3RlbSk7XG4gICAgaWYgKCFhdXRoVG9rZW4pIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm8gYXV0aCB0b2tlbiBmb3VuZCB3aGVuIHNpZ25pbmcgbWVzc2FnZVwiKTtcbiAgICB9XG4gICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgYWRkcmVzczogcGF5bG9hZC5hZGRyZXNzLFxuICAgICAgICBjaGFpbklkOiBwYXlsb2FkLmNoYWluSWQsXG4gICAgICAgIG5vbmNlOiBOdW1iZXIocGF5bG9hZC5ub25jZSksXG4gICAgfTtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGNsaWVudEZldGNoKGAke2dldFRoaXJkd2ViQmFzZVVybChcImluQXBwV2FsbGV0XCIpfS9hcGkvdjEvZW5jbGF2ZS13YWxsZXQvc2lnbi1hdXRob3JpemF0aW9uYCwge1xuICAgICAgICBib2R5OiBzdHJpbmdpZnkoYm9keSksXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgZW1iZWRkZWQtd2FsbGV0LXRva2VuOiR7YXV0aFRva2VufWAsXG4gICAgICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgICAgICAgIFwieC10aGlyZHdlYi1jbGllbnQtaWRcIjogY2xpZW50LmNsaWVudElkLFxuICAgICAgICB9LFxuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgIH0pO1xuICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gc2lnbiBtZXNzYWdlIC0gJHtyZXNwb25zZS5zdGF0dXN9ICR7cmVzcG9uc2Uuc3RhdHVzVGV4dH1gKTtcbiAgICB9XG4gICAgY29uc3Qgc2lnbmVkQXV0aG9yaXphdGlvbiA9IChhd2FpdCByZXNwb25zZS5qc29uKCkpO1xuICAgIHJldHVybiBzaWduZWRBdXRob3JpemF0aW9uO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2lnbi1hdXRob3JpemF0aW9uLmVuY2xhdmUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/core/actions/sign-authorization.enclave.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/core/actions/sign-message.enclave.js":
/*!********************************************************************************************!*\
  !*** ./node_modules/thirdweb/dist/esm/wallets/in-app/core/actions/sign-message.enclave.js ***!
  \********************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   signMessage: function() { return /* binding */ signMessage; }\n/* harmony export */ });\n/* harmony import */ var _utils_domains_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../utils/domains.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/utils/domains.js\");\n/* harmony import */ var _utils_fetch_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../utils/fetch.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/utils/fetch.js\");\n/* harmony import */ var _utils_json_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../utils/json.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/utils/json.js\");\n\n\n\nasync function signMessage({ client, payload: { message, isRaw, originalMessage, chainId }, storage, }) {\n    const authToken = await storage.getAuthCookie();\n    const ecosystem = storage.ecosystem;\n    const clientFetch = (0,_utils_fetch_js__WEBPACK_IMPORTED_MODULE_0__.getClientFetch)(client, ecosystem);\n    if (!authToken) {\n        throw new Error(\"No auth token found when signing message\");\n    }\n    const response = await clientFetch(`${(0,_utils_domains_js__WEBPACK_IMPORTED_MODULE_1__.getThirdwebBaseUrl)(\"inAppWallet\")}/api/v1/enclave-wallet/sign-message`, {\n        body: (0,_utils_json_js__WEBPACK_IMPORTED_MODULE_2__.stringify)({\n            messagePayload: {\n                chainId,\n                isRaw,\n                message,\n                originalMessage,\n            },\n        }),\n        headers: {\n            Authorization: `Bearer embedded-wallet-token:${authToken}`,\n            \"Content-Type\": \"application/json\",\n            \"x-thirdweb-client-id\": client.clientId,\n        },\n        method: \"POST\",\n    });\n    if (!response.ok) {\n        throw new Error(`Failed to sign message - ${response.status} ${response.statusText}`);\n    }\n    const signedMessage = (await response.json());\n    return signedMessage;\n}\n//# sourceMappingURL=sign-message.enclave.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy90aGlyZHdlYi9kaXN0L2VzbS93YWxsZXRzL2luLWFwcC9jb3JlL2FjdGlvbnMvc2lnbi1tZXNzYWdlLmVuY2xhdmUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFrRTtBQUNOO0FBQ047QUFDL0MsNkJBQTZCLG1CQUFtQiwwQ0FBMEMsWUFBWTtBQUM3RztBQUNBO0FBQ0Esd0JBQXdCLCtEQUFjO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQyxxRUFBa0IsZ0JBQWdCO0FBQzVFLGNBQWMseURBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQSwyREFBMkQsVUFBVTtBQUNyRTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsS0FBSztBQUNMO0FBQ0Esb0RBQW9ELGlCQUFpQixFQUFFLG9CQUFvQjtBQUMzRjtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy90aGlyZHdlYi9kaXN0L2VzbS93YWxsZXRzL2luLWFwcC9jb3JlL2FjdGlvbnMvc2lnbi1tZXNzYWdlLmVuY2xhdmUuanM/MWU2MCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBnZXRUaGlyZHdlYkJhc2VVcmwgfSBmcm9tIFwiLi4vLi4vLi4vLi4vdXRpbHMvZG9tYWlucy5qc1wiO1xuaW1wb3J0IHsgZ2V0Q2xpZW50RmV0Y2ggfSBmcm9tIFwiLi4vLi4vLi4vLi4vdXRpbHMvZmV0Y2guanNcIjtcbmltcG9ydCB7IHN0cmluZ2lmeSB9IGZyb20gXCIuLi8uLi8uLi8uLi91dGlscy9qc29uLmpzXCI7XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2lnbk1lc3NhZ2UoeyBjbGllbnQsIHBheWxvYWQ6IHsgbWVzc2FnZSwgaXNSYXcsIG9yaWdpbmFsTWVzc2FnZSwgY2hhaW5JZCB9LCBzdG9yYWdlLCB9KSB7XG4gICAgY29uc3QgYXV0aFRva2VuID0gYXdhaXQgc3RvcmFnZS5nZXRBdXRoQ29va2llKCk7XG4gICAgY29uc3QgZWNvc3lzdGVtID0gc3RvcmFnZS5lY29zeXN0ZW07XG4gICAgY29uc3QgY2xpZW50RmV0Y2ggPSBnZXRDbGllbnRGZXRjaChjbGllbnQsIGVjb3N5c3RlbSk7XG4gICAgaWYgKCFhdXRoVG9rZW4pIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm8gYXV0aCB0b2tlbiBmb3VuZCB3aGVuIHNpZ25pbmcgbWVzc2FnZVwiKTtcbiAgICB9XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBjbGllbnRGZXRjaChgJHtnZXRUaGlyZHdlYkJhc2VVcmwoXCJpbkFwcFdhbGxldFwiKX0vYXBpL3YxL2VuY2xhdmUtd2FsbGV0L3NpZ24tbWVzc2FnZWAsIHtcbiAgICAgICAgYm9keTogc3RyaW5naWZ5KHtcbiAgICAgICAgICAgIG1lc3NhZ2VQYXlsb2FkOiB7XG4gICAgICAgICAgICAgICAgY2hhaW5JZCxcbiAgICAgICAgICAgICAgICBpc1JhdyxcbiAgICAgICAgICAgICAgICBtZXNzYWdlLFxuICAgICAgICAgICAgICAgIG9yaWdpbmFsTWVzc2FnZSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyIGVtYmVkZGVkLXdhbGxldC10b2tlbjoke2F1dGhUb2tlbn1gLFxuICAgICAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICAgICAgICBcIngtdGhpcmR3ZWItY2xpZW50LWlkXCI6IGNsaWVudC5jbGllbnRJZCxcbiAgICAgICAgfSxcbiAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICB9KTtcbiAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIHNpZ24gbWVzc2FnZSAtICR7cmVzcG9uc2Uuc3RhdHVzfSAke3Jlc3BvbnNlLnN0YXR1c1RleHR9YCk7XG4gICAgfVxuICAgIGNvbnN0IHNpZ25lZE1lc3NhZ2UgPSAoYXdhaXQgcmVzcG9uc2UuanNvbigpKTtcbiAgICByZXR1cm4gc2lnbmVkTWVzc2FnZTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNpZ24tbWVzc2FnZS5lbmNsYXZlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/core/actions/sign-message.enclave.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/core/actions/sign-transaction.enclave.js":
/*!************************************************************************************************!*\
  !*** ./node_modules/thirdweb/dist/esm/wallets/in-app/core/actions/sign-transaction.enclave.js ***!
  \************************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   signTransaction: function() { return /* binding */ signTransaction; }\n/* harmony export */ });\n/* harmony import */ var _utils_domains_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../utils/domains.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/utils/domains.js\");\n/* harmony import */ var _utils_fetch_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../utils/fetch.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/utils/fetch.js\");\n/* harmony import */ var _utils_json_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../utils/json.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/utils/json.js\");\n\n\n\nasync function signTransaction({ client, payload, storage, }) {\n    const authToken = await storage.getAuthCookie();\n    const ecosystem = storage.ecosystem;\n    const clientFetch = (0,_utils_fetch_js__WEBPACK_IMPORTED_MODULE_0__.getClientFetch)(client, ecosystem);\n    if (!authToken) {\n        throw new Error(\"No auth token found when signing transaction\");\n    }\n    const response = await clientFetch(`${(0,_utils_domains_js__WEBPACK_IMPORTED_MODULE_1__.getThirdwebBaseUrl)(\"inAppWallet\")}/api/v1/enclave-wallet/sign-transaction`, {\n        body: (0,_utils_json_js__WEBPACK_IMPORTED_MODULE_2__.stringify)({\n            transactionPayload: payload,\n        }),\n        headers: {\n            Authorization: `Bearer embedded-wallet-token:${authToken}`,\n            \"Content-Type\": \"application/json\",\n            \"x-thirdweb-client-id\": client.clientId,\n        },\n        method: \"POST\",\n    });\n    if (!response.ok) {\n        throw new Error(`Failed to sign transaction - ${response.status} ${response.statusText}`);\n    }\n    const signedTransaction = (await response.json());\n    return signedTransaction.signature;\n}\n//# sourceMappingURL=sign-transaction.enclave.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy90aGlyZHdlYi9kaXN0L2VzbS93YWxsZXRzL2luLWFwcC9jb3JlL2FjdGlvbnMvc2lnbi10cmFuc2FjdGlvbi5lbmNsYXZlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBa0U7QUFDTjtBQUNOO0FBQy9DLGlDQUFpQywyQkFBMkI7QUFDbkU7QUFDQTtBQUNBLHdCQUF3QiwrREFBYztBQUN0QztBQUNBO0FBQ0E7QUFDQSwwQ0FBMEMscUVBQWtCLGdCQUFnQjtBQUM1RSxjQUFjLHlEQUFTO0FBQ3ZCO0FBQ0EsU0FBUztBQUNUO0FBQ0EsMkRBQTJELFVBQVU7QUFDckU7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLEtBQUs7QUFDTDtBQUNBLHdEQUF3RCxpQkFBaUIsRUFBRSxvQkFBb0I7QUFDL0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvdGhpcmR3ZWIvZGlzdC9lc20vd2FsbGV0cy9pbi1hcHAvY29yZS9hY3Rpb25zL3NpZ24tdHJhbnNhY3Rpb24uZW5jbGF2ZS5qcz9lZmQwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGdldFRoaXJkd2ViQmFzZVVybCB9IGZyb20gXCIuLi8uLi8uLi8uLi91dGlscy9kb21haW5zLmpzXCI7XG5pbXBvcnQgeyBnZXRDbGllbnRGZXRjaCB9IGZyb20gXCIuLi8uLi8uLi8uLi91dGlscy9mZXRjaC5qc1wiO1xuaW1wb3J0IHsgc3RyaW5naWZ5IH0gZnJvbSBcIi4uLy4uLy4uLy4uL3V0aWxzL2pzb24uanNcIjtcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzaWduVHJhbnNhY3Rpb24oeyBjbGllbnQsIHBheWxvYWQsIHN0b3JhZ2UsIH0pIHtcbiAgICBjb25zdCBhdXRoVG9rZW4gPSBhd2FpdCBzdG9yYWdlLmdldEF1dGhDb29raWUoKTtcbiAgICBjb25zdCBlY29zeXN0ZW0gPSBzdG9yYWdlLmVjb3N5c3RlbTtcbiAgICBjb25zdCBjbGllbnRGZXRjaCA9IGdldENsaWVudEZldGNoKGNsaWVudCwgZWNvc3lzdGVtKTtcbiAgICBpZiAoIWF1dGhUb2tlbikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJObyBhdXRoIHRva2VuIGZvdW5kIHdoZW4gc2lnbmluZyB0cmFuc2FjdGlvblwiKTtcbiAgICB9XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBjbGllbnRGZXRjaChgJHtnZXRUaGlyZHdlYkJhc2VVcmwoXCJpbkFwcFdhbGxldFwiKX0vYXBpL3YxL2VuY2xhdmUtd2FsbGV0L3NpZ24tdHJhbnNhY3Rpb25gLCB7XG4gICAgICAgIGJvZHk6IHN0cmluZ2lmeSh7XG4gICAgICAgICAgICB0cmFuc2FjdGlvblBheWxvYWQ6IHBheWxvYWQsXG4gICAgICAgIH0pLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyIGVtYmVkZGVkLXdhbGxldC10b2tlbjoke2F1dGhUb2tlbn1gLFxuICAgICAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICAgICAgICBcIngtdGhpcmR3ZWItY2xpZW50LWlkXCI6IGNsaWVudC5jbGllbnRJZCxcbiAgICAgICAgfSxcbiAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICB9KTtcbiAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIHNpZ24gdHJhbnNhY3Rpb24gLSAke3Jlc3BvbnNlLnN0YXR1c30gJHtyZXNwb25zZS5zdGF0dXNUZXh0fWApO1xuICAgIH1cbiAgICBjb25zdCBzaWduZWRUcmFuc2FjdGlvbiA9IChhd2FpdCByZXNwb25zZS5qc29uKCkpO1xuICAgIHJldHVybiBzaWduZWRUcmFuc2FjdGlvbi5zaWduYXR1cmU7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zaWduLXRyYW5zYWN0aW9uLmVuY2xhdmUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/core/actions/sign-transaction.enclave.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/core/actions/sign-typed-data.enclave.js":
/*!***********************************************************************************************!*\
  !*** ./node_modules/thirdweb/dist/esm/wallets/in-app/core/actions/sign-typed-data.enclave.js ***!
  \***********************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   signTypedData: function() { return /* binding */ signTypedData; }\n/* harmony export */ });\n/* harmony import */ var _utils_domains_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../utils/domains.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/utils/domains.js\");\n/* harmony import */ var _utils_fetch_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../utils/fetch.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/utils/fetch.js\");\n/* harmony import */ var _utils_json_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../utils/json.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/utils/json.js\");\n\n\n\nasync function signTypedData({ client, payload, storage, }) {\n    const authToken = await storage.getAuthCookie();\n    const ecosystem = storage.ecosystem;\n    const clientFetch = (0,_utils_fetch_js__WEBPACK_IMPORTED_MODULE_0__.getClientFetch)(client, ecosystem);\n    if (!authToken) {\n        throw new Error(\"No auth token found when signing typed data\");\n    }\n    const response = await clientFetch(`${(0,_utils_domains_js__WEBPACK_IMPORTED_MODULE_1__.getThirdwebBaseUrl)(\"inAppWallet\")}/api/v1/enclave-wallet/sign-typed-data`, {\n        body: (0,_utils_json_js__WEBPACK_IMPORTED_MODULE_2__.stringify)({\n            ...payload,\n        }),\n        headers: {\n            Authorization: `Bearer embedded-wallet-token:${authToken}`,\n            \"Content-Type\": \"application/json\",\n            \"x-thirdweb-client-id\": client.clientId,\n        },\n        method: \"POST\",\n    });\n    if (!response.ok) {\n        throw new Error(`Failed to sign typed data - ${response.status} ${response.statusText}`);\n    }\n    const signedTypedData = (await response.json());\n    return signedTypedData;\n}\n//# sourceMappingURL=sign-typed-data.enclave.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy90aGlyZHdlYi9kaXN0L2VzbS93YWxsZXRzL2luLWFwcC9jb3JlL2FjdGlvbnMvc2lnbi10eXBlZC1kYXRhLmVuY2xhdmUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFrRTtBQUNOO0FBQ047QUFDL0MsK0JBQStCLDJCQUEyQjtBQUNqRTtBQUNBO0FBQ0Esd0JBQXdCLCtEQUFjO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQyxxRUFBa0IsZ0JBQWdCO0FBQzVFLGNBQWMseURBQVM7QUFDdkI7QUFDQSxTQUFTO0FBQ1Q7QUFDQSwyREFBMkQsVUFBVTtBQUNyRTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsS0FBSztBQUNMO0FBQ0EsdURBQXVELGlCQUFpQixFQUFFLG9CQUFvQjtBQUM5RjtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy90aGlyZHdlYi9kaXN0L2VzbS93YWxsZXRzL2luLWFwcC9jb3JlL2FjdGlvbnMvc2lnbi10eXBlZC1kYXRhLmVuY2xhdmUuanM/OGE1NyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBnZXRUaGlyZHdlYkJhc2VVcmwgfSBmcm9tIFwiLi4vLi4vLi4vLi4vdXRpbHMvZG9tYWlucy5qc1wiO1xuaW1wb3J0IHsgZ2V0Q2xpZW50RmV0Y2ggfSBmcm9tIFwiLi4vLi4vLi4vLi4vdXRpbHMvZmV0Y2guanNcIjtcbmltcG9ydCB7IHN0cmluZ2lmeSB9IGZyb20gXCIuLi8uLi8uLi8uLi91dGlscy9qc29uLmpzXCI7XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2lnblR5cGVkRGF0YSh7IGNsaWVudCwgcGF5bG9hZCwgc3RvcmFnZSwgfSkge1xuICAgIGNvbnN0IGF1dGhUb2tlbiA9IGF3YWl0IHN0b3JhZ2UuZ2V0QXV0aENvb2tpZSgpO1xuICAgIGNvbnN0IGVjb3N5c3RlbSA9IHN0b3JhZ2UuZWNvc3lzdGVtO1xuICAgIGNvbnN0IGNsaWVudEZldGNoID0gZ2V0Q2xpZW50RmV0Y2goY2xpZW50LCBlY29zeXN0ZW0pO1xuICAgIGlmICghYXV0aFRva2VuKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIk5vIGF1dGggdG9rZW4gZm91bmQgd2hlbiBzaWduaW5nIHR5cGVkIGRhdGFcIik7XG4gICAgfVxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgY2xpZW50RmV0Y2goYCR7Z2V0VGhpcmR3ZWJCYXNlVXJsKFwiaW5BcHBXYWxsZXRcIil9L2FwaS92MS9lbmNsYXZlLXdhbGxldC9zaWduLXR5cGVkLWRhdGFgLCB7XG4gICAgICAgIGJvZHk6IHN0cmluZ2lmeSh7XG4gICAgICAgICAgICAuLi5wYXlsb2FkLFxuICAgICAgICB9KSxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogYEJlYXJlciBlbWJlZGRlZC13YWxsZXQtdG9rZW46JHthdXRoVG9rZW59YCxcbiAgICAgICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgICAgICAgXCJ4LXRoaXJkd2ViLWNsaWVudC1pZFwiOiBjbGllbnQuY2xpZW50SWQsXG4gICAgICAgIH0sXG4gICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgfSk7XG4gICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBzaWduIHR5cGVkIGRhdGEgLSAke3Jlc3BvbnNlLnN0YXR1c30gJHtyZXNwb25zZS5zdGF0dXNUZXh0fWApO1xuICAgIH1cbiAgICBjb25zdCBzaWduZWRUeXBlZERhdGEgPSAoYXdhaXQgcmVzcG9uc2UuanNvbigpKTtcbiAgICByZXR1cm4gc2lnbmVkVHlwZWREYXRhO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2lnbi10eXBlZC1kYXRhLmVuY2xhdmUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/core/actions/sign-typed-data.enclave.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/core/authentication/authEndpoint.js":
/*!*******************************************************************************************!*\
  !*** ./node_modules/thirdweb/dist/esm/wallets/in-app/core/authentication/authEndpoint.js ***!
  \*******************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   authEndpoint: function() { return /* binding */ authEndpoint; }\n/* harmony export */ });\n/* harmony import */ var _utils_fetch_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../utils/fetch.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/utils/fetch.js\");\n/* harmony import */ var _utils_json_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../utils/json.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/utils/json.js\");\n/* harmony import */ var _native_helpers_constants_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../native/helpers/constants.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/native/helpers/constants.js\");\n/* harmony import */ var _native_helpers_errors_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../native/helpers/errors.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/native/helpers/errors.js\");\n\n\n\n\nasync function authEndpoint(args) {\n    const clientFetch = (0,_utils_fetch_js__WEBPACK_IMPORTED_MODULE_0__.getClientFetch)(args.client, args.ecosystem);\n    const res = await clientFetch(_native_helpers_constants_js__WEBPACK_IMPORTED_MODULE_1__.ROUTE_AUTH_ENDPOINT_CALLBACK, {\n        body: (0,_utils_json_js__WEBPACK_IMPORTED_MODULE_2__.stringify)({\n            developerClientId: args.client.clientId,\n            payload: args.payload,\n        }),\n        headers: {\n            \"Content-Type\": \"application/json\",\n        },\n        method: \"POST\",\n    });\n    if (!res.ok) {\n        const error = await res.json();\n        throw new Error(`Custom auth endpoint authentication error: ${error.message}`);\n    }\n    try {\n        const { verifiedToken } = await res.json();\n        return { storedToken: verifiedToken };\n    }\n    catch (e) {\n        throw new Error((0,_native_helpers_errors_js__WEBPACK_IMPORTED_MODULE_3__.createErrorMessage)(\"Malformed response from post auth_endpoint authentication\", e));\n    }\n}\n//# sourceMappingURL=authEndpoint.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy90aGlyZHdlYi9kaXN0L2VzbS93YWxsZXRzL2luLWFwcC9jb3JlL2F1dGhlbnRpY2F0aW9uL2F1dGhFbmRwb2ludC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUE0RDtBQUNOO0FBQzJCO0FBQ2I7QUFDN0Q7QUFDUCx3QkFBd0IsK0RBQWM7QUFDdEMsa0NBQWtDLHNGQUE0QjtBQUM5RCxjQUFjLHlEQUFTO0FBQ3ZCO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0Esc0VBQXNFLGNBQWM7QUFDcEY7QUFDQTtBQUNBLGdCQUFnQixnQkFBZ0I7QUFDaEMsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQSx3QkFBd0IsNkVBQWtCO0FBQzFDO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvdGhpcmR3ZWIvZGlzdC9lc20vd2FsbGV0cy9pbi1hcHAvY29yZS9hdXRoZW50aWNhdGlvbi9hdXRoRW5kcG9pbnQuanM/YWIxMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBnZXRDbGllbnRGZXRjaCB9IGZyb20gXCIuLi8uLi8uLi8uLi91dGlscy9mZXRjaC5qc1wiO1xuaW1wb3J0IHsgc3RyaW5naWZ5IH0gZnJvbSBcIi4uLy4uLy4uLy4uL3V0aWxzL2pzb24uanNcIjtcbmltcG9ydCB7IFJPVVRFX0FVVEhfRU5EUE9JTlRfQ0FMTEJBQ0sgfSBmcm9tIFwiLi4vLi4vbmF0aXZlL2hlbHBlcnMvY29uc3RhbnRzLmpzXCI7XG5pbXBvcnQgeyBjcmVhdGVFcnJvck1lc3NhZ2UgfSBmcm9tIFwiLi4vLi4vbmF0aXZlL2hlbHBlcnMvZXJyb3JzLmpzXCI7XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gYXV0aEVuZHBvaW50KGFyZ3MpIHtcbiAgICBjb25zdCBjbGllbnRGZXRjaCA9IGdldENsaWVudEZldGNoKGFyZ3MuY2xpZW50LCBhcmdzLmVjb3N5c3RlbSk7XG4gICAgY29uc3QgcmVzID0gYXdhaXQgY2xpZW50RmV0Y2goUk9VVEVfQVVUSF9FTkRQT0lOVF9DQUxMQkFDSywge1xuICAgICAgICBib2R5OiBzdHJpbmdpZnkoe1xuICAgICAgICAgICAgZGV2ZWxvcGVyQ2xpZW50SWQ6IGFyZ3MuY2xpZW50LmNsaWVudElkLFxuICAgICAgICAgICAgcGF5bG9hZDogYXJncy5wYXlsb2FkLFxuICAgICAgICB9KSxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICAgIH0sXG4gICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgfSk7XG4gICAgaWYgKCFyZXMub2spIHtcbiAgICAgICAgY29uc3QgZXJyb3IgPSBhd2FpdCByZXMuanNvbigpO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEN1c3RvbSBhdXRoIGVuZHBvaW50IGF1dGhlbnRpY2F0aW9uIGVycm9yOiAke2Vycm9yLm1lc3NhZ2V9YCk7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHsgdmVyaWZpZWRUb2tlbiB9ID0gYXdhaXQgcmVzLmpzb24oKTtcbiAgICAgICAgcmV0dXJuIHsgc3RvcmVkVG9rZW46IHZlcmlmaWVkVG9rZW4gfTtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGNyZWF0ZUVycm9yTWVzc2FnZShcIk1hbGZvcm1lZCByZXNwb25zZSBmcm9tIHBvc3QgYXV0aF9lbmRwb2ludCBhdXRoZW50aWNhdGlvblwiLCBlKSk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXV0aEVuZHBvaW50LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/core/authentication/authEndpoint.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/core/authentication/backend.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/thirdweb/dist/esm/wallets/in-app/core/authentication/backend.js ***!
  \**************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   backendAuthenticate: function() { return /* binding */ backendAuthenticate; }\n/* harmony export */ });\n/* harmony import */ var _utils_fetch_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../utils/fetch.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/utils/fetch.js\");\n/* harmony import */ var _utils_json_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../utils/json.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/utils/json.js\");\n/* harmony import */ var _getLoginPath_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./getLoginPath.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/core/authentication/getLoginPath.js\");\n\n\n\n/**\n * Authenticates via the wallet secret\n * @internal\n */\nasync function backendAuthenticate(args) {\n    const clientFetch = (0,_utils_fetch_js__WEBPACK_IMPORTED_MODULE_0__.getClientFetch)(args.client, args.ecosystem);\n    const path = (0,_getLoginPath_js__WEBPACK_IMPORTED_MODULE_1__.getLoginUrl)({\n        authOption: \"backend\",\n        client: args.client,\n        ecosystem: args.ecosystem,\n    });\n    const res = await clientFetch(`${path}`, {\n        body: (0,_utils_json_js__WEBPACK_IMPORTED_MODULE_2__.stringify)({\n            walletSecret: args.walletSecret,\n        }),\n        headers: {\n            \"Content-Type\": \"application/json\",\n        },\n        method: \"POST\",\n    });\n    if (!res.ok) {\n        const error = await res.text();\n        throw new Error(`Failed to generate backend account: ${error}`);\n    }\n    return (await res.json());\n}\n//# sourceMappingURL=backend.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy90aGlyZHdlYi9kaXN0L2VzbS93YWxsZXRzL2luLWFwcC9jb3JlL2F1dGhlbnRpY2F0aW9uL2JhY2tlbmQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUE0RDtBQUNOO0FBQ047QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQLHdCQUF3QiwrREFBYztBQUN0QyxpQkFBaUIsNkRBQVc7QUFDNUI7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLHFDQUFxQyxLQUFLO0FBQzFDLGNBQWMseURBQVM7QUFDdkI7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsK0RBQStELE1BQU07QUFDckU7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL3RoaXJkd2ViL2Rpc3QvZXNtL3dhbGxldHMvaW4tYXBwL2NvcmUvYXV0aGVudGljYXRpb24vYmFja2VuZC5qcz9kOTBhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGdldENsaWVudEZldGNoIH0gZnJvbSBcIi4uLy4uLy4uLy4uL3V0aWxzL2ZldGNoLmpzXCI7XG5pbXBvcnQgeyBzdHJpbmdpZnkgfSBmcm9tIFwiLi4vLi4vLi4vLi4vdXRpbHMvanNvbi5qc1wiO1xuaW1wb3J0IHsgZ2V0TG9naW5VcmwgfSBmcm9tIFwiLi9nZXRMb2dpblBhdGguanNcIjtcbi8qKlxuICogQXV0aGVudGljYXRlcyB2aWEgdGhlIHdhbGxldCBzZWNyZXRcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gYmFja2VuZEF1dGhlbnRpY2F0ZShhcmdzKSB7XG4gICAgY29uc3QgY2xpZW50RmV0Y2ggPSBnZXRDbGllbnRGZXRjaChhcmdzLmNsaWVudCwgYXJncy5lY29zeXN0ZW0pO1xuICAgIGNvbnN0IHBhdGggPSBnZXRMb2dpblVybCh7XG4gICAgICAgIGF1dGhPcHRpb246IFwiYmFja2VuZFwiLFxuICAgICAgICBjbGllbnQ6IGFyZ3MuY2xpZW50LFxuICAgICAgICBlY29zeXN0ZW06IGFyZ3MuZWNvc3lzdGVtLFxuICAgIH0pO1xuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGNsaWVudEZldGNoKGAke3BhdGh9YCwge1xuICAgICAgICBib2R5OiBzdHJpbmdpZnkoe1xuICAgICAgICAgICAgd2FsbGV0U2VjcmV0OiBhcmdzLndhbGxldFNlY3JldCxcbiAgICAgICAgfSksXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgICB9LFxuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgIH0pO1xuICAgIGlmICghcmVzLm9rKSB7XG4gICAgICAgIGNvbnN0IGVycm9yID0gYXdhaXQgcmVzLnRleHQoKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gZ2VuZXJhdGUgYmFja2VuZCBhY2NvdW50OiAke2Vycm9yfWApO1xuICAgIH1cbiAgICByZXR1cm4gKGF3YWl0IHJlcy5qc29uKCkpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YmFja2VuZC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/core/authentication/backend.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/core/authentication/guest.js":
/*!************************************************************************************!*\
  !*** ./node_modules/thirdweb/dist/esm/wallets/in-app/core/authentication/guest.js ***!
  \************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   guestAuthenticate: function() { return /* binding */ guestAuthenticate; }\n/* harmony export */ });\n/* harmony import */ var _utils_fetch_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../utils/fetch.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/utils/fetch.js\");\n/* harmony import */ var _utils_json_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../utils/json.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/utils/json.js\");\n/* harmony import */ var _utils_random_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../utils/random.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/utils/random.js\");\n/* harmony import */ var _getLoginPath_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./getLoginPath.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/core/authentication/getLoginPath.js\");\n\n\n\n\n/**\n * Does no real authentication, just issues a temporary token for the user.\n * @internal\n */\nasync function guestAuthenticate(args) {\n    let sessionId = await args.storage.getGuestSessionId();\n    if (!sessionId) {\n        sessionId = (0,_utils_random_js__WEBPACK_IMPORTED_MODULE_0__.randomBytesHex)(32);\n        args.storage.saveGuestSessionId(sessionId);\n    }\n    const clientFetch = (0,_utils_fetch_js__WEBPACK_IMPORTED_MODULE_1__.getClientFetch)(args.client, args.ecosystem);\n    const path = (0,_getLoginPath_js__WEBPACK_IMPORTED_MODULE_2__.getLoginCallbackUrl)({\n        authOption: \"guest\",\n        client: args.client,\n        ecosystem: args.ecosystem,\n    });\n    const res = await clientFetch(`${path}`, {\n        body: (0,_utils_json_js__WEBPACK_IMPORTED_MODULE_3__.stringify)({\n            sessionId,\n        }),\n        headers: {\n            \"Content-Type\": \"application/json\",\n        },\n        method: \"POST\",\n    });\n    if (!res.ok) {\n        const error = await res.text();\n        throw new Error(`Failed to generate guest account: ${res.status} ${res.statusText} ${error}`);\n    }\n    return (await res.json());\n}\n//# sourceMappingURL=guest.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy90aGlyZHdlYi9kaXN0L2VzbS93YWxsZXRzL2luLWFwcC9jb3JlL2F1dGhlbnRpY2F0aW9uL2d1ZXN0LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQTREO0FBQ047QUFDTztBQUNMO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0Esb0JBQW9CLGdFQUFjO0FBQ2xDO0FBQ0E7QUFDQSx3QkFBd0IsK0RBQWM7QUFDdEMsaUJBQWlCLHFFQUFtQjtBQUNwQztBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wscUNBQXFDLEtBQUs7QUFDMUMsY0FBYyx5REFBUztBQUN2QjtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSw2REFBNkQsWUFBWSxFQUFFLGdCQUFnQixFQUFFLE1BQU07QUFDbkc7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL3RoaXJkd2ViL2Rpc3QvZXNtL3dhbGxldHMvaW4tYXBwL2NvcmUvYXV0aGVudGljYXRpb24vZ3Vlc3QuanM/OTQ1OSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBnZXRDbGllbnRGZXRjaCB9IGZyb20gXCIuLi8uLi8uLi8uLi91dGlscy9mZXRjaC5qc1wiO1xuaW1wb3J0IHsgc3RyaW5naWZ5IH0gZnJvbSBcIi4uLy4uLy4uLy4uL3V0aWxzL2pzb24uanNcIjtcbmltcG9ydCB7IHJhbmRvbUJ5dGVzSGV4IH0gZnJvbSBcIi4uLy4uLy4uLy4uL3V0aWxzL3JhbmRvbS5qc1wiO1xuaW1wb3J0IHsgZ2V0TG9naW5DYWxsYmFja1VybCB9IGZyb20gXCIuL2dldExvZ2luUGF0aC5qc1wiO1xuLyoqXG4gKiBEb2VzIG5vIHJlYWwgYXV0aGVudGljYXRpb24sIGp1c3QgaXNzdWVzIGEgdGVtcG9yYXJ5IHRva2VuIGZvciB0aGUgdXNlci5cbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ3Vlc3RBdXRoZW50aWNhdGUoYXJncykge1xuICAgIGxldCBzZXNzaW9uSWQgPSBhd2FpdCBhcmdzLnN0b3JhZ2UuZ2V0R3Vlc3RTZXNzaW9uSWQoKTtcbiAgICBpZiAoIXNlc3Npb25JZCkge1xuICAgICAgICBzZXNzaW9uSWQgPSByYW5kb21CeXRlc0hleCgzMik7XG4gICAgICAgIGFyZ3Muc3RvcmFnZS5zYXZlR3Vlc3RTZXNzaW9uSWQoc2Vzc2lvbklkKTtcbiAgICB9XG4gICAgY29uc3QgY2xpZW50RmV0Y2ggPSBnZXRDbGllbnRGZXRjaChhcmdzLmNsaWVudCwgYXJncy5lY29zeXN0ZW0pO1xuICAgIGNvbnN0IHBhdGggPSBnZXRMb2dpbkNhbGxiYWNrVXJsKHtcbiAgICAgICAgYXV0aE9wdGlvbjogXCJndWVzdFwiLFxuICAgICAgICBjbGllbnQ6IGFyZ3MuY2xpZW50LFxuICAgICAgICBlY29zeXN0ZW06IGFyZ3MuZWNvc3lzdGVtLFxuICAgIH0pO1xuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGNsaWVudEZldGNoKGAke3BhdGh9YCwge1xuICAgICAgICBib2R5OiBzdHJpbmdpZnkoe1xuICAgICAgICAgICAgc2Vzc2lvbklkLFxuICAgICAgICB9KSxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICAgIH0sXG4gICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgfSk7XG4gICAgaWYgKCFyZXMub2spIHtcbiAgICAgICAgY29uc3QgZXJyb3IgPSBhd2FpdCByZXMudGV4dCgpO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBnZW5lcmF0ZSBndWVzdCBhY2NvdW50OiAke3Jlcy5zdGF0dXN9ICR7cmVzLnN0YXR1c1RleHR9ICR7ZXJyb3J9YCk7XG4gICAgfVxuICAgIHJldHVybiAoYXdhaXQgcmVzLmpzb24oKSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1ndWVzdC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/core/authentication/guest.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/core/authentication/jwt.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/thirdweb/dist/esm/wallets/in-app/core/authentication/jwt.js ***!
  \**********************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   customJwt: function() { return /* binding */ customJwt; }\n/* harmony export */ });\n/* harmony import */ var _utils_fetch_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../utils/fetch.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/utils/fetch.js\");\n/* harmony import */ var _utils_json_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../utils/json.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/utils/json.js\");\n/* harmony import */ var _native_helpers_constants_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../native/helpers/constants.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/native/helpers/constants.js\");\n/* harmony import */ var _native_helpers_errors_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../native/helpers/errors.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/native/helpers/errors.js\");\n\n\n\n\nasync function customJwt(args) {\n    const clientFetch = (0,_utils_fetch_js__WEBPACK_IMPORTED_MODULE_0__.getClientFetch)(args.client, args.ecosystem);\n    const res = await clientFetch(_native_helpers_constants_js__WEBPACK_IMPORTED_MODULE_1__.ROUTE_AUTH_JWT_CALLBACK, {\n        body: (0,_utils_json_js__WEBPACK_IMPORTED_MODULE_2__.stringify)({\n            developerClientId: args.client.clientId,\n            jwt: args.jwt,\n        }),\n        headers: {\n            \"Content-Type\": \"application/json\",\n        },\n        method: \"POST\",\n    });\n    if (!res.ok) {\n        const error = await res.json();\n        throw new Error(`JWT authentication error: ${error.message}`);\n    }\n    try {\n        const { verifiedToken } = await res.json();\n        return { storedToken: verifiedToken };\n    }\n    catch (e) {\n        throw new Error((0,_native_helpers_errors_js__WEBPACK_IMPORTED_MODULE_3__.createErrorMessage)(\"Malformed response from post jwt authentication\", e));\n    }\n}\n//# sourceMappingURL=jwt.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy90aGlyZHdlYi9kaXN0L2VzbS93YWxsZXRzL2luLWFwcC9jb3JlL2F1dGhlbnRpY2F0aW9uL2p3dC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUE0RDtBQUNOO0FBQ3NCO0FBQ1I7QUFDN0Q7QUFDUCx3QkFBd0IsK0RBQWM7QUFDdEMsa0NBQWtDLGlGQUF1QjtBQUN6RCxjQUFjLHlEQUFTO0FBQ3ZCO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EscURBQXFELGNBQWM7QUFDbkU7QUFDQTtBQUNBLGdCQUFnQixnQkFBZ0I7QUFDaEMsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQSx3QkFBd0IsNkVBQWtCO0FBQzFDO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvdGhpcmR3ZWIvZGlzdC9lc20vd2FsbGV0cy9pbi1hcHAvY29yZS9hdXRoZW50aWNhdGlvbi9qd3QuanM/NzVmNyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBnZXRDbGllbnRGZXRjaCB9IGZyb20gXCIuLi8uLi8uLi8uLi91dGlscy9mZXRjaC5qc1wiO1xuaW1wb3J0IHsgc3RyaW5naWZ5IH0gZnJvbSBcIi4uLy4uLy4uLy4uL3V0aWxzL2pzb24uanNcIjtcbmltcG9ydCB7IFJPVVRFX0FVVEhfSldUX0NBTExCQUNLIH0gZnJvbSBcIi4uLy4uL25hdGl2ZS9oZWxwZXJzL2NvbnN0YW50cy5qc1wiO1xuaW1wb3J0IHsgY3JlYXRlRXJyb3JNZXNzYWdlIH0gZnJvbSBcIi4uLy4uL25hdGl2ZS9oZWxwZXJzL2Vycm9ycy5qc1wiO1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGN1c3RvbUp3dChhcmdzKSB7XG4gICAgY29uc3QgY2xpZW50RmV0Y2ggPSBnZXRDbGllbnRGZXRjaChhcmdzLmNsaWVudCwgYXJncy5lY29zeXN0ZW0pO1xuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGNsaWVudEZldGNoKFJPVVRFX0FVVEhfSldUX0NBTExCQUNLLCB7XG4gICAgICAgIGJvZHk6IHN0cmluZ2lmeSh7XG4gICAgICAgICAgICBkZXZlbG9wZXJDbGllbnRJZDogYXJncy5jbGllbnQuY2xpZW50SWQsXG4gICAgICAgICAgICBqd3Q6IGFyZ3Muand0LFxuICAgICAgICB9KSxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICAgIH0sXG4gICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgfSk7XG4gICAgaWYgKCFyZXMub2spIHtcbiAgICAgICAgY29uc3QgZXJyb3IgPSBhd2FpdCByZXMuanNvbigpO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEpXVCBhdXRoZW50aWNhdGlvbiBlcnJvcjogJHtlcnJvci5tZXNzYWdlfWApO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICBjb25zdCB7IHZlcmlmaWVkVG9rZW4gfSA9IGF3YWl0IHJlcy5qc29uKCk7XG4gICAgICAgIHJldHVybiB7IHN0b3JlZFRva2VuOiB2ZXJpZmllZFRva2VuIH07XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihjcmVhdGVFcnJvck1lc3NhZ2UoXCJNYWxmb3JtZWQgcmVzcG9uc2UgZnJvbSBwb3N0IGp3dCBhdXRoZW50aWNhdGlvblwiLCBlKSk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9and0LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/core/authentication/jwt.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/core/authentication/linkAccount.js":
/*!******************************************************************************************!*\
  !*** ./node_modules/thirdweb/dist/esm/wallets/in-app/core/authentication/linkAccount.js ***!
  \******************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getLinkedProfilesInternal: function() { return /* binding */ getLinkedProfilesInternal; },\n/* harmony export */   linkAccount: function() { return /* binding */ linkAccount; },\n/* harmony export */   unlinkAccount: function() { return /* binding */ unlinkAccount; }\n/* harmony export */ });\n/* harmony import */ var _utils_domains_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../utils/domains.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/utils/domains.js\");\n/* harmony import */ var _utils_fetch_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../utils/fetch.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/utils/fetch.js\");\n/* harmony import */ var _utils_json_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../utils/json.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/utils/json.js\");\n\n\n\n/**\n * Links a new account to the current one using an auth token.\n * For the public-facing API, use `wallet.linkProfile` instead.\n *\n * @internal\n */\nasync function linkAccount({ client, ecosystem, tokenToLink, storage, }) {\n    const clientFetch = (0,_utils_fetch_js__WEBPACK_IMPORTED_MODULE_0__.getClientFetch)(client, ecosystem);\n    const IN_APP_URL = (0,_utils_domains_js__WEBPACK_IMPORTED_MODULE_1__.getThirdwebBaseUrl)(\"inAppWallet\");\n    const currentAccountToken = await storage.getAuthCookie();\n    if (!currentAccountToken) {\n        throw new Error(\"Failed to link account, no user logged in\");\n    }\n    const headers = {\n        Authorization: `Bearer iaw-auth-token:${currentAccountToken}`,\n        \"Content-Type\": \"application/json\",\n    };\n    const linkedDetailsResp = await clientFetch(`${IN_APP_URL}/api/2024-05-05/account/connect`, {\n        body: (0,_utils_json_js__WEBPACK_IMPORTED_MODULE_2__.stringify)({\n            accountAuthTokenToConnect: tokenToLink,\n        }),\n        headers,\n        method: \"POST\",\n    });\n    if (!linkedDetailsResp.ok) {\n        const body = await linkedDetailsResp.json();\n        throw new Error(body.message || \"Failed to link account.\");\n    }\n    const { linkedAccounts } = await linkedDetailsResp.json();\n    return (linkedAccounts ?? []);\n}\n/**\n * Links a new account to the current one using an auth token.\n * For the public-facing API, use `wallet.linkProfile` instead.\n *\n * @internal\n */\nasync function unlinkAccount({ client, ecosystem, profileToUnlink, allowAccountDeletion = false, storage, }) {\n    const clientFetch = (0,_utils_fetch_js__WEBPACK_IMPORTED_MODULE_0__.getClientFetch)(client, ecosystem);\n    const IN_APP_URL = (0,_utils_domains_js__WEBPACK_IMPORTED_MODULE_1__.getThirdwebBaseUrl)(\"inAppWallet\");\n    const currentAccountToken = await storage.getAuthCookie();\n    if (!currentAccountToken) {\n        throw new Error(\"Failed to unlink account, no user logged in\");\n    }\n    const headers = {\n        Authorization: `Bearer iaw-auth-token:${currentAccountToken}`,\n        \"Content-Type\": \"application/json\",\n    };\n    const linkedDetailsResp = await clientFetch(`${IN_APP_URL}/api/2024-05-05/account/disconnect`, {\n        body: (0,_utils_json_js__WEBPACK_IMPORTED_MODULE_2__.stringify)({\n            allowAccountDeletion,\n            details: profileToUnlink.details,\n            type: profileToUnlink.type,\n        }),\n        headers,\n        method: \"POST\",\n    });\n    if (!linkedDetailsResp.ok) {\n        const body = await linkedDetailsResp.json();\n        throw new Error(body.message || \"Failed to unlink account.\");\n    }\n    const { linkedAccounts } = await linkedDetailsResp.json();\n    return (linkedAccounts ?? []);\n}\n/**\n * Gets the linked accounts for the current user.\n * For the public-facing API, use `wallet.getProfiles` instead.\n *\n * @internal\n */\nasync function getLinkedProfilesInternal({ client, ecosystem, storage, }) {\n    const clientFetch = (0,_utils_fetch_js__WEBPACK_IMPORTED_MODULE_0__.getClientFetch)(client, ecosystem);\n    const IN_APP_URL = (0,_utils_domains_js__WEBPACK_IMPORTED_MODULE_1__.getThirdwebBaseUrl)(\"inAppWallet\");\n    const currentAccountToken = await storage.getAuthCookie();\n    if (!currentAccountToken) {\n        throw new Error(\"Failed to get linked accounts, no user logged in\");\n    }\n    const headers = {\n        Authorization: `Bearer iaw-auth-token:${currentAccountToken}`,\n        \"Content-Type\": \"application/json\",\n    };\n    const linkedAccountsResp = await clientFetch(`${IN_APP_URL}/api/2024-05-05/accounts`, {\n        headers,\n        method: \"GET\",\n    });\n    if (!linkedAccountsResp.ok) {\n        const body = await linkedAccountsResp.json();\n        throw new Error(body.message || \"Failed to get linked accounts.\");\n    }\n    const { linkedAccounts } = await linkedAccountsResp.json();\n    return (linkedAccounts ?? []);\n}\n//# sourceMappingURL=linkAccount.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy90aGlyZHdlYi9kaXN0L2VzbS93YWxsZXRzL2luLWFwcC9jb3JlL2F1dGhlbnRpY2F0aW9uL2xpbmtBY2NvdW50LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFrRTtBQUNOO0FBQ047QUFDdEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ08sNkJBQTZCLDBDQUEwQztBQUM5RSx3QkFBd0IsK0RBQWM7QUFDdEMsdUJBQXVCLHFFQUFrQjtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0RBQWdELG9CQUFvQjtBQUNwRTtBQUNBO0FBQ0EsbURBQW1ELFdBQVc7QUFDOUQsY0FBYyx5REFBUztBQUN2QjtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxpQkFBaUI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPLCtCQUErQiw0RUFBNEU7QUFDbEgsd0JBQXdCLCtEQUFjO0FBQ3RDLHVCQUF1QixxRUFBa0I7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdEQUFnRCxvQkFBb0I7QUFDcEU7QUFDQTtBQUNBLG1EQUFtRCxXQUFXO0FBQzlELGNBQWMseURBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGlCQUFpQjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ08sMkNBQTJDLDZCQUE2QjtBQUMvRSx3QkFBd0IsK0RBQWM7QUFDdEMsdUJBQXVCLHFFQUFrQjtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0RBQWdELG9CQUFvQjtBQUNwRTtBQUNBO0FBQ0Esb0RBQW9ELFdBQVc7QUFDL0Q7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksaUJBQWlCO0FBQzdCO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvdGhpcmR3ZWIvZGlzdC9lc20vd2FsbGV0cy9pbi1hcHAvY29yZS9hdXRoZW50aWNhdGlvbi9saW5rQWNjb3VudC5qcz9hOTczIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGdldFRoaXJkd2ViQmFzZVVybCB9IGZyb20gXCIuLi8uLi8uLi8uLi91dGlscy9kb21haW5zLmpzXCI7XG5pbXBvcnQgeyBnZXRDbGllbnRGZXRjaCB9IGZyb20gXCIuLi8uLi8uLi8uLi91dGlscy9mZXRjaC5qc1wiO1xuaW1wb3J0IHsgc3RyaW5naWZ5IH0gZnJvbSBcIi4uLy4uLy4uLy4uL3V0aWxzL2pzb24uanNcIjtcbi8qKlxuICogTGlua3MgYSBuZXcgYWNjb3VudCB0byB0aGUgY3VycmVudCBvbmUgdXNpbmcgYW4gYXV0aCB0b2tlbi5cbiAqIEZvciB0aGUgcHVibGljLWZhY2luZyBBUEksIHVzZSBgd2FsbGV0LmxpbmtQcm9maWxlYCBpbnN0ZWFkLlxuICpcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbGlua0FjY291bnQoeyBjbGllbnQsIGVjb3N5c3RlbSwgdG9rZW5Ub0xpbmssIHN0b3JhZ2UsIH0pIHtcbiAgICBjb25zdCBjbGllbnRGZXRjaCA9IGdldENsaWVudEZldGNoKGNsaWVudCwgZWNvc3lzdGVtKTtcbiAgICBjb25zdCBJTl9BUFBfVVJMID0gZ2V0VGhpcmR3ZWJCYXNlVXJsKFwiaW5BcHBXYWxsZXRcIik7XG4gICAgY29uc3QgY3VycmVudEFjY291bnRUb2tlbiA9IGF3YWl0IHN0b3JhZ2UuZ2V0QXV0aENvb2tpZSgpO1xuICAgIGlmICghY3VycmVudEFjY291bnRUb2tlbikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJGYWlsZWQgdG8gbGluayBhY2NvdW50LCBubyB1c2VyIGxvZ2dlZCBpblwiKTtcbiAgICB9XG4gICAgY29uc3QgaGVhZGVycyA9IHtcbiAgICAgICAgQXV0aG9yaXphdGlvbjogYEJlYXJlciBpYXctYXV0aC10b2tlbjoke2N1cnJlbnRBY2NvdW50VG9rZW59YCxcbiAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgfTtcbiAgICBjb25zdCBsaW5rZWREZXRhaWxzUmVzcCA9IGF3YWl0IGNsaWVudEZldGNoKGAke0lOX0FQUF9VUkx9L2FwaS8yMDI0LTA1LTA1L2FjY291bnQvY29ubmVjdGAsIHtcbiAgICAgICAgYm9keTogc3RyaW5naWZ5KHtcbiAgICAgICAgICAgIGFjY291bnRBdXRoVG9rZW5Ub0Nvbm5lY3Q6IHRva2VuVG9MaW5rLFxuICAgICAgICB9KSxcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICB9KTtcbiAgICBpZiAoIWxpbmtlZERldGFpbHNSZXNwLm9rKSB7XG4gICAgICAgIGNvbnN0IGJvZHkgPSBhd2FpdCBsaW5rZWREZXRhaWxzUmVzcC5qc29uKCk7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihib2R5Lm1lc3NhZ2UgfHwgXCJGYWlsZWQgdG8gbGluayBhY2NvdW50LlwiKTtcbiAgICB9XG4gICAgY29uc3QgeyBsaW5rZWRBY2NvdW50cyB9ID0gYXdhaXQgbGlua2VkRGV0YWlsc1Jlc3AuanNvbigpO1xuICAgIHJldHVybiAobGlua2VkQWNjb3VudHMgPz8gW10pO1xufVxuLyoqXG4gKiBMaW5rcyBhIG5ldyBhY2NvdW50IHRvIHRoZSBjdXJyZW50IG9uZSB1c2luZyBhbiBhdXRoIHRva2VuLlxuICogRm9yIHRoZSBwdWJsaWMtZmFjaW5nIEFQSSwgdXNlIGB3YWxsZXQubGlua1Byb2ZpbGVgIGluc3RlYWQuXG4gKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB1bmxpbmtBY2NvdW50KHsgY2xpZW50LCBlY29zeXN0ZW0sIHByb2ZpbGVUb1VubGluaywgYWxsb3dBY2NvdW50RGVsZXRpb24gPSBmYWxzZSwgc3RvcmFnZSwgfSkge1xuICAgIGNvbnN0IGNsaWVudEZldGNoID0gZ2V0Q2xpZW50RmV0Y2goY2xpZW50LCBlY29zeXN0ZW0pO1xuICAgIGNvbnN0IElOX0FQUF9VUkwgPSBnZXRUaGlyZHdlYkJhc2VVcmwoXCJpbkFwcFdhbGxldFwiKTtcbiAgICBjb25zdCBjdXJyZW50QWNjb3VudFRva2VuID0gYXdhaXQgc3RvcmFnZS5nZXRBdXRoQ29va2llKCk7XG4gICAgaWYgKCFjdXJyZW50QWNjb3VudFRva2VuKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkZhaWxlZCB0byB1bmxpbmsgYWNjb3VudCwgbm8gdXNlciBsb2dnZWQgaW5cIik7XG4gICAgfVxuICAgIGNvbnN0IGhlYWRlcnMgPSB7XG4gICAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgaWF3LWF1dGgtdG9rZW46JHtjdXJyZW50QWNjb3VudFRva2VufWAsXG4gICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgIH07XG4gICAgY29uc3QgbGlua2VkRGV0YWlsc1Jlc3AgPSBhd2FpdCBjbGllbnRGZXRjaChgJHtJTl9BUFBfVVJMfS9hcGkvMjAyNC0wNS0wNS9hY2NvdW50L2Rpc2Nvbm5lY3RgLCB7XG4gICAgICAgIGJvZHk6IHN0cmluZ2lmeSh7XG4gICAgICAgICAgICBhbGxvd0FjY291bnREZWxldGlvbixcbiAgICAgICAgICAgIGRldGFpbHM6IHByb2ZpbGVUb1VubGluay5kZXRhaWxzLFxuICAgICAgICAgICAgdHlwZTogcHJvZmlsZVRvVW5saW5rLnR5cGUsXG4gICAgICAgIH0pLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgIH0pO1xuICAgIGlmICghbGlua2VkRGV0YWlsc1Jlc3Aub2spIHtcbiAgICAgICAgY29uc3QgYm9keSA9IGF3YWl0IGxpbmtlZERldGFpbHNSZXNwLmpzb24oKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGJvZHkubWVzc2FnZSB8fCBcIkZhaWxlZCB0byB1bmxpbmsgYWNjb3VudC5cIik7XG4gICAgfVxuICAgIGNvbnN0IHsgbGlua2VkQWNjb3VudHMgfSA9IGF3YWl0IGxpbmtlZERldGFpbHNSZXNwLmpzb24oKTtcbiAgICByZXR1cm4gKGxpbmtlZEFjY291bnRzID8/IFtdKTtcbn1cbi8qKlxuICogR2V0cyB0aGUgbGlua2VkIGFjY291bnRzIGZvciB0aGUgY3VycmVudCB1c2VyLlxuICogRm9yIHRoZSBwdWJsaWMtZmFjaW5nIEFQSSwgdXNlIGB3YWxsZXQuZ2V0UHJvZmlsZXNgIGluc3RlYWQuXG4gKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRMaW5rZWRQcm9maWxlc0ludGVybmFsKHsgY2xpZW50LCBlY29zeXN0ZW0sIHN0b3JhZ2UsIH0pIHtcbiAgICBjb25zdCBjbGllbnRGZXRjaCA9IGdldENsaWVudEZldGNoKGNsaWVudCwgZWNvc3lzdGVtKTtcbiAgICBjb25zdCBJTl9BUFBfVVJMID0gZ2V0VGhpcmR3ZWJCYXNlVXJsKFwiaW5BcHBXYWxsZXRcIik7XG4gICAgY29uc3QgY3VycmVudEFjY291bnRUb2tlbiA9IGF3YWl0IHN0b3JhZ2UuZ2V0QXV0aENvb2tpZSgpO1xuICAgIGlmICghY3VycmVudEFjY291bnRUb2tlbikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJGYWlsZWQgdG8gZ2V0IGxpbmtlZCBhY2NvdW50cywgbm8gdXNlciBsb2dnZWQgaW5cIik7XG4gICAgfVxuICAgIGNvbnN0IGhlYWRlcnMgPSB7XG4gICAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgaWF3LWF1dGgtdG9rZW46JHtjdXJyZW50QWNjb3VudFRva2VufWAsXG4gICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgIH07XG4gICAgY29uc3QgbGlua2VkQWNjb3VudHNSZXNwID0gYXdhaXQgY2xpZW50RmV0Y2goYCR7SU5fQVBQX1VSTH0vYXBpLzIwMjQtMDUtMDUvYWNjb3VudHNgLCB7XG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICB9KTtcbiAgICBpZiAoIWxpbmtlZEFjY291bnRzUmVzcC5vaykge1xuICAgICAgICBjb25zdCBib2R5ID0gYXdhaXQgbGlua2VkQWNjb3VudHNSZXNwLmpzb24oKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGJvZHkubWVzc2FnZSB8fCBcIkZhaWxlZCB0byBnZXQgbGlua2VkIGFjY291bnRzLlwiKTtcbiAgICB9XG4gICAgY29uc3QgeyBsaW5rZWRBY2NvdW50cyB9ID0gYXdhaXQgbGlua2VkQWNjb3VudHNSZXNwLmpzb24oKTtcbiAgICByZXR1cm4gKGxpbmtlZEFjY291bnRzID8/IFtdKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxpbmtBY2NvdW50LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/core/authentication/linkAccount.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/core/authentication/passkeys.js":
/*!***************************************************************************************!*\
  !*** ./node_modules/thirdweb/dist/esm/wallets/in-app/core/authentication/passkeys.js ***!
  \***************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   loginWithPasskey: function() { return /* binding */ loginWithPasskey; },\n/* harmony export */   registerPasskey: function() { return /* binding */ registerPasskey; }\n/* harmony export */ });\n/* harmony import */ var _utils_domains_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../utils/domains.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/utils/domains.js\");\n/* harmony import */ var _utils_fetch_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../utils/fetch.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/utils/fetch.js\");\n/* harmony import */ var _utils_json_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../utils/json.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/utils/json.js\");\n\n\n\nfunction getVerificationPath() {\n    return `${(0,_utils_domains_js__WEBPACK_IMPORTED_MODULE_0__.getThirdwebBaseUrl)(\"inAppWallet\")}/api/2024-05-05/login/passkey/callback`;\n}\nfunction getChallengePath(type, username) {\n    return `${(0,_utils_domains_js__WEBPACK_IMPORTED_MODULE_0__.getThirdwebBaseUrl)(\"inAppWallet\")}/api/2024-05-05/login/passkey?type=${type}${username ? `&username=${username}` : \"\"}`;\n}\nasync function registerPasskey(options) {\n    if (!options.passkeyClient.isAvailable()) {\n        throw new Error(\"Passkeys are not available on this device\");\n    }\n    const fetchWithId = (0,_utils_fetch_js__WEBPACK_IMPORTED_MODULE_1__.getClientFetch)(options.client, options.ecosystem);\n    const generatedName = options.username ?? generateUsername(options.ecosystem);\n    // 1. request challenge from  server\n    const res = await fetchWithId(getChallengePath(\"sign-up\", generatedName));\n    const challengeData = await res.json();\n    if (!challengeData.challenge) {\n        throw new Error(\"No challenge received\");\n    }\n    const challenge = challengeData.challenge;\n    // 2. initiate registration\n    const registration = await options.passkeyClient.register({\n        challenge,\n        name: generatedName,\n        rp: options.rp,\n    });\n    const customHeaders = {};\n    if (options.ecosystem?.partnerId) {\n        customHeaders[\"x-ecosystem-partner-id\"] = options.ecosystem.partnerId;\n    }\n    if (options.ecosystem?.id) {\n        customHeaders[\"x-ecosystem-id\"] = options.ecosystem.id;\n    }\n    // 3. send the registration object to the server\n    const verifRes = await fetchWithId(getVerificationPath(), {\n        body: (0,_utils_json_js__WEBPACK_IMPORTED_MODULE_2__.stringify)({\n            authenticatorData: registration.authenticatorData,\n            clientData: registration.clientData,\n            credential: {\n                algorithm: registration.credential.algorithm,\n                publicKey: registration.credential.publicKey,\n            },\n            credentialId: registration.credentialId,\n            origin: registration.origin,\n            rpId: options.rp.id,\n            serverVerificationId: challengeData.serverVerificationId,\n            type: \"sign-up\",\n            username: generatedName,\n        }),\n        headers: {\n            \"Content-Type\": \"application/json\",\n            ...customHeaders,\n        },\n        method: \"POST\",\n    });\n    const verifData = await verifRes.json();\n    if (!verifData || !verifData.storedToken) {\n        throw new Error(`Error verifying passkey: ${verifData.message ?? \"unknown error\"}`);\n    }\n    // 4. store the credentialId in local storage\n    await options.storage?.savePasskeyCredentialId(registration.credentialId);\n    // 5. returns back the IAW authentication token\n    return verifData;\n}\nasync function loginWithPasskey(options) {\n    if (!options.passkeyClient.isAvailable()) {\n        throw new Error(\"Passkeys are not available on this device\");\n    }\n    const fetchWithId = (0,_utils_fetch_js__WEBPACK_IMPORTED_MODULE_1__.getClientFetch)(options.client, options.ecosystem);\n    // 1. request challenge from  server/iframe\n    const [challengeData, credentialId] = await Promise.all([\n        fetchWithId(getChallengePath(\"sign-in\")).then((r) => r.json()),\n        options.storage?.getPasskeyCredentialId(),\n    ]);\n    if (!challengeData.challenge) {\n        throw new Error(\"No challenge received\");\n    }\n    const challenge = challengeData.challenge;\n    // 2. initiate login\n    const authentication = await options.passkeyClient.authenticate({\n        challenge,\n        credentialId: credentialId ?? undefined,\n        rp: options.rp,\n    });\n    const customHeaders = {};\n    if (options.ecosystem?.partnerId) {\n        customHeaders[\"x-ecosystem-partner-id\"] = options.ecosystem.partnerId;\n    }\n    if (options.ecosystem?.id) {\n        customHeaders[\"x-ecosystem-id\"] = options.ecosystem.id;\n    }\n    const verifRes = await fetchWithId(getVerificationPath(), {\n        body: (0,_utils_json_js__WEBPACK_IMPORTED_MODULE_2__.stringify)({\n            authenticatorData: authentication.authenticatorData,\n            clientData: authentication.clientData,\n            credentialId: authentication.credentialId,\n            origin: authentication.origin,\n            rpId: options.rp.id,\n            serverVerificationId: challengeData.serverVerificationId,\n            signature: authentication.signature,\n            type: \"sign-in\",\n        }),\n        headers: {\n            \"Content-Type\": \"application/json\",\n            ...customHeaders,\n        },\n        method: \"POST\",\n    });\n    const verifData = await verifRes.json();\n    if (!verifData || !verifData.storedToken) {\n        throw new Error(`Error verifying passkey: ${verifData.message ?? \"unknown error\"}`);\n    }\n    // 5. store the credentialId in local storage\n    await options.storage?.savePasskeyCredentialId(authentication.credentialId);\n    // 6. return the auth'd user type\n    return verifData;\n}\nfunction generateUsername(ecosystem) {\n    return `${ecosystem?.id ?? \"wallet\"}-${new Date().toISOString()}`;\n}\n//# sourceMappingURL=passkeys.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy90aGlyZHdlYi9kaXN0L2VzbS93YWxsZXRzL2luLWFwcC9jb3JlL2F1dGhlbnRpY2F0aW9uL3Bhc3NrZXlzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQWtFO0FBQ047QUFDTjtBQUN0RDtBQUNBLGNBQWMscUVBQWtCLGdCQUFnQjtBQUNoRDtBQUNBO0FBQ0EsY0FBYyxxRUFBa0IsZ0JBQWdCLHFDQUFxQyxLQUFLLEVBQUUsd0JBQXdCLFNBQVMsT0FBTztBQUNwSTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLCtEQUFjO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMseURBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxvREFBb0QscUNBQXFDO0FBQ3pGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLCtEQUFjO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMseURBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLG9EQUFvRCxxQ0FBcUM7QUFDekY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLDBCQUEwQixHQUFHLHlCQUF5QjtBQUNwRTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy90aGlyZHdlYi9kaXN0L2VzbS93YWxsZXRzL2luLWFwcC9jb3JlL2F1dGhlbnRpY2F0aW9uL3Bhc3NrZXlzLmpzPzM5NzIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZ2V0VGhpcmR3ZWJCYXNlVXJsIH0gZnJvbSBcIi4uLy4uLy4uLy4uL3V0aWxzL2RvbWFpbnMuanNcIjtcbmltcG9ydCB7IGdldENsaWVudEZldGNoIH0gZnJvbSBcIi4uLy4uLy4uLy4uL3V0aWxzL2ZldGNoLmpzXCI7XG5pbXBvcnQgeyBzdHJpbmdpZnkgfSBmcm9tIFwiLi4vLi4vLi4vLi4vdXRpbHMvanNvbi5qc1wiO1xuZnVuY3Rpb24gZ2V0VmVyaWZpY2F0aW9uUGF0aCgpIHtcbiAgICByZXR1cm4gYCR7Z2V0VGhpcmR3ZWJCYXNlVXJsKFwiaW5BcHBXYWxsZXRcIil9L2FwaS8yMDI0LTA1LTA1L2xvZ2luL3Bhc3NrZXkvY2FsbGJhY2tgO1xufVxuZnVuY3Rpb24gZ2V0Q2hhbGxlbmdlUGF0aCh0eXBlLCB1c2VybmFtZSkge1xuICAgIHJldHVybiBgJHtnZXRUaGlyZHdlYkJhc2VVcmwoXCJpbkFwcFdhbGxldFwiKX0vYXBpLzIwMjQtMDUtMDUvbG9naW4vcGFzc2tleT90eXBlPSR7dHlwZX0ke3VzZXJuYW1lID8gYCZ1c2VybmFtZT0ke3VzZXJuYW1lfWAgOiBcIlwifWA7XG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcmVnaXN0ZXJQYXNza2V5KG9wdGlvbnMpIHtcbiAgICBpZiAoIW9wdGlvbnMucGFzc2tleUNsaWVudC5pc0F2YWlsYWJsZSgpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIlBhc3NrZXlzIGFyZSBub3QgYXZhaWxhYmxlIG9uIHRoaXMgZGV2aWNlXCIpO1xuICAgIH1cbiAgICBjb25zdCBmZXRjaFdpdGhJZCA9IGdldENsaWVudEZldGNoKG9wdGlvbnMuY2xpZW50LCBvcHRpb25zLmVjb3N5c3RlbSk7XG4gICAgY29uc3QgZ2VuZXJhdGVkTmFtZSA9IG9wdGlvbnMudXNlcm5hbWUgPz8gZ2VuZXJhdGVVc2VybmFtZShvcHRpb25zLmVjb3N5c3RlbSk7XG4gICAgLy8gMS4gcmVxdWVzdCBjaGFsbGVuZ2UgZnJvbSAgc2VydmVyXG4gICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2hXaXRoSWQoZ2V0Q2hhbGxlbmdlUGF0aChcInNpZ24tdXBcIiwgZ2VuZXJhdGVkTmFtZSkpO1xuICAgIGNvbnN0IGNoYWxsZW5nZURhdGEgPSBhd2FpdCByZXMuanNvbigpO1xuICAgIGlmICghY2hhbGxlbmdlRGF0YS5jaGFsbGVuZ2UpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm8gY2hhbGxlbmdlIHJlY2VpdmVkXCIpO1xuICAgIH1cbiAgICBjb25zdCBjaGFsbGVuZ2UgPSBjaGFsbGVuZ2VEYXRhLmNoYWxsZW5nZTtcbiAgICAvLyAyLiBpbml0aWF0ZSByZWdpc3RyYXRpb25cbiAgICBjb25zdCByZWdpc3RyYXRpb24gPSBhd2FpdCBvcHRpb25zLnBhc3NrZXlDbGllbnQucmVnaXN0ZXIoe1xuICAgICAgICBjaGFsbGVuZ2UsXG4gICAgICAgIG5hbWU6IGdlbmVyYXRlZE5hbWUsXG4gICAgICAgIHJwOiBvcHRpb25zLnJwLFxuICAgIH0pO1xuICAgIGNvbnN0IGN1c3RvbUhlYWRlcnMgPSB7fTtcbiAgICBpZiAob3B0aW9ucy5lY29zeXN0ZW0/LnBhcnRuZXJJZCkge1xuICAgICAgICBjdXN0b21IZWFkZXJzW1wieC1lY29zeXN0ZW0tcGFydG5lci1pZFwiXSA9IG9wdGlvbnMuZWNvc3lzdGVtLnBhcnRuZXJJZDtcbiAgICB9XG4gICAgaWYgKG9wdGlvbnMuZWNvc3lzdGVtPy5pZCkge1xuICAgICAgICBjdXN0b21IZWFkZXJzW1wieC1lY29zeXN0ZW0taWRcIl0gPSBvcHRpb25zLmVjb3N5c3RlbS5pZDtcbiAgICB9XG4gICAgLy8gMy4gc2VuZCB0aGUgcmVnaXN0cmF0aW9uIG9iamVjdCB0byB0aGUgc2VydmVyXG4gICAgY29uc3QgdmVyaWZSZXMgPSBhd2FpdCBmZXRjaFdpdGhJZChnZXRWZXJpZmljYXRpb25QYXRoKCksIHtcbiAgICAgICAgYm9keTogc3RyaW5naWZ5KHtcbiAgICAgICAgICAgIGF1dGhlbnRpY2F0b3JEYXRhOiByZWdpc3RyYXRpb24uYXV0aGVudGljYXRvckRhdGEsXG4gICAgICAgICAgICBjbGllbnREYXRhOiByZWdpc3RyYXRpb24uY2xpZW50RGF0YSxcbiAgICAgICAgICAgIGNyZWRlbnRpYWw6IHtcbiAgICAgICAgICAgICAgICBhbGdvcml0aG06IHJlZ2lzdHJhdGlvbi5jcmVkZW50aWFsLmFsZ29yaXRobSxcbiAgICAgICAgICAgICAgICBwdWJsaWNLZXk6IHJlZ2lzdHJhdGlvbi5jcmVkZW50aWFsLnB1YmxpY0tleSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjcmVkZW50aWFsSWQ6IHJlZ2lzdHJhdGlvbi5jcmVkZW50aWFsSWQsXG4gICAgICAgICAgICBvcmlnaW46IHJlZ2lzdHJhdGlvbi5vcmlnaW4sXG4gICAgICAgICAgICBycElkOiBvcHRpb25zLnJwLmlkLFxuICAgICAgICAgICAgc2VydmVyVmVyaWZpY2F0aW9uSWQ6IGNoYWxsZW5nZURhdGEuc2VydmVyVmVyaWZpY2F0aW9uSWQsXG4gICAgICAgICAgICB0eXBlOiBcInNpZ24tdXBcIixcbiAgICAgICAgICAgIHVzZXJuYW1lOiBnZW5lcmF0ZWROYW1lLFxuICAgICAgICB9KSxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICAgICAgICAuLi5jdXN0b21IZWFkZXJzLFxuICAgICAgICB9LFxuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgIH0pO1xuICAgIGNvbnN0IHZlcmlmRGF0YSA9IGF3YWl0IHZlcmlmUmVzLmpzb24oKTtcbiAgICBpZiAoIXZlcmlmRGF0YSB8fCAhdmVyaWZEYXRhLnN0b3JlZFRva2VuKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgRXJyb3IgdmVyaWZ5aW5nIHBhc3NrZXk6ICR7dmVyaWZEYXRhLm1lc3NhZ2UgPz8gXCJ1bmtub3duIGVycm9yXCJ9YCk7XG4gICAgfVxuICAgIC8vIDQuIHN0b3JlIHRoZSBjcmVkZW50aWFsSWQgaW4gbG9jYWwgc3RvcmFnZVxuICAgIGF3YWl0IG9wdGlvbnMuc3RvcmFnZT8uc2F2ZVBhc3NrZXlDcmVkZW50aWFsSWQocmVnaXN0cmF0aW9uLmNyZWRlbnRpYWxJZCk7XG4gICAgLy8gNS4gcmV0dXJucyBiYWNrIHRoZSBJQVcgYXV0aGVudGljYXRpb24gdG9rZW5cbiAgICByZXR1cm4gdmVyaWZEYXRhO1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGxvZ2luV2l0aFBhc3NrZXkob3B0aW9ucykge1xuICAgIGlmICghb3B0aW9ucy5wYXNza2V5Q2xpZW50LmlzQXZhaWxhYmxlKCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiUGFzc2tleXMgYXJlIG5vdCBhdmFpbGFibGUgb24gdGhpcyBkZXZpY2VcIik7XG4gICAgfVxuICAgIGNvbnN0IGZldGNoV2l0aElkID0gZ2V0Q2xpZW50RmV0Y2gob3B0aW9ucy5jbGllbnQsIG9wdGlvbnMuZWNvc3lzdGVtKTtcbiAgICAvLyAxLiByZXF1ZXN0IGNoYWxsZW5nZSBmcm9tICBzZXJ2ZXIvaWZyYW1lXG4gICAgY29uc3QgW2NoYWxsZW5nZURhdGEsIGNyZWRlbnRpYWxJZF0gPSBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgICAgIGZldGNoV2l0aElkKGdldENoYWxsZW5nZVBhdGgoXCJzaWduLWluXCIpKS50aGVuKChyKSA9PiByLmpzb24oKSksXG4gICAgICAgIG9wdGlvbnMuc3RvcmFnZT8uZ2V0UGFzc2tleUNyZWRlbnRpYWxJZCgpLFxuICAgIF0pO1xuICAgIGlmICghY2hhbGxlbmdlRGF0YS5jaGFsbGVuZ2UpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm8gY2hhbGxlbmdlIHJlY2VpdmVkXCIpO1xuICAgIH1cbiAgICBjb25zdCBjaGFsbGVuZ2UgPSBjaGFsbGVuZ2VEYXRhLmNoYWxsZW5nZTtcbiAgICAvLyAyLiBpbml0aWF0ZSBsb2dpblxuICAgIGNvbnN0IGF1dGhlbnRpY2F0aW9uID0gYXdhaXQgb3B0aW9ucy5wYXNza2V5Q2xpZW50LmF1dGhlbnRpY2F0ZSh7XG4gICAgICAgIGNoYWxsZW5nZSxcbiAgICAgICAgY3JlZGVudGlhbElkOiBjcmVkZW50aWFsSWQgPz8gdW5kZWZpbmVkLFxuICAgICAgICBycDogb3B0aW9ucy5ycCxcbiAgICB9KTtcbiAgICBjb25zdCBjdXN0b21IZWFkZXJzID0ge307XG4gICAgaWYgKG9wdGlvbnMuZWNvc3lzdGVtPy5wYXJ0bmVySWQpIHtcbiAgICAgICAgY3VzdG9tSGVhZGVyc1tcIngtZWNvc3lzdGVtLXBhcnRuZXItaWRcIl0gPSBvcHRpb25zLmVjb3N5c3RlbS5wYXJ0bmVySWQ7XG4gICAgfVxuICAgIGlmIChvcHRpb25zLmVjb3N5c3RlbT8uaWQpIHtcbiAgICAgICAgY3VzdG9tSGVhZGVyc1tcIngtZWNvc3lzdGVtLWlkXCJdID0gb3B0aW9ucy5lY29zeXN0ZW0uaWQ7XG4gICAgfVxuICAgIGNvbnN0IHZlcmlmUmVzID0gYXdhaXQgZmV0Y2hXaXRoSWQoZ2V0VmVyaWZpY2F0aW9uUGF0aCgpLCB7XG4gICAgICAgIGJvZHk6IHN0cmluZ2lmeSh7XG4gICAgICAgICAgICBhdXRoZW50aWNhdG9yRGF0YTogYXV0aGVudGljYXRpb24uYXV0aGVudGljYXRvckRhdGEsXG4gICAgICAgICAgICBjbGllbnREYXRhOiBhdXRoZW50aWNhdGlvbi5jbGllbnREYXRhLFxuICAgICAgICAgICAgY3JlZGVudGlhbElkOiBhdXRoZW50aWNhdGlvbi5jcmVkZW50aWFsSWQsXG4gICAgICAgICAgICBvcmlnaW46IGF1dGhlbnRpY2F0aW9uLm9yaWdpbixcbiAgICAgICAgICAgIHJwSWQ6IG9wdGlvbnMucnAuaWQsXG4gICAgICAgICAgICBzZXJ2ZXJWZXJpZmljYXRpb25JZDogY2hhbGxlbmdlRGF0YS5zZXJ2ZXJWZXJpZmljYXRpb25JZCxcbiAgICAgICAgICAgIHNpZ25hdHVyZTogYXV0aGVudGljYXRpb24uc2lnbmF0dXJlLFxuICAgICAgICAgICAgdHlwZTogXCJzaWduLWluXCIsXG4gICAgICAgIH0pLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgICAgICAgIC4uLmN1c3RvbUhlYWRlcnMsXG4gICAgICAgIH0sXG4gICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgfSk7XG4gICAgY29uc3QgdmVyaWZEYXRhID0gYXdhaXQgdmVyaWZSZXMuanNvbigpO1xuICAgIGlmICghdmVyaWZEYXRhIHx8ICF2ZXJpZkRhdGEuc3RvcmVkVG9rZW4pIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBFcnJvciB2ZXJpZnlpbmcgcGFzc2tleTogJHt2ZXJpZkRhdGEubWVzc2FnZSA/PyBcInVua25vd24gZXJyb3JcIn1gKTtcbiAgICB9XG4gICAgLy8gNS4gc3RvcmUgdGhlIGNyZWRlbnRpYWxJZCBpbiBsb2NhbCBzdG9yYWdlXG4gICAgYXdhaXQgb3B0aW9ucy5zdG9yYWdlPy5zYXZlUGFzc2tleUNyZWRlbnRpYWxJZChhdXRoZW50aWNhdGlvbi5jcmVkZW50aWFsSWQpO1xuICAgIC8vIDYuIHJldHVybiB0aGUgYXV0aCdkIHVzZXIgdHlwZVxuICAgIHJldHVybiB2ZXJpZkRhdGE7XG59XG5mdW5jdGlvbiBnZW5lcmF0ZVVzZXJuYW1lKGVjb3N5c3RlbSkge1xuICAgIHJldHVybiBgJHtlY29zeXN0ZW0/LmlkID8/IFwid2FsbGV0XCJ9LSR7bmV3IERhdGUoKS50b0lTT1N0cmluZygpfWA7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYXNza2V5cy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/core/authentication/passkeys.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/core/authentication/siwe.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/thirdweb/dist/esm/wallets/in-app/core/authentication/siwe.js ***!
  \***********************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   siweAuthenticate: function() { return /* binding */ siweAuthenticate; }\n/* harmony export */ });\n/* harmony import */ var _auth_core_sign_login_payload_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../auth/core/sign-login-payload.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/auth/core/sign-login-payload.js\");\n/* harmony import */ var _utils_fetch_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../utils/fetch.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/utils/fetch.js\");\n/* harmony import */ var _utils_json_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../utils/json.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/utils/json.js\");\n/* harmony import */ var _getLoginPath_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./getLoginPath.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/core/authentication/getLoginPath.js\");\n\n\n\n\n/**\n * @internal\n */\nasync function siweAuthenticate(args) {\n    const { wallet, chain, client, ecosystem } = args;\n    // only connect if the wallet doesn't already have an account\n    const account = wallet.getAccount() || (await wallet.connect({ chain, client }));\n    const clientFetch = (0,_utils_fetch_js__WEBPACK_IMPORTED_MODULE_0__.getClientFetch)(client, ecosystem);\n    const payload = await (async () => {\n        const path = (0,_getLoginPath_js__WEBPACK_IMPORTED_MODULE_1__.getLoginUrl)({\n            authOption: \"wallet\",\n            client: args.client,\n            ecosystem: args.ecosystem,\n        });\n        const res = await clientFetch(`${path}&address=${account.address}&chainId=${chain.id}`);\n        if (!res.ok)\n            throw new Error(\"Failed to generate SIWE login payload\");\n        return (await res.json());\n    })();\n    const { signature } = await (0,_auth_core_sign_login_payload_js__WEBPACK_IMPORTED_MODULE_2__.signLoginPayload)({ account, payload });\n    const authResult = await (async () => {\n        const path = (0,_getLoginPath_js__WEBPACK_IMPORTED_MODULE_1__.getLoginCallbackUrl)({\n            authOption: \"wallet\",\n            client: args.client,\n            ecosystem: args.ecosystem,\n        });\n        const res = await clientFetch(`${path}&signature=${signature}&payload=${encodeURIComponent(payload)}`, {\n            body: (0,_utils_json_js__WEBPACK_IMPORTED_MODULE_3__.stringify)({\n                payload,\n                signature,\n            }),\n            headers: {\n                \"Content-Type\": \"application/json\",\n            },\n            method: \"POST\",\n        });\n        if (!res.ok)\n            throw new Error(\"Failed to verify SIWE signature\");\n        return (await res.json());\n    })();\n    return authResult;\n}\n//# sourceMappingURL=siwe.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy90aGlyZHdlYi9kaXN0L2VzbS93YWxsZXRzL2luLWFwcC9jb3JlL2F1dGhlbnRpY2F0aW9uL3Npd2UuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBK0U7QUFDbkI7QUFDTjtBQUNlO0FBQ3JFO0FBQ0E7QUFDQTtBQUNPO0FBQ1AsWUFBWSxtQ0FBbUM7QUFDL0M7QUFDQSxtRUFBbUUsZUFBZTtBQUNsRix3QkFBd0IsK0RBQWM7QUFDdEM7QUFDQSxxQkFBcUIsNkRBQVc7QUFDaEM7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULHlDQUF5QyxLQUFLLFdBQVcsZ0JBQWdCLFdBQVcsU0FBUztBQUM3RjtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsWUFBWSxZQUFZLFFBQVEsa0ZBQWdCLEdBQUcsa0JBQWtCO0FBQ3JFO0FBQ0EscUJBQXFCLHFFQUFtQjtBQUN4QztBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QseUNBQXlDLEtBQUssYUFBYSxVQUFVLFdBQVcsNEJBQTRCO0FBQzVHLGtCQUFrQix5REFBUztBQUMzQjtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvdGhpcmR3ZWIvZGlzdC9lc20vd2FsbGV0cy9pbi1hcHAvY29yZS9hdXRoZW50aWNhdGlvbi9zaXdlLmpzP2Q4ZGUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgc2lnbkxvZ2luUGF5bG9hZCB9IGZyb20gXCIuLi8uLi8uLi8uLi9hdXRoL2NvcmUvc2lnbi1sb2dpbi1wYXlsb2FkLmpzXCI7XG5pbXBvcnQgeyBnZXRDbGllbnRGZXRjaCB9IGZyb20gXCIuLi8uLi8uLi8uLi91dGlscy9mZXRjaC5qc1wiO1xuaW1wb3J0IHsgc3RyaW5naWZ5IH0gZnJvbSBcIi4uLy4uLy4uLy4uL3V0aWxzL2pzb24uanNcIjtcbmltcG9ydCB7IGdldExvZ2luQ2FsbGJhY2tVcmwsIGdldExvZ2luVXJsIH0gZnJvbSBcIi4vZ2V0TG9naW5QYXRoLmpzXCI7XG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2l3ZUF1dGhlbnRpY2F0ZShhcmdzKSB7XG4gICAgY29uc3QgeyB3YWxsZXQsIGNoYWluLCBjbGllbnQsIGVjb3N5c3RlbSB9ID0gYXJncztcbiAgICAvLyBvbmx5IGNvbm5lY3QgaWYgdGhlIHdhbGxldCBkb2Vzbid0IGFscmVhZHkgaGF2ZSBhbiBhY2NvdW50XG4gICAgY29uc3QgYWNjb3VudCA9IHdhbGxldC5nZXRBY2NvdW50KCkgfHwgKGF3YWl0IHdhbGxldC5jb25uZWN0KHsgY2hhaW4sIGNsaWVudCB9KSk7XG4gICAgY29uc3QgY2xpZW50RmV0Y2ggPSBnZXRDbGllbnRGZXRjaChjbGllbnQsIGVjb3N5c3RlbSk7XG4gICAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IChhc3luYyAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHBhdGggPSBnZXRMb2dpblVybCh7XG4gICAgICAgICAgICBhdXRoT3B0aW9uOiBcIndhbGxldFwiLFxuICAgICAgICAgICAgY2xpZW50OiBhcmdzLmNsaWVudCxcbiAgICAgICAgICAgIGVjb3N5c3RlbTogYXJncy5lY29zeXN0ZW0sXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCByZXMgPSBhd2FpdCBjbGllbnRGZXRjaChgJHtwYXRofSZhZGRyZXNzPSR7YWNjb3VudC5hZGRyZXNzfSZjaGFpbklkPSR7Y2hhaW4uaWR9YCk7XG4gICAgICAgIGlmICghcmVzLm9rKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRmFpbGVkIHRvIGdlbmVyYXRlIFNJV0UgbG9naW4gcGF5bG9hZFwiKTtcbiAgICAgICAgcmV0dXJuIChhd2FpdCByZXMuanNvbigpKTtcbiAgICB9KSgpO1xuICAgIGNvbnN0IHsgc2lnbmF0dXJlIH0gPSBhd2FpdCBzaWduTG9naW5QYXlsb2FkKHsgYWNjb3VudCwgcGF5bG9hZCB9KTtcbiAgICBjb25zdCBhdXRoUmVzdWx0ID0gYXdhaXQgKGFzeW5jICgpID0+IHtcbiAgICAgICAgY29uc3QgcGF0aCA9IGdldExvZ2luQ2FsbGJhY2tVcmwoe1xuICAgICAgICAgICAgYXV0aE9wdGlvbjogXCJ3YWxsZXRcIixcbiAgICAgICAgICAgIGNsaWVudDogYXJncy5jbGllbnQsXG4gICAgICAgICAgICBlY29zeXN0ZW06IGFyZ3MuZWNvc3lzdGVtLFxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgY2xpZW50RmV0Y2goYCR7cGF0aH0mc2lnbmF0dXJlPSR7c2lnbmF0dXJlfSZwYXlsb2FkPSR7ZW5jb2RlVVJJQ29tcG9uZW50KHBheWxvYWQpfWAsIHtcbiAgICAgICAgICAgIGJvZHk6IHN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgICAgcGF5bG9hZCxcbiAgICAgICAgICAgICAgICBzaWduYXR1cmUsXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFyZXMub2spXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJGYWlsZWQgdG8gdmVyaWZ5IFNJV0Ugc2lnbmF0dXJlXCIpO1xuICAgICAgICByZXR1cm4gKGF3YWl0IHJlcy5qc29uKCkpO1xuICAgIH0pKCk7XG4gICAgcmV0dXJuIGF1dGhSZXN1bHQ7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zaXdlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/core/authentication/siwe.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/core/wallet/enclave-wallet.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/thirdweb/dist/esm/wallets/in-app/core/wallet/enclave-wallet.js ***!
  \*************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   EnclaveWallet: function() { return /* binding */ EnclaveWallet; }\n/* harmony export */ });\n/* harmony import */ var viem__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! viem */ \"(app-pages-browser)/./node_modules/viem/_esm/utils/encoding/toHex.js\");\n/* harmony import */ var _analytics_track_transaction_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../analytics/track/transaction.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/analytics/track/transaction.js\");\n/* harmony import */ var _chains_utils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../chains/utils.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/chains/utils.js\");\n/* harmony import */ var _rpc_actions_eth_sendRawTransaction_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../rpc/actions/eth_sendRawTransaction.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/rpc/actions/eth_sendRawTransaction.js\");\n/* harmony import */ var _rpc_rpc_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../rpc/rpc.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/rpc/rpc.js\");\n/* harmony import */ var _utils_address_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../utils/address.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/utils/address.js\");\n/* harmony import */ var _utils_encoding_hex_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../utils/encoding/hex.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/utils/encoding/hex.js\");\n/* harmony import */ var _utils_encoding_hex_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../utils/encoding/hex.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/utils/encoding/helpers/is-hex.js\");\n/* harmony import */ var _utils_signatures_helpers_parse_typed_data_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../utils/signatures/helpers/parse-typed-data.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/utils/signatures/helpers/parse-typed-data.js\");\n/* harmony import */ var _actions_get_enclave_user_status_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../actions/get-enclave-user-status.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/core/actions/get-enclave-user-status.js\");\n/* harmony import */ var _actions_sign_authorization_enclave_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../actions/sign-authorization.enclave.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/core/actions/sign-authorization.enclave.js\");\n/* harmony import */ var _actions_sign_message_enclave_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../actions/sign-message.enclave.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/core/actions/sign-message.enclave.js\");\n/* harmony import */ var _actions_sign_transaction_enclave_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../actions/sign-transaction.enclave.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/core/actions/sign-transaction.enclave.js\");\n/* harmony import */ var _actions_sign_typed_data_enclave_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../actions/sign-typed-data.enclave.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/core/actions/sign-typed-data.enclave.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\nclass EnclaveWallet {\n    constructor({ client, ecosystem, address, storage, }) {\n        Object.defineProperty(this, \"client\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"ecosystem\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"address\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"localStorage\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        this.client = client;\n        this.ecosystem = ecosystem;\n        this.address = address;\n        this.localStorage = storage;\n    }\n    /**\n     * Store the auth token for use\n     * @returns `{walletAddress: string }` The user's wallet details\n     * @internal\n     */\n    async postWalletSetUp(authResult) {\n        await this.localStorage.saveAuthCookie(authResult.storedToken.cookieString);\n    }\n    /**\n     * Gets the current user's details\n     * @internal\n     */\n    async getUserWalletStatus() {\n        const token = await this.localStorage.getAuthCookie();\n        if (!token) {\n            return { status: \"Logged Out\" };\n        }\n        const userStatus = await (0,_actions_get_enclave_user_status_js__WEBPACK_IMPORTED_MODULE_0__.getUserStatus)({\n            authToken: token,\n            client: this.client,\n            ecosystem: this.ecosystem,\n        });\n        if (!userStatus) {\n            return { status: \"Logged Out\" };\n        }\n        const wallet = userStatus.wallets[0];\n        const authDetails = {\n            email: userStatus.linkedAccounts.find((account) => account.details.email !== undefined)?.details.email,\n            phoneNumber: userStatus.linkedAccounts.find((account) => account.details.phone !== undefined)?.details.phone,\n            recoveryShareManagement: \"ENCLAVE\",\n            userWalletId: userStatus.id || \"\",\n        };\n        if (!wallet) {\n            return {\n                authDetails,\n                status: \"Logged In, Wallet Uninitialized\",\n            };\n        }\n        return {\n            account: await this.getAccount(),\n            authDetails,\n            status: \"Logged In, Wallet Initialized\",\n            walletAddress: wallet.address,\n        };\n    }\n    /**\n     * Returns an account to perform wallet operations\n     * @internal\n     */\n    async getAccount() {\n        const client = this.client;\n        const storage = this.localStorage;\n        const address = this.address;\n        const ecosystem = this.ecosystem;\n        const _signTransaction = async (tx) => {\n            const rpcRequest = (0,_rpc_rpc_js__WEBPACK_IMPORTED_MODULE_1__.getRpcClient)({\n                chain: (0,_chains_utils_js__WEBPACK_IMPORTED_MODULE_2__.getCachedChain)(tx.chainId),\n                client,\n            });\n            const transaction = {\n                chainId: (0,_utils_encoding_hex_js__WEBPACK_IMPORTED_MODULE_3__.toHex)(tx.chainId),\n                data: tx.data,\n                gas: hexlify(tx.gas),\n                nonce: hexlify(tx.nonce) ||\n                    (0,_utils_encoding_hex_js__WEBPACK_IMPORTED_MODULE_3__.toHex)(await __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_thirdweb_dist_esm_rpc_actions_eth_getTransactionCount_js\").then(__webpack_require__.bind(__webpack_require__, /*! ../../../../rpc/actions/eth_getTransactionCount.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/rpc/actions/eth_getTransactionCount.js\")).then(({ eth_getTransactionCount }) => eth_getTransactionCount(rpcRequest, {\n                        address: (0,_utils_address_js__WEBPACK_IMPORTED_MODULE_4__.getAddress)(this.address),\n                        blockTag: \"pending\",\n                    }))),\n                to: tx.to ? (0,_utils_address_js__WEBPACK_IMPORTED_MODULE_4__.getAddress)(tx.to) : undefined,\n                value: hexlify(tx.value),\n            };\n            if (tx.authorizationList && tx.authorizationList.length > 0) {\n                transaction.type = 4;\n                transaction.authorizationList = tx.authorizationList;\n                transaction.maxFeePerGas = hexlify(tx.maxFeePerGas);\n                transaction.maxPriorityFeePerGas = hexlify(tx.maxPriorityFeePerGas);\n            }\n            else if (hexlify(tx.maxFeePerGas)) {\n                transaction.maxFeePerGas = hexlify(tx.maxFeePerGas);\n                transaction.maxPriorityFeePerGas = hexlify(tx.maxPriorityFeePerGas);\n                transaction.type = 2;\n            }\n            else {\n                transaction.gasPrice = hexlify(tx.gasPrice);\n                transaction.type = 0;\n            }\n            return (0,_actions_sign_transaction_enclave_js__WEBPACK_IMPORTED_MODULE_5__.signTransaction)({\n                client,\n                payload: transaction,\n                storage,\n            });\n        };\n        const account = {\n            address: (0,_utils_address_js__WEBPACK_IMPORTED_MODULE_4__.getAddress)(address),\n            async sendTransaction(tx) {\n                const rpcRequest = (0,_rpc_rpc_js__WEBPACK_IMPORTED_MODULE_1__.getRpcClient)({\n                    chain: (0,_chains_utils_js__WEBPACK_IMPORTED_MODULE_2__.getCachedChain)(tx.chainId),\n                    client,\n                });\n                const signedTx = await _signTransaction(tx);\n                const transactionHash = await (0,_rpc_actions_eth_sendRawTransaction_js__WEBPACK_IMPORTED_MODULE_6__.eth_sendRawTransaction)(rpcRequest, signedTx);\n                (0,_analytics_track_transaction_js__WEBPACK_IMPORTED_MODULE_7__.trackTransaction)({\n                    chainId: tx.chainId,\n                    client,\n                    contractAddress: tx.to ?? undefined,\n                    ecosystem,\n                    gasPrice: tx.gasPrice,\n                    transactionHash,\n                    walletAddress: address,\n                    walletType: \"inApp\",\n                });\n                return { transactionHash };\n            },\n            async signAuthorization(payload) {\n                const authorization = await (0,_actions_sign_authorization_enclave_js__WEBPACK_IMPORTED_MODULE_8__.signAuthorization)({\n                    client,\n                    payload,\n                    storage,\n                });\n                return {\n                    address: (0,_utils_address_js__WEBPACK_IMPORTED_MODULE_4__.getAddress)(authorization.address),\n                    chainId: Number.parseInt(authorization.chainId),\n                    nonce: BigInt(authorization.nonce),\n                    r: BigInt(authorization.r),\n                    s: BigInt(authorization.s),\n                    yParity: Number.parseInt(authorization.yParity),\n                };\n            },\n            async signMessage({ message, originalMessage, chainId }) {\n                const messagePayload = (() => {\n                    if (typeof message === \"string\") {\n                        return { chainId, isRaw: false, message, originalMessage };\n                    }\n                    return {\n                        chainId,\n                        isRaw: true,\n                        message: typeof message.raw === \"string\"\n                            ? message.raw\n                            : (0,viem__WEBPACK_IMPORTED_MODULE_9__.bytesToHex)(message.raw),\n                        originalMessage,\n                    };\n                })();\n                const { signature } = await (0,_actions_sign_message_enclave_js__WEBPACK_IMPORTED_MODULE_10__.signMessage)({\n                    client,\n                    payload: messagePayload,\n                    storage,\n                });\n                return signature;\n            },\n            async signTransaction(tx) {\n                if (!tx.chainId) {\n                    throw new Error(\"chainId required in tx to sign\");\n                }\n                return _signTransaction({\n                    chainId: tx.chainId,\n                    ...tx,\n                });\n            },\n            async signTypedData(_typedData) {\n                const parsedTypedData = (0,_utils_signatures_helpers_parse_typed_data_js__WEBPACK_IMPORTED_MODULE_11__.parseTypedData)(_typedData);\n                const { signature } = await (0,_actions_sign_typed_data_enclave_js__WEBPACK_IMPORTED_MODULE_12__.signTypedData)({\n                    client,\n                    payload: parsedTypedData,\n                    storage,\n                });\n                return signature;\n            },\n            sendCalls: async (options) => {\n                const { inAppWalletSendCalls } = await __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_thirdweb_dist_esm_wallets_in-app_core_eip5792_in-app-wallet-c-4f1eb6\").then(__webpack_require__.bind(__webpack_require__, /*! ../eip5792/in-app-wallet-calls.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/core/eip5792/in-app-wallet-calls.js\"));\n                const firstCall = options.calls[0];\n                if (!firstCall) {\n                    throw new Error(\"No calls to send\");\n                }\n                const client = firstCall.client;\n                const chain = firstCall.chain || options.chain;\n                const id = await inAppWalletSendCalls({\n                    account: account,\n                    calls: options.calls,\n                });\n                return { chain, client, id };\n            },\n            getCallsStatus: async (options) => {\n                const { inAppWalletGetCallsStatus } = await __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_thirdweb_dist_esm_wallets_in-app_core_eip5792_in-app-wallet-c-4f1eb6\").then(__webpack_require__.bind(__webpack_require__, /*! ../eip5792/in-app-wallet-calls.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/core/eip5792/in-app-wallet-calls.js\"));\n                return inAppWalletGetCallsStatus(options);\n            },\n            getCapabilities: async (options) => {\n                return {\n                    [options.chainId ?? 1]: {\n                        atomic: {\n                            status: \"unsupported\",\n                        },\n                        paymasterService: {\n                            supported: false,\n                        },\n                    },\n                };\n            },\n        };\n        return account;\n    }\n}\nfunction hexlify(value) {\n    return value === undefined || (0,_utils_encoding_hex_js__WEBPACK_IMPORTED_MODULE_13__.isHex)(value) ? value : (0,_utils_encoding_hex_js__WEBPACK_IMPORTED_MODULE_3__.toHex)(value);\n}\n//# sourceMappingURL=enclave-wallet.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy90aGlyZHdlYi9kaXN0L2VzbS93YWxsZXRzL2luLWFwcC9jb3JlL3dhbGxldC9lbmNsYXZlLXdhbGxldC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBa0M7QUFDNEM7QUFDakI7QUFDOEI7QUFDckM7QUFDSTtBQUNPO0FBQ3lCO0FBQ3BCO0FBQ21DO0FBQ2xCO0FBQ1k7QUFDTDtBQUN2RjtBQUNQLGtCQUFrQixzQ0FBc0M7QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQix1QkFBdUI7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0EsaUNBQWlDLGtGQUFhO0FBQzlDO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQix5REFBWTtBQUMzQyx1QkFBdUIsZ0VBQWM7QUFDckM7QUFDQSxhQUFhO0FBQ2I7QUFDQSx5QkFBeUIsNkRBQUs7QUFDOUI7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLDZEQUFLLE9BQU8sOFVBQTRELFNBQVMseUJBQXlCO0FBQzlILGlDQUFpQyw2REFBVTtBQUMzQztBQUNBLHFCQUFxQjtBQUNyQiw0QkFBNEIsNkRBQVU7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixxRkFBc0I7QUFDekM7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxxQkFBcUIsNkRBQVU7QUFDL0I7QUFDQSxtQ0FBbUMseURBQVk7QUFDL0MsMkJBQTJCLGdFQUFjO0FBQ3pDO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsOENBQThDLDhGQUFzQjtBQUNwRSxnQkFBZ0IsaUZBQWdCO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIseUJBQXlCO0FBQ3pCLGFBQWE7QUFDYjtBQUNBLDRDQUE0Qyx5RkFBd0I7QUFDcEU7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsNkJBQTZCLDZEQUFVO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixnQ0FBZ0MsbUNBQW1DO0FBQ25FO0FBQ0E7QUFDQSxpQ0FBaUM7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLGdEQUFVO0FBQ3hDO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsd0JBQXdCLFlBQVksUUFBUSw4RUFBa0I7QUFDOUQ7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYjtBQUNBLHdDQUF3Qyw4RkFBYztBQUN0RCx3QkFBd0IsWUFBWSxRQUFRLG1GQUFvQjtBQUNoRTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSxhQUFhO0FBQ2I7QUFDQSx3QkFBd0IsdUJBQXVCLFFBQVEscVZBQTJDO0FBQ2xHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQix5QkFBeUI7QUFDekIsYUFBYTtBQUNiO0FBQ0Esd0JBQXdCLDRCQUE0QixRQUFRLHFWQUEyQztBQUN2RztBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekIscUJBQXFCO0FBQ3JCO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0MsOERBQUssa0JBQWtCLDZEQUFLO0FBQzlEO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL3RoaXJkd2ViL2Rpc3QvZXNtL3dhbGxldHMvaW4tYXBwL2NvcmUvd2FsbGV0L2VuY2xhdmUtd2FsbGV0LmpzPzEzNTUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgYnl0ZXNUb0hleCB9IGZyb20gXCJ2aWVtXCI7XG5pbXBvcnQgeyB0cmFja1RyYW5zYWN0aW9uIH0gZnJvbSBcIi4uLy4uLy4uLy4uL2FuYWx5dGljcy90cmFjay90cmFuc2FjdGlvbi5qc1wiO1xuaW1wb3J0IHsgZ2V0Q2FjaGVkQ2hhaW4gfSBmcm9tIFwiLi4vLi4vLi4vLi4vY2hhaW5zL3V0aWxzLmpzXCI7XG5pbXBvcnQgeyBldGhfc2VuZFJhd1RyYW5zYWN0aW9uIH0gZnJvbSBcIi4uLy4uLy4uLy4uL3JwYy9hY3Rpb25zL2V0aF9zZW5kUmF3VHJhbnNhY3Rpb24uanNcIjtcbmltcG9ydCB7IGdldFJwY0NsaWVudCB9IGZyb20gXCIuLi8uLi8uLi8uLi9ycGMvcnBjLmpzXCI7XG5pbXBvcnQgeyBnZXRBZGRyZXNzIH0gZnJvbSBcIi4uLy4uLy4uLy4uL3V0aWxzL2FkZHJlc3MuanNcIjtcbmltcG9ydCB7IGlzSGV4LCB0b0hleCB9IGZyb20gXCIuLi8uLi8uLi8uLi91dGlscy9lbmNvZGluZy9oZXguanNcIjtcbmltcG9ydCB7IHBhcnNlVHlwZWREYXRhIH0gZnJvbSBcIi4uLy4uLy4uLy4uL3V0aWxzL3NpZ25hdHVyZXMvaGVscGVycy9wYXJzZS10eXBlZC1kYXRhLmpzXCI7XG5pbXBvcnQgeyBnZXRVc2VyU3RhdHVzIH0gZnJvbSBcIi4uL2FjdGlvbnMvZ2V0LWVuY2xhdmUtdXNlci1zdGF0dXMuanNcIjtcbmltcG9ydCB7IHNpZ25BdXRob3JpemF0aW9uIGFzIHNpZ25FbmNsYXZlQXV0aG9yaXphdGlvbiB9IGZyb20gXCIuLi9hY3Rpb25zL3NpZ24tYXV0aG9yaXphdGlvbi5lbmNsYXZlLmpzXCI7XG5pbXBvcnQgeyBzaWduTWVzc2FnZSBhcyBzaWduRW5jbGF2ZU1lc3NhZ2UgfSBmcm9tIFwiLi4vYWN0aW9ucy9zaWduLW1lc3NhZ2UuZW5jbGF2ZS5qc1wiO1xuaW1wb3J0IHsgc2lnblRyYW5zYWN0aW9uIGFzIHNpZ25FbmNsYXZlVHJhbnNhY3Rpb24gfSBmcm9tIFwiLi4vYWN0aW9ucy9zaWduLXRyYW5zYWN0aW9uLmVuY2xhdmUuanNcIjtcbmltcG9ydCB7IHNpZ25UeXBlZERhdGEgYXMgc2lnbkVuY2xhdmVUeXBlZERhdGEgfSBmcm9tIFwiLi4vYWN0aW9ucy9zaWduLXR5cGVkLWRhdGEuZW5jbGF2ZS5qc1wiO1xuZXhwb3J0IGNsYXNzIEVuY2xhdmVXYWxsZXQge1xuICAgIGNvbnN0cnVjdG9yKHsgY2xpZW50LCBlY29zeXN0ZW0sIGFkZHJlc3MsIHN0b3JhZ2UsIH0pIHtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiY2xpZW50XCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImVjb3N5c3RlbVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJhZGRyZXNzXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImxvY2FsU3RvcmFnZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmNsaWVudCA9IGNsaWVudDtcbiAgICAgICAgdGhpcy5lY29zeXN0ZW0gPSBlY29zeXN0ZW07XG4gICAgICAgIHRoaXMuYWRkcmVzcyA9IGFkZHJlc3M7XG4gICAgICAgIHRoaXMubG9jYWxTdG9yYWdlID0gc3RvcmFnZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU3RvcmUgdGhlIGF1dGggdG9rZW4gZm9yIHVzZVxuICAgICAqIEByZXR1cm5zIGB7d2FsbGV0QWRkcmVzczogc3RyaW5nIH1gIFRoZSB1c2VyJ3Mgd2FsbGV0IGRldGFpbHNcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBhc3luYyBwb3N0V2FsbGV0U2V0VXAoYXV0aFJlc3VsdCkge1xuICAgICAgICBhd2FpdCB0aGlzLmxvY2FsU3RvcmFnZS5zYXZlQXV0aENvb2tpZShhdXRoUmVzdWx0LnN0b3JlZFRva2VuLmNvb2tpZVN0cmluZyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGN1cnJlbnQgdXNlcidzIGRldGFpbHNcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBhc3luYyBnZXRVc2VyV2FsbGV0U3RhdHVzKCkge1xuICAgICAgICBjb25zdCB0b2tlbiA9IGF3YWl0IHRoaXMubG9jYWxTdG9yYWdlLmdldEF1dGhDb29raWUoKTtcbiAgICAgICAgaWYgKCF0b2tlbikge1xuICAgICAgICAgICAgcmV0dXJuIHsgc3RhdHVzOiBcIkxvZ2dlZCBPdXRcIiB9O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHVzZXJTdGF0dXMgPSBhd2FpdCBnZXRVc2VyU3RhdHVzKHtcbiAgICAgICAgICAgIGF1dGhUb2tlbjogdG9rZW4sXG4gICAgICAgICAgICBjbGllbnQ6IHRoaXMuY2xpZW50LFxuICAgICAgICAgICAgZWNvc3lzdGVtOiB0aGlzLmVjb3N5c3RlbSxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghdXNlclN0YXR1cykge1xuICAgICAgICAgICAgcmV0dXJuIHsgc3RhdHVzOiBcIkxvZ2dlZCBPdXRcIiB9O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHdhbGxldCA9IHVzZXJTdGF0dXMud2FsbGV0c1swXTtcbiAgICAgICAgY29uc3QgYXV0aERldGFpbHMgPSB7XG4gICAgICAgICAgICBlbWFpbDogdXNlclN0YXR1cy5saW5rZWRBY2NvdW50cy5maW5kKChhY2NvdW50KSA9PiBhY2NvdW50LmRldGFpbHMuZW1haWwgIT09IHVuZGVmaW5lZCk/LmRldGFpbHMuZW1haWwsXG4gICAgICAgICAgICBwaG9uZU51bWJlcjogdXNlclN0YXR1cy5saW5rZWRBY2NvdW50cy5maW5kKChhY2NvdW50KSA9PiBhY2NvdW50LmRldGFpbHMucGhvbmUgIT09IHVuZGVmaW5lZCk/LmRldGFpbHMucGhvbmUsXG4gICAgICAgICAgICByZWNvdmVyeVNoYXJlTWFuYWdlbWVudDogXCJFTkNMQVZFXCIsXG4gICAgICAgICAgICB1c2VyV2FsbGV0SWQ6IHVzZXJTdGF0dXMuaWQgfHwgXCJcIixcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKCF3YWxsZXQpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgYXV0aERldGFpbHMsXG4gICAgICAgICAgICAgICAgc3RhdHVzOiBcIkxvZ2dlZCBJbiwgV2FsbGV0IFVuaW5pdGlhbGl6ZWRcIixcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGFjY291bnQ6IGF3YWl0IHRoaXMuZ2V0QWNjb3VudCgpLFxuICAgICAgICAgICAgYXV0aERldGFpbHMsXG4gICAgICAgICAgICBzdGF0dXM6IFwiTG9nZ2VkIEluLCBXYWxsZXQgSW5pdGlhbGl6ZWRcIixcbiAgICAgICAgICAgIHdhbGxldEFkZHJlc3M6IHdhbGxldC5hZGRyZXNzLFxuICAgICAgICB9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGFuIGFjY291bnQgdG8gcGVyZm9ybSB3YWxsZXQgb3BlcmF0aW9uc1xuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIGFzeW5jIGdldEFjY291bnQoKSB7XG4gICAgICAgIGNvbnN0IGNsaWVudCA9IHRoaXMuY2xpZW50O1xuICAgICAgICBjb25zdCBzdG9yYWdlID0gdGhpcy5sb2NhbFN0b3JhZ2U7XG4gICAgICAgIGNvbnN0IGFkZHJlc3MgPSB0aGlzLmFkZHJlc3M7XG4gICAgICAgIGNvbnN0IGVjb3N5c3RlbSA9IHRoaXMuZWNvc3lzdGVtO1xuICAgICAgICBjb25zdCBfc2lnblRyYW5zYWN0aW9uID0gYXN5bmMgKHR4KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBycGNSZXF1ZXN0ID0gZ2V0UnBjQ2xpZW50KHtcbiAgICAgICAgICAgICAgICBjaGFpbjogZ2V0Q2FjaGVkQ2hhaW4odHguY2hhaW5JZCksXG4gICAgICAgICAgICAgICAgY2xpZW50LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zdCB0cmFuc2FjdGlvbiA9IHtcbiAgICAgICAgICAgICAgICBjaGFpbklkOiB0b0hleCh0eC5jaGFpbklkKSxcbiAgICAgICAgICAgICAgICBkYXRhOiB0eC5kYXRhLFxuICAgICAgICAgICAgICAgIGdhczogaGV4bGlmeSh0eC5nYXMpLFxuICAgICAgICAgICAgICAgIG5vbmNlOiBoZXhsaWZ5KHR4Lm5vbmNlKSB8fFxuICAgICAgICAgICAgICAgICAgICB0b0hleChhd2FpdCBpbXBvcnQoXCIuLi8uLi8uLi8uLi9ycGMvYWN0aW9ucy9ldGhfZ2V0VHJhbnNhY3Rpb25Db3VudC5qc1wiKS50aGVuKCh7IGV0aF9nZXRUcmFuc2FjdGlvbkNvdW50IH0pID0+IGV0aF9nZXRUcmFuc2FjdGlvbkNvdW50KHJwY1JlcXVlc3QsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZHJlc3M6IGdldEFkZHJlc3ModGhpcy5hZGRyZXNzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGJsb2NrVGFnOiBcInBlbmRpbmdcIixcbiAgICAgICAgICAgICAgICAgICAgfSkpKSxcbiAgICAgICAgICAgICAgICB0bzogdHgudG8gPyBnZXRBZGRyZXNzKHR4LnRvKSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICB2YWx1ZTogaGV4bGlmeSh0eC52YWx1ZSksXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKHR4LmF1dGhvcml6YXRpb25MaXN0ICYmIHR4LmF1dGhvcml6YXRpb25MaXN0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbi50eXBlID0gNDtcbiAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbi5hdXRob3JpemF0aW9uTGlzdCA9IHR4LmF1dGhvcml6YXRpb25MaXN0O1xuICAgICAgICAgICAgICAgIHRyYW5zYWN0aW9uLm1heEZlZVBlckdhcyA9IGhleGxpZnkodHgubWF4RmVlUGVyR2FzKTtcbiAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbi5tYXhQcmlvcml0eUZlZVBlckdhcyA9IGhleGxpZnkodHgubWF4UHJpb3JpdHlGZWVQZXJHYXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaGV4bGlmeSh0eC5tYXhGZWVQZXJHYXMpKSB7XG4gICAgICAgICAgICAgICAgdHJhbnNhY3Rpb24ubWF4RmVlUGVyR2FzID0gaGV4bGlmeSh0eC5tYXhGZWVQZXJHYXMpO1xuICAgICAgICAgICAgICAgIHRyYW5zYWN0aW9uLm1heFByaW9yaXR5RmVlUGVyR2FzID0gaGV4bGlmeSh0eC5tYXhQcmlvcml0eUZlZVBlckdhcyk7XG4gICAgICAgICAgICAgICAgdHJhbnNhY3Rpb24udHlwZSA9IDI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbi5nYXNQcmljZSA9IGhleGxpZnkodHguZ2FzUHJpY2UpO1xuICAgICAgICAgICAgICAgIHRyYW5zYWN0aW9uLnR5cGUgPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHNpZ25FbmNsYXZlVHJhbnNhY3Rpb24oe1xuICAgICAgICAgICAgICAgIGNsaWVudCxcbiAgICAgICAgICAgICAgICBwYXlsb2FkOiB0cmFuc2FjdGlvbixcbiAgICAgICAgICAgICAgICBzdG9yYWdlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGFjY291bnQgPSB7XG4gICAgICAgICAgICBhZGRyZXNzOiBnZXRBZGRyZXNzKGFkZHJlc3MpLFxuICAgICAgICAgICAgYXN5bmMgc2VuZFRyYW5zYWN0aW9uKHR4KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcnBjUmVxdWVzdCA9IGdldFJwY0NsaWVudCh7XG4gICAgICAgICAgICAgICAgICAgIGNoYWluOiBnZXRDYWNoZWRDaGFpbih0eC5jaGFpbklkKSxcbiAgICAgICAgICAgICAgICAgICAgY2xpZW50LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNpZ25lZFR4ID0gYXdhaXQgX3NpZ25UcmFuc2FjdGlvbih0eCk7XG4gICAgICAgICAgICAgICAgY29uc3QgdHJhbnNhY3Rpb25IYXNoID0gYXdhaXQgZXRoX3NlbmRSYXdUcmFuc2FjdGlvbihycGNSZXF1ZXN0LCBzaWduZWRUeCk7XG4gICAgICAgICAgICAgICAgdHJhY2tUcmFuc2FjdGlvbih7XG4gICAgICAgICAgICAgICAgICAgIGNoYWluSWQ6IHR4LmNoYWluSWQsXG4gICAgICAgICAgICAgICAgICAgIGNsaWVudCxcbiAgICAgICAgICAgICAgICAgICAgY29udHJhY3RBZGRyZXNzOiB0eC50byA/PyB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgIGVjb3N5c3RlbSxcbiAgICAgICAgICAgICAgICAgICAgZ2FzUHJpY2U6IHR4Lmdhc1ByaWNlLFxuICAgICAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbkhhc2gsXG4gICAgICAgICAgICAgICAgICAgIHdhbGxldEFkZHJlc3M6IGFkZHJlc3MsXG4gICAgICAgICAgICAgICAgICAgIHdhbGxldFR5cGU6IFwiaW5BcHBcIixcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4geyB0cmFuc2FjdGlvbkhhc2ggfTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBhc3luYyBzaWduQXV0aG9yaXphdGlvbihwYXlsb2FkKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYXV0aG9yaXphdGlvbiA9IGF3YWl0IHNpZ25FbmNsYXZlQXV0aG9yaXphdGlvbih7XG4gICAgICAgICAgICAgICAgICAgIGNsaWVudCxcbiAgICAgICAgICAgICAgICAgICAgcGF5bG9hZCxcbiAgICAgICAgICAgICAgICAgICAgc3RvcmFnZSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBhZGRyZXNzOiBnZXRBZGRyZXNzKGF1dGhvcml6YXRpb24uYWRkcmVzcyksXG4gICAgICAgICAgICAgICAgICAgIGNoYWluSWQ6IE51bWJlci5wYXJzZUludChhdXRob3JpemF0aW9uLmNoYWluSWQpLFxuICAgICAgICAgICAgICAgICAgICBub25jZTogQmlnSW50KGF1dGhvcml6YXRpb24ubm9uY2UpLFxuICAgICAgICAgICAgICAgICAgICByOiBCaWdJbnQoYXV0aG9yaXphdGlvbi5yKSxcbiAgICAgICAgICAgICAgICAgICAgczogQmlnSW50KGF1dGhvcml6YXRpb24ucyksXG4gICAgICAgICAgICAgICAgICAgIHlQYXJpdHk6IE51bWJlci5wYXJzZUludChhdXRob3JpemF0aW9uLnlQYXJpdHkpLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYXN5bmMgc2lnbk1lc3NhZ2UoeyBtZXNzYWdlLCBvcmlnaW5hbE1lc3NhZ2UsIGNoYWluSWQgfSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2VQYXlsb2FkID0gKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBtZXNzYWdlID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geyBjaGFpbklkLCBpc1JhdzogZmFsc2UsIG1lc3NhZ2UsIG9yaWdpbmFsTWVzc2FnZSB9O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjaGFpbklkLFxuICAgICAgICAgICAgICAgICAgICAgICAgaXNSYXc6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiB0eXBlb2YgbWVzc2FnZS5yYXcgPT09IFwic3RyaW5nXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IG1lc3NhZ2UucmF3XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBieXRlc1RvSGV4KG1lc3NhZ2UucmF3KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsTWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9KSgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgc2lnbmF0dXJlIH0gPSBhd2FpdCBzaWduRW5jbGF2ZU1lc3NhZ2Uoe1xuICAgICAgICAgICAgICAgICAgICBjbGllbnQsXG4gICAgICAgICAgICAgICAgICAgIHBheWxvYWQ6IG1lc3NhZ2VQYXlsb2FkLFxuICAgICAgICAgICAgICAgICAgICBzdG9yYWdlLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiBzaWduYXR1cmU7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYXN5bmMgc2lnblRyYW5zYWN0aW9uKHR4KSB7XG4gICAgICAgICAgICAgICAgaWYgKCF0eC5jaGFpbklkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcImNoYWluSWQgcmVxdWlyZWQgaW4gdHggdG8gc2lnblwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9zaWduVHJhbnNhY3Rpb24oe1xuICAgICAgICAgICAgICAgICAgICBjaGFpbklkOiB0eC5jaGFpbklkLFxuICAgICAgICAgICAgICAgICAgICAuLi50eCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBhc3luYyBzaWduVHlwZWREYXRhKF90eXBlZERhdGEpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJzZWRUeXBlZERhdGEgPSBwYXJzZVR5cGVkRGF0YShfdHlwZWREYXRhKTtcbiAgICAgICAgICAgICAgICBjb25zdCB7IHNpZ25hdHVyZSB9ID0gYXdhaXQgc2lnbkVuY2xhdmVUeXBlZERhdGEoe1xuICAgICAgICAgICAgICAgICAgICBjbGllbnQsXG4gICAgICAgICAgICAgICAgICAgIHBheWxvYWQ6IHBhcnNlZFR5cGVkRGF0YSxcbiAgICAgICAgICAgICAgICAgICAgc3RvcmFnZSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2lnbmF0dXJlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNlbmRDYWxsczogYXN5bmMgKG9wdGlvbnMpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGluQXBwV2FsbGV0U2VuZENhbGxzIH0gPSBhd2FpdCBpbXBvcnQoXCIuLi9laXA1NzkyL2luLWFwcC13YWxsZXQtY2FsbHMuanNcIik7XG4gICAgICAgICAgICAgICAgY29uc3QgZmlyc3RDYWxsID0gb3B0aW9ucy5jYWxsc1swXTtcbiAgICAgICAgICAgICAgICBpZiAoIWZpcnN0Q2FsbCkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJObyBjYWxscyB0byBzZW5kXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBjbGllbnQgPSBmaXJzdENhbGwuY2xpZW50O1xuICAgICAgICAgICAgICAgIGNvbnN0IGNoYWluID0gZmlyc3RDYWxsLmNoYWluIHx8IG9wdGlvbnMuY2hhaW47XG4gICAgICAgICAgICAgICAgY29uc3QgaWQgPSBhd2FpdCBpbkFwcFdhbGxldFNlbmRDYWxscyh7XG4gICAgICAgICAgICAgICAgICAgIGFjY291bnQ6IGFjY291bnQsXG4gICAgICAgICAgICAgICAgICAgIGNhbGxzOiBvcHRpb25zLmNhbGxzLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiB7IGNoYWluLCBjbGllbnQsIGlkIH07XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0Q2FsbHNTdGF0dXM6IGFzeW5jIChvcHRpb25zKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBpbkFwcFdhbGxldEdldENhbGxzU3RhdHVzIH0gPSBhd2FpdCBpbXBvcnQoXCIuLi9laXA1NzkyL2luLWFwcC13YWxsZXQtY2FsbHMuanNcIik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGluQXBwV2FsbGV0R2V0Q2FsbHNTdGF0dXMob3B0aW9ucyk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0Q2FwYWJpbGl0aWVzOiBhc3luYyAob3B0aW9ucykgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIFtvcHRpb25zLmNoYWluSWQgPz8gMV06IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF0b21pYzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogXCJ1bnN1cHBvcnRlZFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBheW1hc3RlclNlcnZpY2U6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdXBwb3J0ZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIGFjY291bnQ7XG4gICAgfVxufVxuZnVuY3Rpb24gaGV4bGlmeSh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSA9PT0gdW5kZWZpbmVkIHx8IGlzSGV4KHZhbHVlKSA/IHZhbHVlIDogdG9IZXgodmFsdWUpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZW5jbGF2ZS13YWxsZXQuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/core/wallet/enclave-wallet.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/native/helpers/constants.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/thirdweb/dist/esm/wallets/in-app/native/helpers/constants.js ***!
  \***********************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AUTH_SHARE_INDEX: function() { return /* binding */ AUTH_SHARE_INDEX; },\n/* harmony export */   AWS_REGION: function() { return /* binding */ AWS_REGION; },\n/* harmony export */   COGNITO_IDENTITY_POOL_ID: function() { return /* binding */ COGNITO_IDENTITY_POOL_ID; },\n/* harmony export */   DEVICE_SHARE_INDEX: function() { return /* binding */ DEVICE_SHARE_INDEX; },\n/* harmony export */   DEVICE_SHARE_MISSING_MESSAGE: function() { return /* binding */ DEVICE_SHARE_MISSING_MESSAGE; },\n/* harmony export */   ENCLAVE_KMS_KEY_ARN: function() { return /* binding */ ENCLAVE_KMS_KEY_ARN; },\n/* harmony export */   GENERATE_RECOVERY_PASSWORD_LAMBDA_FUNCTION_V1: function() { return /* binding */ GENERATE_RECOVERY_PASSWORD_LAMBDA_FUNCTION_V1; },\n/* harmony export */   GENERATE_RECOVERY_PASSWORD_LAMBDA_FUNCTION_V2: function() { return /* binding */ GENERATE_RECOVERY_PASSWORD_LAMBDA_FUNCTION_V2; },\n/* harmony export */   INVALID_DEVICE_SHARE_MESSAGE: function() { return /* binding */ INVALID_DEVICE_SHARE_MESSAGE; },\n/* harmony export */   RECOVERY_SHARE_INDEX: function() { return /* binding */ RECOVERY_SHARE_INDEX; },\n/* harmony export */   ROUTE_AUTH_COGNITO_ID_TOKEN_V1: function() { return /* binding */ ROUTE_AUTH_COGNITO_ID_TOKEN_V1; },\n/* harmony export */   ROUTE_AUTH_COGNITO_ID_TOKEN_V2: function() { return /* binding */ ROUTE_AUTH_COGNITO_ID_TOKEN_V2; },\n/* harmony export */   ROUTE_AUTH_ENDPOINT_CALLBACK: function() { return /* binding */ ROUTE_AUTH_ENDPOINT_CALLBACK; },\n/* harmony export */   ROUTE_AUTH_JWT_CALLBACK: function() { return /* binding */ ROUTE_AUTH_JWT_CALLBACK; },\n/* harmony export */   ROUTE_COGNITO_IDENTITY_POOL_URL: function() { return /* binding */ ROUTE_COGNITO_IDENTITY_POOL_URL; },\n/* harmony export */   ROUTE_EMBEDDED_WALLET_DETAILS: function() { return /* binding */ ROUTE_EMBEDDED_WALLET_DETAILS; },\n/* harmony export */   ROUTE_GET_USER_SHARES: function() { return /* binding */ ROUTE_GET_USER_SHARES; },\n/* harmony export */   ROUTE_STORE_USER_SHARES: function() { return /* binding */ ROUTE_STORE_USER_SHARES; },\n/* harmony export */   ROUTE_VERIFY_THIRDWEB_CLIENT_ID: function() { return /* binding */ ROUTE_VERIFY_THIRDWEB_CLIENT_ID; },\n/* harmony export */   THIRDWEB_SESSION_NONCE_HEADER: function() { return /* binding */ THIRDWEB_SESSION_NONCE_HEADER; }\n/* harmony export */ });\n/* harmony import */ var _utils_domains_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../utils/domains.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/utils/domains.js\");\n\nconst AUTH_SHARE_ID = 3;\nconst AUTH_SHARE_INDEX = AUTH_SHARE_ID - 1;\nconst DEVICE_SHARE_ID = 1;\nconst DEVICE_SHARE_INDEX = DEVICE_SHARE_ID - 1;\nconst DEVICE_SHARE_MISSING_MESSAGE = \"Missing device share.\";\nconst INVALID_DEVICE_SHARE_MESSAGE = \"Invalid private key reconstructed from shares\";\nconst RECOVERY_SHARE_ID = 2;\nconst RECOVERY_SHARE_INDEX = RECOVERY_SHARE_ID - 1;\nconst AWS_REGION = \"us-west-2\";\nconst THIRDWEB_SESSION_NONCE_HEADER = \"x-session-nonce\";\nconst COGNITO_USER_POOL_ID = \"us-west-2_UFwLcZIpq\";\nconst COGNITO_IDENTITY_POOL_ID = \"us-west-2:2ad7ab1e-f48b-48a6-adfa-ac1090689c26\";\nconst GENERATE_RECOVERY_PASSWORD_LAMBDA_FUNCTION_V1 = \"arn:aws:lambda:us-west-2:324457261097:function:recovery-share-password-GenerateRecoverySharePassw-bbE5ZbVAToil\";\nconst GENERATE_RECOVERY_PASSWORD_LAMBDA_FUNCTION_V2 = \"arn:aws:lambda:us-west-2:324457261097:function:lambda-thirdweb-auth-enc-key-prod-ThirdwebAuthEncKeyFunction\";\nconst ENCLAVE_KMS_KEY_ARN = \"arn:aws:kms:us-west-2:324457261097:key/ccfb9ecd-f45d-4f37-864a-25fe72dcb49e\";\n// TODO allow overriding domain\nconst DOMAIN_URL_2023 = (0,_utils_domains_js__WEBPACK_IMPORTED_MODULE_0__.getThirdwebBaseUrl)(\"inAppWallet\");\nconst BASE_URL_2023 = `${DOMAIN_URL_2023}/`;\nconst ROUTE_2023_10_20_API_BASE_PATH = `${BASE_URL_2023}api/2023-10-20`;\nconst ROUTE_2024_05_05_API_BASE_PATH = `${BASE_URL_2023}api/2024-05-05`;\nconst ROUTE_EMBEDDED_WALLET_DETAILS = `${ROUTE_2023_10_20_API_BASE_PATH}/embedded-wallet/embedded-wallet-user-details`;\nconst ROUTE_COGNITO_IDENTITY_POOL_URL = `cognito-idp.${AWS_REGION}.amazonaws.com/${COGNITO_USER_POOL_ID}`;\nconst ROUTE_STORE_USER_SHARES = `${ROUTE_2023_10_20_API_BASE_PATH}/embedded-wallet/embedded-wallet-shares`;\nconst ROUTE_GET_USER_SHARES = `${ROUTE_2023_10_20_API_BASE_PATH}/embedded-wallet/embedded-wallet-shares`;\nconst ROUTE_VERIFY_THIRDWEB_CLIENT_ID = `${ROUTE_2023_10_20_API_BASE_PATH}/embedded-wallet/verify-thirdweb-client-id`;\nconst ROUTE_AUTH_JWT_CALLBACK = `${ROUTE_2023_10_20_API_BASE_PATH}/embedded-wallet/validate-custom-jwt`;\nconst ROUTE_AUTH_ENDPOINT_CALLBACK = `${ROUTE_2023_10_20_API_BASE_PATH}/embedded-wallet/validate-custom-auth-endpoint`;\nconst ROUTE_AUTH_COGNITO_ID_TOKEN_V1 = `${ROUTE_2023_10_20_API_BASE_PATH}/embedded-wallet/cognito-id-token`;\nconst ROUTE_AUTH_COGNITO_ID_TOKEN_V2 = `${ROUTE_2024_05_05_API_BASE_PATH}/login/web-token-exchange`;\n//# sourceMappingURL=constants.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy90aGlyZHdlYi9kaXN0L2VzbS93YWxsZXRzL2luLWFwcC9uYXRpdmUvaGVscGVycy9jb25zdGFudHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQWtFO0FBQ2xFO0FBQ087QUFDUDtBQUNPO0FBQ0E7QUFDQTtBQUNQO0FBQ087QUFDQTtBQUNBO0FBQ1A7QUFDTztBQUNBO0FBQ0E7QUFDQTtBQUNQO0FBQ0Esd0JBQXdCLHFFQUFrQjtBQUMxQyx5QkFBeUIsZ0JBQWdCO0FBQ3pDLDBDQUEwQyxjQUFjO0FBQ3hELDBDQUEwQyxjQUFjO0FBQ2pELHlDQUF5QywrQkFBK0I7QUFDeEUsdURBQXVELFdBQVcsaUJBQWlCLHFCQUFxQjtBQUN4RyxtQ0FBbUMsK0JBQStCO0FBQ2xFLGlDQUFpQywrQkFBK0I7QUFDaEUsMkNBQTJDLCtCQUErQjtBQUMxRSxtQ0FBbUMsK0JBQStCO0FBQ2xFLHdDQUF3QywrQkFBK0I7QUFDdkUsMENBQTBDLCtCQUErQjtBQUN6RSwwQ0FBMEMsK0JBQStCO0FBQ2hGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy90aGlyZHdlYi9kaXN0L2VzbS93YWxsZXRzL2luLWFwcC9uYXRpdmUvaGVscGVycy9jb25zdGFudHMuanM/ZWVmZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBnZXRUaGlyZHdlYkJhc2VVcmwgfSBmcm9tIFwiLi4vLi4vLi4vLi4vdXRpbHMvZG9tYWlucy5qc1wiO1xuY29uc3QgQVVUSF9TSEFSRV9JRCA9IDM7XG5leHBvcnQgY29uc3QgQVVUSF9TSEFSRV9JTkRFWCA9IEFVVEhfU0hBUkVfSUQgLSAxO1xuY29uc3QgREVWSUNFX1NIQVJFX0lEID0gMTtcbmV4cG9ydCBjb25zdCBERVZJQ0VfU0hBUkVfSU5ERVggPSBERVZJQ0VfU0hBUkVfSUQgLSAxO1xuZXhwb3J0IGNvbnN0IERFVklDRV9TSEFSRV9NSVNTSU5HX01FU1NBR0UgPSBcIk1pc3NpbmcgZGV2aWNlIHNoYXJlLlwiO1xuZXhwb3J0IGNvbnN0IElOVkFMSURfREVWSUNFX1NIQVJFX01FU1NBR0UgPSBcIkludmFsaWQgcHJpdmF0ZSBrZXkgcmVjb25zdHJ1Y3RlZCBmcm9tIHNoYXJlc1wiO1xuY29uc3QgUkVDT1ZFUllfU0hBUkVfSUQgPSAyO1xuZXhwb3J0IGNvbnN0IFJFQ09WRVJZX1NIQVJFX0lOREVYID0gUkVDT1ZFUllfU0hBUkVfSUQgLSAxO1xuZXhwb3J0IGNvbnN0IEFXU19SRUdJT04gPSBcInVzLXdlc3QtMlwiO1xuZXhwb3J0IGNvbnN0IFRISVJEV0VCX1NFU1NJT05fTk9OQ0VfSEVBREVSID0gXCJ4LXNlc3Npb24tbm9uY2VcIjtcbmNvbnN0IENPR05JVE9fVVNFUl9QT09MX0lEID0gXCJ1cy13ZXN0LTJfVUZ3TGNaSXBxXCI7XG5leHBvcnQgY29uc3QgQ09HTklUT19JREVOVElUWV9QT09MX0lEID0gXCJ1cy13ZXN0LTI6MmFkN2FiMWUtZjQ4Yi00OGE2LWFkZmEtYWMxMDkwNjg5YzI2XCI7XG5leHBvcnQgY29uc3QgR0VORVJBVEVfUkVDT1ZFUllfUEFTU1dPUkRfTEFNQkRBX0ZVTkNUSU9OX1YxID0gXCJhcm46YXdzOmxhbWJkYTp1cy13ZXN0LTI6MzI0NDU3MjYxMDk3OmZ1bmN0aW9uOnJlY292ZXJ5LXNoYXJlLXBhc3N3b3JkLUdlbmVyYXRlUmVjb3ZlcnlTaGFyZVBhc3N3LWJiRTVaYlZBVG9pbFwiO1xuZXhwb3J0IGNvbnN0IEdFTkVSQVRFX1JFQ09WRVJZX1BBU1NXT1JEX0xBTUJEQV9GVU5DVElPTl9WMiA9IFwiYXJuOmF3czpsYW1iZGE6dXMtd2VzdC0yOjMyNDQ1NzI2MTA5NzpmdW5jdGlvbjpsYW1iZGEtdGhpcmR3ZWItYXV0aC1lbmMta2V5LXByb2QtVGhpcmR3ZWJBdXRoRW5jS2V5RnVuY3Rpb25cIjtcbmV4cG9ydCBjb25zdCBFTkNMQVZFX0tNU19LRVlfQVJOID0gXCJhcm46YXdzOmttczp1cy13ZXN0LTI6MzI0NDU3MjYxMDk3OmtleS9jY2ZiOWVjZC1mNDVkLTRmMzctODY0YS0yNWZlNzJkY2I0OWVcIjtcbi8vIFRPRE8gYWxsb3cgb3ZlcnJpZGluZyBkb21haW5cbmNvbnN0IERPTUFJTl9VUkxfMjAyMyA9IGdldFRoaXJkd2ViQmFzZVVybChcImluQXBwV2FsbGV0XCIpO1xuY29uc3QgQkFTRV9VUkxfMjAyMyA9IGAke0RPTUFJTl9VUkxfMjAyM30vYDtcbmNvbnN0IFJPVVRFXzIwMjNfMTBfMjBfQVBJX0JBU0VfUEFUSCA9IGAke0JBU0VfVVJMXzIwMjN9YXBpLzIwMjMtMTAtMjBgO1xuY29uc3QgUk9VVEVfMjAyNF8wNV8wNV9BUElfQkFTRV9QQVRIID0gYCR7QkFTRV9VUkxfMjAyM31hcGkvMjAyNC0wNS0wNWA7XG5leHBvcnQgY29uc3QgUk9VVEVfRU1CRURERURfV0FMTEVUX0RFVEFJTFMgPSBgJHtST1VURV8yMDIzXzEwXzIwX0FQSV9CQVNFX1BBVEh9L2VtYmVkZGVkLXdhbGxldC9lbWJlZGRlZC13YWxsZXQtdXNlci1kZXRhaWxzYDtcbmV4cG9ydCBjb25zdCBST1VURV9DT0dOSVRPX0lERU5USVRZX1BPT0xfVVJMID0gYGNvZ25pdG8taWRwLiR7QVdTX1JFR0lPTn0uYW1hem9uYXdzLmNvbS8ke0NPR05JVE9fVVNFUl9QT09MX0lEfWA7XG5leHBvcnQgY29uc3QgUk9VVEVfU1RPUkVfVVNFUl9TSEFSRVMgPSBgJHtST1VURV8yMDIzXzEwXzIwX0FQSV9CQVNFX1BBVEh9L2VtYmVkZGVkLXdhbGxldC9lbWJlZGRlZC13YWxsZXQtc2hhcmVzYDtcbmV4cG9ydCBjb25zdCBST1VURV9HRVRfVVNFUl9TSEFSRVMgPSBgJHtST1VURV8yMDIzXzEwXzIwX0FQSV9CQVNFX1BBVEh9L2VtYmVkZGVkLXdhbGxldC9lbWJlZGRlZC13YWxsZXQtc2hhcmVzYDtcbmV4cG9ydCBjb25zdCBST1VURV9WRVJJRllfVEhJUkRXRUJfQ0xJRU5UX0lEID0gYCR7Uk9VVEVfMjAyM18xMF8yMF9BUElfQkFTRV9QQVRIfS9lbWJlZGRlZC13YWxsZXQvdmVyaWZ5LXRoaXJkd2ViLWNsaWVudC1pZGA7XG5leHBvcnQgY29uc3QgUk9VVEVfQVVUSF9KV1RfQ0FMTEJBQ0sgPSBgJHtST1VURV8yMDIzXzEwXzIwX0FQSV9CQVNFX1BBVEh9L2VtYmVkZGVkLXdhbGxldC92YWxpZGF0ZS1jdXN0b20tand0YDtcbmV4cG9ydCBjb25zdCBST1VURV9BVVRIX0VORFBPSU5UX0NBTExCQUNLID0gYCR7Uk9VVEVfMjAyM18xMF8yMF9BUElfQkFTRV9QQVRIfS9lbWJlZGRlZC13YWxsZXQvdmFsaWRhdGUtY3VzdG9tLWF1dGgtZW5kcG9pbnRgO1xuZXhwb3J0IGNvbnN0IFJPVVRFX0FVVEhfQ09HTklUT19JRF9UT0tFTl9WMSA9IGAke1JPVVRFXzIwMjNfMTBfMjBfQVBJX0JBU0VfUEFUSH0vZW1iZWRkZWQtd2FsbGV0L2NvZ25pdG8taWQtdG9rZW5gO1xuZXhwb3J0IGNvbnN0IFJPVVRFX0FVVEhfQ09HTklUT19JRF9UT0tFTl9WMiA9IGAke1JPVVRFXzIwMjRfMDVfMDVfQVBJX0JBU0VfUEFUSH0vbG9naW4vd2ViLXRva2VuLWV4Y2hhbmdlYDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbnN0YW50cy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/native/helpers/constants.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/native/helpers/errors.js":
/*!********************************************************************************!*\
  !*** ./node_modules/thirdweb/dist/esm/wallets/in-app/native/helpers/errors.js ***!
  \********************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ErrorMessages: function() { return /* binding */ ErrorMessages; },\n/* harmony export */   createErrorMessage: function() { return /* binding */ createErrorMessage; }\n/* harmony export */ });\n/* harmony import */ var _utils_json_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../utils/json.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/utils/json.js\");\n\nconst ErrorMessages = {\n    invalidOtp: \"Your OTP code is invalid or expired. Please request a new code or try again.\",\n    missingRecoveryCode: \"Missing encryption key for user\",\n};\nconst createErrorMessage = (message, error) => {\n    if (error instanceof Error) {\n        return `${message}: ${error.message}`;\n    }\n    return `${message}: ${(0,_utils_json_js__WEBPACK_IMPORTED_MODULE_0__.stringify)(error)}`;\n};\n//# sourceMappingURL=errors.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy90aGlyZHdlYi9kaXN0L2VzbS93YWxsZXRzL2luLWFwcC9uYXRpdmUvaGVscGVycy9lcnJvcnMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQXNEO0FBQy9DO0FBQ1A7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBLGtCQUFrQixRQUFRLElBQUksY0FBYztBQUM1QztBQUNBLGNBQWMsUUFBUSxJQUFJLHlEQUFTLFFBQVE7QUFDM0M7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvdGhpcmR3ZWIvZGlzdC9lc20vd2FsbGV0cy9pbi1hcHAvbmF0aXZlL2hlbHBlcnMvZXJyb3JzLmpzP2Y5MTYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgc3RyaW5naWZ5IH0gZnJvbSBcIi4uLy4uLy4uLy4uL3V0aWxzL2pzb24uanNcIjtcbmV4cG9ydCBjb25zdCBFcnJvck1lc3NhZ2VzID0ge1xuICAgIGludmFsaWRPdHA6IFwiWW91ciBPVFAgY29kZSBpcyBpbnZhbGlkIG9yIGV4cGlyZWQuIFBsZWFzZSByZXF1ZXN0IGEgbmV3IGNvZGUgb3IgdHJ5IGFnYWluLlwiLFxuICAgIG1pc3NpbmdSZWNvdmVyeUNvZGU6IFwiTWlzc2luZyBlbmNyeXB0aW9uIGtleSBmb3IgdXNlclwiLFxufTtcbmV4cG9ydCBjb25zdCBjcmVhdGVFcnJvck1lc3NhZ2UgPSAobWVzc2FnZSwgZXJyb3IpID0+IHtcbiAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICByZXR1cm4gYCR7bWVzc2FnZX06ICR7ZXJyb3IubWVzc2FnZX1gO1xuICAgIH1cbiAgICByZXR1cm4gYCR7bWVzc2FnZX06ICR7c3RyaW5naWZ5KGVycm9yKX1gO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWVycm9ycy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/native/helpers/errors.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/web/lib/auth/abstract-login.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/thirdweb/dist/esm/wallets/in-app/web/lib/auth/abstract-login.js ***!
  \**************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AbstractLogin: function() { return /* binding */ AbstractLogin; }\n/* harmony export */ });\n/**\n * @internal\n */\nclass AbstractLogin {\n    /**\n     * Used to manage the user's auth states. This should not be instantiated directly.\n     * @internal\n     */\n    constructor({ baseUrl, querier, preLogin, postLogin, client, ecosystem, }) {\n        Object.defineProperty(this, \"LoginQuerier\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"preLogin\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"postLogin\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"client\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"baseUrl\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"ecosystem\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        this.baseUrl = baseUrl;\n        this.LoginQuerier = querier;\n        this.preLogin = preLogin;\n        this.postLogin = postLogin;\n        this.client = client;\n        this.ecosystem = ecosystem;\n    }\n    /**\n     * @internal\n     */\n    async sendEmailLoginOtp({ email, }) {\n        const result = await this.LoginQuerier.call({\n            params: { email },\n            procedureName: \"sendThirdwebEmailLoginOtp\",\n        });\n        return result;\n    }\n    /**\n     *\n     * @internal\n     */\n    async sendSmsLoginOtp({ phoneNumber, }) {\n        const result = await this.LoginQuerier.call({\n            params: { phoneNumber },\n            procedureName: \"sendThirdwebSmsLoginOtp\",\n        });\n        return result;\n    }\n}\n//# sourceMappingURL=abstract-login.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy90aGlyZHdlYi9kaXN0L2VzbS93YWxsZXRzL2luLWFwcC93ZWIvbGliL2F1dGgvYWJzdHJhY3QtbG9naW4uanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsMkRBQTJEO0FBQzdFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLFFBQVE7QUFDdEM7QUFDQSxzQkFBc0IsT0FBTztBQUM3QjtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsY0FBYztBQUMxQztBQUNBLHNCQUFzQixhQUFhO0FBQ25DO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy90aGlyZHdlYi9kaXN0L2VzbS93YWxsZXRzL2luLWFwcC93ZWIvbGliL2F1dGgvYWJzdHJhY3QtbG9naW4uanM/NTNhYSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY2xhc3MgQWJzdHJhY3RMb2dpbiB7XG4gICAgLyoqXG4gICAgICogVXNlZCB0byBtYW5hZ2UgdGhlIHVzZXIncyBhdXRoIHN0YXRlcy4gVGhpcyBzaG91bGQgbm90IGJlIGluc3RhbnRpYXRlZCBkaXJlY3RseS5cbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcih7IGJhc2VVcmwsIHF1ZXJpZXIsIHByZUxvZ2luLCBwb3N0TG9naW4sIGNsaWVudCwgZWNvc3lzdGVtLCB9KSB7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIkxvZ2luUXVlcmllclwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJwcmVMb2dpblwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJwb3N0TG9naW5cIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiY2xpZW50XCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImJhc2VVcmxcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiZWNvc3lzdGVtXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuYmFzZVVybCA9IGJhc2VVcmw7XG4gICAgICAgIHRoaXMuTG9naW5RdWVyaWVyID0gcXVlcmllcjtcbiAgICAgICAgdGhpcy5wcmVMb2dpbiA9IHByZUxvZ2luO1xuICAgICAgICB0aGlzLnBvc3RMb2dpbiA9IHBvc3RMb2dpbjtcbiAgICAgICAgdGhpcy5jbGllbnQgPSBjbGllbnQ7XG4gICAgICAgIHRoaXMuZWNvc3lzdGVtID0gZWNvc3lzdGVtO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBhc3luYyBzZW5kRW1haWxMb2dpbk90cCh7IGVtYWlsLCB9KSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuTG9naW5RdWVyaWVyLmNhbGwoe1xuICAgICAgICAgICAgcGFyYW1zOiB7IGVtYWlsIH0sXG4gICAgICAgICAgICBwcm9jZWR1cmVOYW1lOiBcInNlbmRUaGlyZHdlYkVtYWlsTG9naW5PdHBcIixcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgYXN5bmMgc2VuZFNtc0xvZ2luT3RwKHsgcGhvbmVOdW1iZXIsIH0pIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5Mb2dpblF1ZXJpZXIuY2FsbCh7XG4gICAgICAgICAgICBwYXJhbXM6IHsgcGhvbmVOdW1iZXIgfSxcbiAgICAgICAgICAgIHByb2NlZHVyZU5hbWU6IFwic2VuZFRoaXJkd2ViU21zTG9naW5PdHBcIixcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YWJzdHJhY3QtbG9naW4uanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/web/lib/auth/abstract-login.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/web/lib/auth/base-login.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/thirdweb/dist/esm/wallets/in-app/web/lib/auth/base-login.js ***!
  \**********************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BaseLogin: function() { return /* binding */ BaseLogin; }\n/* harmony export */ });\n/* harmony import */ var _abstract_login_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./abstract-login.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/web/lib/auth/abstract-login.js\");\n\n/**\n *\n */\nclass BaseLogin extends _abstract_login_js__WEBPACK_IMPORTED_MODULE_0__.AbstractLogin {\n    async authenticateWithModal() {\n        return this.LoginQuerier.call({\n            params: undefined,\n            procedureName: \"loginWithThirdwebModal\",\n            showIframe: true,\n        });\n    }\n    /**\n     * @internal\n     */\n    async loginWithModal() {\n        await this.preLogin();\n        const result = await this.authenticateWithModal();\n        return this.postLogin(result);\n    }\n    async authenticateWithIframe({ email, }) {\n        return this.LoginQuerier.call({\n            params: { email },\n            procedureName: \"loginWithThirdwebModal\",\n            showIframe: true,\n        });\n    }\n    /**\n     * @internal\n     */\n    async loginWithIframe({ email, }) {\n        await this.preLogin();\n        const result = await this.authenticateWithIframe({ email });\n        return this.postLogin(result);\n    }\n    async authenticateWithCustomJwt({ encryptionKey, jwt, }) {\n        if (!encryptionKey || encryptionKey.length === 0) {\n            throw new Error(\"Encryption key is required for custom jwt auth\");\n        }\n        return this.LoginQuerier.call({\n            params: { encryptionKey, jwt },\n            procedureName: \"loginWithCustomJwt\",\n        });\n    }\n    /**\n     * @internal\n     */\n    async loginWithCustomJwt({ encryptionKey, jwt, }) {\n        if (!encryptionKey || encryptionKey.length === 0) {\n            throw new Error(\"Encryption key is required for custom jwt auth\");\n        }\n        await this.preLogin();\n        const result = await this.authenticateWithCustomJwt({ encryptionKey, jwt });\n        return this.postLogin(result);\n    }\n    async authenticateWithCustomAuthEndpoint({ encryptionKey, payload, }) {\n        return this.LoginQuerier.call({\n            params: { encryptionKey, payload },\n            procedureName: \"loginWithCustomAuthEndpoint\",\n        });\n    }\n    /**\n     * @internal\n     */\n    async loginWithCustomAuthEndpoint({ encryptionKey, payload, }) {\n        if (!encryptionKey || encryptionKey.length === 0) {\n            throw new Error(\"Encryption key is required for custom auth\");\n        }\n        await this.preLogin();\n        const result = await this.authenticateWithCustomAuthEndpoint({\n            encryptionKey,\n            payload,\n        });\n        return this.postLogin(result);\n    }\n    async authenticateWithEmailOtp({ email, otp, recoveryCode, }) {\n        return this.LoginQuerier.call({\n            params: { email, otp, recoveryCode },\n            procedureName: \"verifyThirdwebEmailLoginOtp\",\n        });\n    }\n    /**\n     * @internal\n     */\n    async loginWithEmailOtp({ email, otp, recoveryCode, }) {\n        const result = await this.authenticateWithEmailOtp({\n            email,\n            otp,\n            recoveryCode,\n        });\n        return this.postLogin(result);\n    }\n    async authenticateWithSmsOtp({ phoneNumber, otp, recoveryCode, }) {\n        return this.LoginQuerier.call({\n            params: { otp, phoneNumber, recoveryCode },\n            procedureName: \"verifyThirdwebSmsLoginOtp\",\n        });\n    }\n    /**\n     * @internal\n     */\n    async loginWithSmsOtp({ phoneNumber, otp, recoveryCode, }) {\n        const result = await this.authenticateWithSmsOtp({\n            otp,\n            phoneNumber,\n            recoveryCode,\n        });\n        return this.postLogin(result);\n    }\n}\n//# sourceMappingURL=base-login.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy90aGlyZHdlYi9kaXN0L2VzbS93YWxsZXRzL2luLWFwcC93ZWIvbGliL2F1dGgvYmFzZS1sb2dpbi5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFvRDtBQUNwRDtBQUNBO0FBQ0E7QUFDTyx3QkFBd0IsNkRBQWE7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsUUFBUTtBQUMzQztBQUNBLHNCQUFzQixPQUFPO0FBQzdCO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsUUFBUTtBQUNwQztBQUNBLDJEQUEyRCxPQUFPO0FBQ2xFO0FBQ0E7QUFDQSxzQ0FBc0MscUJBQXFCO0FBQzNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLG9CQUFvQjtBQUMxQztBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQixxQkFBcUI7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4REFBOEQsb0JBQW9CO0FBQ2xGO0FBQ0E7QUFDQSwrQ0FBK0MseUJBQXlCO0FBQ3hFO0FBQ0Esc0JBQXNCLHdCQUF3QjtBQUM5QztBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdDQUF3Qyx5QkFBeUI7QUFDakU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLHFDQUFxQywyQkFBMkI7QUFDaEU7QUFDQSxzQkFBc0IsMEJBQTBCO0FBQ2hEO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLDJCQUEyQjtBQUN6RDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsbUNBQW1DLGlDQUFpQztBQUNwRTtBQUNBLHNCQUFzQixnQ0FBZ0M7QUFDdEQ7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsaUNBQWlDO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy90aGlyZHdlYi9kaXN0L2VzbS93YWxsZXRzL2luLWFwcC93ZWIvbGliL2F1dGgvYmFzZS1sb2dpbi5qcz85NGJiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFic3RyYWN0TG9naW4gfSBmcm9tIFwiLi9hYnN0cmFjdC1sb2dpbi5qc1wiO1xuLyoqXG4gKlxuICovXG5leHBvcnQgY2xhc3MgQmFzZUxvZ2luIGV4dGVuZHMgQWJzdHJhY3RMb2dpbiB7XG4gICAgYXN5bmMgYXV0aGVudGljYXRlV2l0aE1vZGFsKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5Mb2dpblF1ZXJpZXIuY2FsbCh7XG4gICAgICAgICAgICBwYXJhbXM6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHByb2NlZHVyZU5hbWU6IFwibG9naW5XaXRoVGhpcmR3ZWJNb2RhbFwiLFxuICAgICAgICAgICAgc2hvd0lmcmFtZTogdHJ1ZSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIGFzeW5jIGxvZ2luV2l0aE1vZGFsKCkge1xuICAgICAgICBhd2FpdCB0aGlzLnByZUxvZ2luKCk7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuYXV0aGVudGljYXRlV2l0aE1vZGFsKCk7XG4gICAgICAgIHJldHVybiB0aGlzLnBvc3RMb2dpbihyZXN1bHQpO1xuICAgIH1cbiAgICBhc3luYyBhdXRoZW50aWNhdGVXaXRoSWZyYW1lKHsgZW1haWwsIH0pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuTG9naW5RdWVyaWVyLmNhbGwoe1xuICAgICAgICAgICAgcGFyYW1zOiB7IGVtYWlsIH0sXG4gICAgICAgICAgICBwcm9jZWR1cmVOYW1lOiBcImxvZ2luV2l0aFRoaXJkd2ViTW9kYWxcIixcbiAgICAgICAgICAgIHNob3dJZnJhbWU6IHRydWUsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBhc3luYyBsb2dpbldpdGhJZnJhbWUoeyBlbWFpbCwgfSkge1xuICAgICAgICBhd2FpdCB0aGlzLnByZUxvZ2luKCk7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuYXV0aGVudGljYXRlV2l0aElmcmFtZSh7IGVtYWlsIH0pO1xuICAgICAgICByZXR1cm4gdGhpcy5wb3N0TG9naW4ocmVzdWx0KTtcbiAgICB9XG4gICAgYXN5bmMgYXV0aGVudGljYXRlV2l0aEN1c3RvbUp3dCh7IGVuY3J5cHRpb25LZXksIGp3dCwgfSkge1xuICAgICAgICBpZiAoIWVuY3J5cHRpb25LZXkgfHwgZW5jcnlwdGlvbktleS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkVuY3J5cHRpb24ga2V5IGlzIHJlcXVpcmVkIGZvciBjdXN0b20gand0IGF1dGhcIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuTG9naW5RdWVyaWVyLmNhbGwoe1xuICAgICAgICAgICAgcGFyYW1zOiB7IGVuY3J5cHRpb25LZXksIGp3dCB9LFxuICAgICAgICAgICAgcHJvY2VkdXJlTmFtZTogXCJsb2dpbldpdGhDdXN0b21Kd3RcIixcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIGFzeW5jIGxvZ2luV2l0aEN1c3RvbUp3dCh7IGVuY3J5cHRpb25LZXksIGp3dCwgfSkge1xuICAgICAgICBpZiAoIWVuY3J5cHRpb25LZXkgfHwgZW5jcnlwdGlvbktleS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkVuY3J5cHRpb24ga2V5IGlzIHJlcXVpcmVkIGZvciBjdXN0b20gand0IGF1dGhcIik7XG4gICAgICAgIH1cbiAgICAgICAgYXdhaXQgdGhpcy5wcmVMb2dpbigpO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLmF1dGhlbnRpY2F0ZVdpdGhDdXN0b21Kd3QoeyBlbmNyeXB0aW9uS2V5LCBqd3QgfSk7XG4gICAgICAgIHJldHVybiB0aGlzLnBvc3RMb2dpbihyZXN1bHQpO1xuICAgIH1cbiAgICBhc3luYyBhdXRoZW50aWNhdGVXaXRoQ3VzdG9tQXV0aEVuZHBvaW50KHsgZW5jcnlwdGlvbktleSwgcGF5bG9hZCwgfSkge1xuICAgICAgICByZXR1cm4gdGhpcy5Mb2dpblF1ZXJpZXIuY2FsbCh7XG4gICAgICAgICAgICBwYXJhbXM6IHsgZW5jcnlwdGlvbktleSwgcGF5bG9hZCB9LFxuICAgICAgICAgICAgcHJvY2VkdXJlTmFtZTogXCJsb2dpbldpdGhDdXN0b21BdXRoRW5kcG9pbnRcIixcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIGFzeW5jIGxvZ2luV2l0aEN1c3RvbUF1dGhFbmRwb2ludCh7IGVuY3J5cHRpb25LZXksIHBheWxvYWQsIH0pIHtcbiAgICAgICAgaWYgKCFlbmNyeXB0aW9uS2V5IHx8IGVuY3J5cHRpb25LZXkubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJFbmNyeXB0aW9uIGtleSBpcyByZXF1aXJlZCBmb3IgY3VzdG9tIGF1dGhcIik7XG4gICAgICAgIH1cbiAgICAgICAgYXdhaXQgdGhpcy5wcmVMb2dpbigpO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLmF1dGhlbnRpY2F0ZVdpdGhDdXN0b21BdXRoRW5kcG9pbnQoe1xuICAgICAgICAgICAgZW5jcnlwdGlvbktleSxcbiAgICAgICAgICAgIHBheWxvYWQsXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdGhpcy5wb3N0TG9naW4ocmVzdWx0KTtcbiAgICB9XG4gICAgYXN5bmMgYXV0aGVudGljYXRlV2l0aEVtYWlsT3RwKHsgZW1haWwsIG90cCwgcmVjb3ZlcnlDb2RlLCB9KSB7XG4gICAgICAgIHJldHVybiB0aGlzLkxvZ2luUXVlcmllci5jYWxsKHtcbiAgICAgICAgICAgIHBhcmFtczogeyBlbWFpbCwgb3RwLCByZWNvdmVyeUNvZGUgfSxcbiAgICAgICAgICAgIHByb2NlZHVyZU5hbWU6IFwidmVyaWZ5VGhpcmR3ZWJFbWFpbExvZ2luT3RwXCIsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBhc3luYyBsb2dpbldpdGhFbWFpbE90cCh7IGVtYWlsLCBvdHAsIHJlY292ZXJ5Q29kZSwgfSkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLmF1dGhlbnRpY2F0ZVdpdGhFbWFpbE90cCh7XG4gICAgICAgICAgICBlbWFpbCxcbiAgICAgICAgICAgIG90cCxcbiAgICAgICAgICAgIHJlY292ZXJ5Q29kZSxcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0aGlzLnBvc3RMb2dpbihyZXN1bHQpO1xuICAgIH1cbiAgICBhc3luYyBhdXRoZW50aWNhdGVXaXRoU21zT3RwKHsgcGhvbmVOdW1iZXIsIG90cCwgcmVjb3ZlcnlDb2RlLCB9KSB7XG4gICAgICAgIHJldHVybiB0aGlzLkxvZ2luUXVlcmllci5jYWxsKHtcbiAgICAgICAgICAgIHBhcmFtczogeyBvdHAsIHBob25lTnVtYmVyLCByZWNvdmVyeUNvZGUgfSxcbiAgICAgICAgICAgIHByb2NlZHVyZU5hbWU6IFwidmVyaWZ5VGhpcmR3ZWJTbXNMb2dpbk90cFwiLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgYXN5bmMgbG9naW5XaXRoU21zT3RwKHsgcGhvbmVOdW1iZXIsIG90cCwgcmVjb3ZlcnlDb2RlLCB9KSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuYXV0aGVudGljYXRlV2l0aFNtc090cCh7XG4gICAgICAgICAgICBvdHAsXG4gICAgICAgICAgICBwaG9uZU51bWJlcixcbiAgICAgICAgICAgIHJlY292ZXJ5Q29kZSxcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0aGlzLnBvc3RMb2dpbihyZXN1bHQpO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJhc2UtbG9naW4uanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/web/lib/auth/base-login.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/web/lib/auth/iframe-auth.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/thirdweb/dist/esm/wallets/in-app/web/lib/auth/iframe-auth.js ***!
  \***********************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Auth: function() { return /* binding */ Auth; }\n/* harmony export */ });\n/* harmony import */ var _core_actions_generate_wallet_enclave_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/actions/generate-wallet.enclave.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/core/actions/generate-wallet.enclave.js\");\n/* harmony import */ var _core_actions_get_enclave_user_status_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/actions/get-enclave-user-status.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/core/actions/get-enclave-user-status.js\");\n/* harmony import */ var _base_login_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./base-login.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/web/lib/auth/base-login.js\");\n\n\n\n/**\n *\n */\nclass Auth {\n    /**\n     * Used to manage the user's auth states. This should not be instantiated directly.\n     * @internal\n     */\n    constructor({ client, querier, onAuthSuccess, ecosystem, baseUrl, localStorage, }) {\n        Object.defineProperty(this, \"client\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"ecosystem\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"AuthQuerier\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"localStorage\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"onAuthSuccess\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"BaseLogin\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        this.client = client;\n        this.ecosystem = ecosystem;\n        this.AuthQuerier = querier;\n        this.localStorage = localStorage;\n        this.onAuthSuccess = onAuthSuccess;\n        this.BaseLogin = new _base_login_js__WEBPACK_IMPORTED_MODULE_0__.BaseLogin({\n            baseUrl,\n            client,\n            ecosystem,\n            postLogin: async (result) => {\n                return this.postLogin(result);\n            },\n            preLogin: async () => {\n                await this.preLogin();\n            },\n            querier: querier,\n        });\n    }\n    async preLogin() {\n        await this.logout();\n    }\n    async postLogin({ storedToken, walletDetails, }) {\n        if (storedToken.shouldStoreCookieString) {\n            await this.localStorage.saveAuthCookie(storedToken.cookieString);\n        }\n        const initializedUser = await this.onAuthSuccess({\n            storedToken,\n            walletDetails,\n        });\n        return initializedUser;\n    }\n    async loginWithAuthToken(authToken, recoveryCode) {\n        // We don't call logout for backend auth because that is handled on the backend where the iframe isn't available to call. Moreover, logout clears the local storage which isn't applicable for backend auth.\n        if (authToken.storedToken.authProvider !== \"Backend\") {\n            await this.preLogin();\n        }\n        const user = await (0,_core_actions_get_enclave_user_status_js__WEBPACK_IMPORTED_MODULE_1__.getUserStatus)({\n            authToken: authToken.storedToken.cookieString,\n            client: this.client,\n            ecosystem: this.ecosystem,\n        });\n        if (!user) {\n            throw new Error(\"Cannot login, no user found for auth token\");\n        }\n        // If they're already an enclave wallet, proceed to login\n        if (user.wallets.length > 0 && user.wallets[0]?.type === \"enclave\") {\n            return this.postLogin({\n                storedToken: authToken.storedToken,\n                walletDetails: {\n                    walletAddress: user.wallets[0].address,\n                },\n            });\n        }\n        if (user.wallets.length === 0) {\n            // If this is a new ecosystem wallet without an enclave yet, we'll generate an enclave\n            const result = await (0,_core_actions_generate_wallet_enclave_js__WEBPACK_IMPORTED_MODULE_2__.generateWallet)({\n                authToken: authToken.storedToken.cookieString,\n                client: this.client,\n                ecosystem: this.ecosystem,\n            });\n            return this.postLogin({\n                storedToken: authToken.storedToken,\n                walletDetails: {\n                    walletAddress: result.address,\n                },\n            });\n        }\n        // If this is an existing sharded wallet or in-app wallet, we'll login with the sharded wallet\n        const result = await this.AuthQuerier.call({\n            params: {\n                recoveryCode,\n                storedToken: authToken.storedToken,\n            },\n            procedureName: \"loginWithStoredTokenDetails\",\n        });\n        return this.postLogin(result);\n    }\n    /**\n     * Used to log the user into their thirdweb wallet on your platform via a myriad of auth providers\n     * @example\n     * ```typescript\n     * const thirdwebInAppWallet = new InAppWalletSdk({clientId: \"YOUR_CLIENT_ID\", chain: \"Polygon\"})\n     * try {\n     *   const user = await thirdwebInAppWallet.auth.loginWithModal();\n     *   // user is now logged in\n     * } catch (e) {\n     *   // User closed modal or something else went wrong during the authentication process\n     *   console.error(e)\n     * }\n     * ```\n     * @returns `{{user: InitializedUser}}` An InitializedUser object.\n     */\n    async loginWithModal() {\n        return this.BaseLogin.loginWithModal();\n    }\n    async authenticateWithModal() {\n        return this.BaseLogin.authenticateWithModal();\n    }\n    /**\n     * Used to log the user into their thirdweb wallet using email OTP\n     * @example\n     * ```typescript\n     *  // Basic Flow\n     *  const thirdwebInAppWallet = new InAppWalletSdk({clientId: \"\", chain: \"Polygon\"});\n     *  try {\n     *    // prompts user to enter the code they received\n     *    const user = await thirdwebInAppWallet.auth.loginWithThirdwebEmailOtp({ email : \"you@example.com\" });\n     *    // user is now logged in\n     *  } catch (e) {\n     *    // User closed the OTP modal or something else went wrong during the authentication process\n     *    console.error(e)\n     *  }\n     * ```\n     * @param args - args.email: We will send the email an OTP that needs to be entered in order for them to be logged in.\n     * @returns `{{user: InitializedUser}}` An InitializedUser object. See {@link InAppWalletSdk.getUser} for more\n     */\n    async loginWithIframe(args) {\n        return this.BaseLogin.loginWithIframe(args);\n    }\n    async authenticateWithIframe(args) {\n        return this.BaseLogin.authenticateWithIframe(args);\n    }\n    /**\n     * @internal\n     */\n    async loginWithCustomJwt(args) {\n        return this.BaseLogin.loginWithCustomJwt(args);\n    }\n    async authenticateWithCustomJwt(args) {\n        return this.BaseLogin.authenticateWithCustomJwt(args);\n    }\n    /**\n     * @internal\n     */\n    async loginWithCustomAuthEndpoint(args) {\n        return this.BaseLogin.loginWithCustomAuthEndpoint(args);\n    }\n    async authenticateWithCustomAuthEndpoint(args) {\n        return this.BaseLogin.authenticateWithCustomAuthEndpoint(args);\n    }\n    /**\n     * A headless way to send the users at the passed email an OTP code.\n     * You need to then call {@link Auth.loginWithEmailOtp} in order to complete the login process\n     * @example\n     * @param param0.email\n     * ```typescript\n     *  const thirdwebInAppWallet = new InAppWalletSdk({clientId: \"\", chain: \"Polygon\"});\n     *  // sends user an OTP code\n     * try {\n     *    await thirdwebInAppWallet.auth.sendEmailLoginOtp({ email : \"you@example.com\" });\n     * } catch(e) {\n     *    // Error Sending user's email an OTP code\n     *    console.error(e);\n     * }\n     *\n     * // Then when your user is ready to verify their OTP\n     * try {\n     *    const user = await thirdwebInAppWallet.auth.verifyEmailLoginOtp({ email: \"you@example.com\", otp: \"6-DIGIT_CODE_HERE\" });\n     * } catch(e) {\n     *    // Error verifying the OTP code\n     *    console.error(e)\n     * }\n     * ```\n     * @param param0 - param0.email We will send the email an OTP that needs to be entered in order for them to be logged in.\n     * @returns `{{ isNewUser: boolean }}` IsNewUser indicates if the user is a new user to your platform\n     * @internal\n     */\n    async sendEmailLoginOtp({ email, }) {\n        return this.BaseLogin.sendEmailLoginOtp({\n            email,\n        });\n    }\n    /**\n     * @internal\n     */\n    async sendSmsLoginOtp({ phoneNumber, }) {\n        return this.BaseLogin.sendSmsLoginOtp({\n            phoneNumber,\n        });\n    }\n    /**\n     * Used to verify the otp that the user receives from thirdweb\n     *\n     * See {@link Auth.sendEmailLoginOtp} for how the headless call flow looks like. Simply swap out the calls to `loginWithThirdwebEmailOtp` with `verifyThirdwebEmailLoginOtp`\n     * @param args - props.email We will send the email an OTP that needs to be entered in order for them to be logged in.\n     * props.otp The code that the user received in their email\n     * @returns `{{user: InitializedUser}}` An InitializedUser object containing the user's status, wallet, authDetails, and more\n     * @internal\n     */\n    async loginWithEmailOtp(args) {\n        await this.preLogin();\n        return this.BaseLogin.loginWithEmailOtp(args);\n    }\n    async authenticateWithEmailOtp(args) {\n        return this.BaseLogin.authenticateWithEmailOtp(args);\n    }\n    /**\n     * @internal\n     */\n    async loginWithSmsOtp(args) {\n        await this.preLogin();\n        return this.BaseLogin.loginWithSmsOtp(args);\n    }\n    async authenticateWithSmsOtp(args) {\n        return this.BaseLogin.authenticateWithSmsOtp(args);\n    }\n    /**\n     * Logs any existing user out of their wallet.\n     * @returns `{{success: boolean}}` true if a user is successfully logged out. false if there's no user currently logged in.\n     * @internal\n     */\n    async logout() {\n        const isRemoveAuthCookie = await this.localStorage.removeAuthCookie();\n        const isRemoveUserId = await this.localStorage.removeWalletUserId();\n        return {\n            success: isRemoveAuthCookie || isRemoveUserId,\n        };\n    }\n}\n//# sourceMappingURL=iframe-auth.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy90aGlyZHdlYi9kaXN0L2VzbS93YWxsZXRzL2luLWFwcC93ZWIvbGliL2F1dGgvaWZyYW1lLWF1dGguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFrRjtBQUNEO0FBQ3JDO0FBQzVDO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsbUVBQW1FO0FBQ3JGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIscURBQVM7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLDZCQUE2QjtBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsdUZBQWE7QUFDeEM7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLHdGQUFjO0FBQy9DO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVEQUF1RCw2Q0FBNkM7QUFDcEc7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLHVCQUF1QjtBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3REFBd0QsK0JBQStCO0FBQ3ZGO0FBQ0E7QUFDQSxrRkFBa0YsMkJBQTJCO0FBQzdHO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsdUJBQXVCLGtDQUFrQyw4QkFBOEI7QUFDMUc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLDhCQUE4QjtBQUM1RDtBQUNBO0FBQ0E7QUFDQSx3REFBd0QsK0JBQStCO0FBQ3ZGO0FBQ0E7QUFDQSw2REFBNkQsMkJBQTJCO0FBQ3hGLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0RUFBNEUsb0RBQW9EO0FBQ2hJLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLHFCQUFxQjtBQUN6QztBQUNBO0FBQ0EsOEJBQThCLFFBQVE7QUFDdEM7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixjQUFjO0FBQzFDO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLDhCQUE4QjtBQUMxQztBQUNBO0FBQ0EsbUJBQW1CLHVCQUF1QjtBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsa0JBQWtCO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL3RoaXJkd2ViL2Rpc3QvZXNtL3dhbGxldHMvaW4tYXBwL3dlYi9saWIvYXV0aC9pZnJhbWUtYXV0aC5qcz85MjVhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGdlbmVyYXRlV2FsbGV0IH0gZnJvbSBcIi4uLy4uLy4uL2NvcmUvYWN0aW9ucy9nZW5lcmF0ZS13YWxsZXQuZW5jbGF2ZS5qc1wiO1xuaW1wb3J0IHsgZ2V0VXNlclN0YXR1cyB9IGZyb20gXCIuLi8uLi8uLi9jb3JlL2FjdGlvbnMvZ2V0LWVuY2xhdmUtdXNlci1zdGF0dXMuanNcIjtcbmltcG9ydCB7IEJhc2VMb2dpbiB9IGZyb20gXCIuL2Jhc2UtbG9naW4uanNcIjtcbi8qKlxuICpcbiAqL1xuZXhwb3J0IGNsYXNzIEF1dGgge1xuICAgIC8qKlxuICAgICAqIFVzZWQgdG8gbWFuYWdlIHRoZSB1c2VyJ3MgYXV0aCBzdGF0ZXMuIFRoaXMgc2hvdWxkIG5vdCBiZSBpbnN0YW50aWF0ZWQgZGlyZWN0bHkuXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoeyBjbGllbnQsIHF1ZXJpZXIsIG9uQXV0aFN1Y2Nlc3MsIGVjb3N5c3RlbSwgYmFzZVVybCwgbG9jYWxTdG9yYWdlLCB9KSB7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImNsaWVudFwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJlY29zeXN0ZW1cIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiQXV0aFF1ZXJpZXJcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibG9jYWxTdG9yYWdlXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm9uQXV0aFN1Y2Nlc3NcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiQmFzZUxvZ2luXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuY2xpZW50ID0gY2xpZW50O1xuICAgICAgICB0aGlzLmVjb3N5c3RlbSA9IGVjb3N5c3RlbTtcbiAgICAgICAgdGhpcy5BdXRoUXVlcmllciA9IHF1ZXJpZXI7XG4gICAgICAgIHRoaXMubG9jYWxTdG9yYWdlID0gbG9jYWxTdG9yYWdlO1xuICAgICAgICB0aGlzLm9uQXV0aFN1Y2Nlc3MgPSBvbkF1dGhTdWNjZXNzO1xuICAgICAgICB0aGlzLkJhc2VMb2dpbiA9IG5ldyBCYXNlTG9naW4oe1xuICAgICAgICAgICAgYmFzZVVybCxcbiAgICAgICAgICAgIGNsaWVudCxcbiAgICAgICAgICAgIGVjb3N5c3RlbSxcbiAgICAgICAgICAgIHBvc3RMb2dpbjogYXN5bmMgKHJlc3VsdCkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnBvc3RMb2dpbihyZXN1bHQpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHByZUxvZ2luOiBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wcmVMb2dpbigpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHF1ZXJpZXI6IHF1ZXJpZXIsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBhc3luYyBwcmVMb2dpbigpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5sb2dvdXQoKTtcbiAgICB9XG4gICAgYXN5bmMgcG9zdExvZ2luKHsgc3RvcmVkVG9rZW4sIHdhbGxldERldGFpbHMsIH0pIHtcbiAgICAgICAgaWYgKHN0b3JlZFRva2VuLnNob3VsZFN0b3JlQ29va2llU3RyaW5nKSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLmxvY2FsU3RvcmFnZS5zYXZlQXV0aENvb2tpZShzdG9yZWRUb2tlbi5jb29raWVTdHJpbmcpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGluaXRpYWxpemVkVXNlciA9IGF3YWl0IHRoaXMub25BdXRoU3VjY2Vzcyh7XG4gICAgICAgICAgICBzdG9yZWRUb2tlbixcbiAgICAgICAgICAgIHdhbGxldERldGFpbHMsXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gaW5pdGlhbGl6ZWRVc2VyO1xuICAgIH1cbiAgICBhc3luYyBsb2dpbldpdGhBdXRoVG9rZW4oYXV0aFRva2VuLCByZWNvdmVyeUNvZGUpIHtcbiAgICAgICAgLy8gV2UgZG9uJ3QgY2FsbCBsb2dvdXQgZm9yIGJhY2tlbmQgYXV0aCBiZWNhdXNlIHRoYXQgaXMgaGFuZGxlZCBvbiB0aGUgYmFja2VuZCB3aGVyZSB0aGUgaWZyYW1lIGlzbid0IGF2YWlsYWJsZSB0byBjYWxsLiBNb3Jlb3ZlciwgbG9nb3V0IGNsZWFycyB0aGUgbG9jYWwgc3RvcmFnZSB3aGljaCBpc24ndCBhcHBsaWNhYmxlIGZvciBiYWNrZW5kIGF1dGguXG4gICAgICAgIGlmIChhdXRoVG9rZW4uc3RvcmVkVG9rZW4uYXV0aFByb3ZpZGVyICE9PSBcIkJhY2tlbmRcIikge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5wcmVMb2dpbigpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBnZXRVc2VyU3RhdHVzKHtcbiAgICAgICAgICAgIGF1dGhUb2tlbjogYXV0aFRva2VuLnN0b3JlZFRva2VuLmNvb2tpZVN0cmluZyxcbiAgICAgICAgICAgIGNsaWVudDogdGhpcy5jbGllbnQsXG4gICAgICAgICAgICBlY29zeXN0ZW06IHRoaXMuZWNvc3lzdGVtLFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCF1c2VyKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgbG9naW4sIG5vIHVzZXIgZm91bmQgZm9yIGF1dGggdG9rZW5cIik7XG4gICAgICAgIH1cbiAgICAgICAgLy8gSWYgdGhleSdyZSBhbHJlYWR5IGFuIGVuY2xhdmUgd2FsbGV0LCBwcm9jZWVkIHRvIGxvZ2luXG4gICAgICAgIGlmICh1c2VyLndhbGxldHMubGVuZ3RoID4gMCAmJiB1c2VyLndhbGxldHNbMF0/LnR5cGUgPT09IFwiZW5jbGF2ZVwiKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5wb3N0TG9naW4oe1xuICAgICAgICAgICAgICAgIHN0b3JlZFRva2VuOiBhdXRoVG9rZW4uc3RvcmVkVG9rZW4sXG4gICAgICAgICAgICAgICAgd2FsbGV0RGV0YWlsczoge1xuICAgICAgICAgICAgICAgICAgICB3YWxsZXRBZGRyZXNzOiB1c2VyLndhbGxldHNbMF0uYWRkcmVzcyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHVzZXIud2FsbGV0cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIC8vIElmIHRoaXMgaXMgYSBuZXcgZWNvc3lzdGVtIHdhbGxldCB3aXRob3V0IGFuIGVuY2xhdmUgeWV0LCB3ZSdsbCBnZW5lcmF0ZSBhbiBlbmNsYXZlXG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBnZW5lcmF0ZVdhbGxldCh7XG4gICAgICAgICAgICAgICAgYXV0aFRva2VuOiBhdXRoVG9rZW4uc3RvcmVkVG9rZW4uY29va2llU3RyaW5nLFxuICAgICAgICAgICAgICAgIGNsaWVudDogdGhpcy5jbGllbnQsXG4gICAgICAgICAgICAgICAgZWNvc3lzdGVtOiB0aGlzLmVjb3N5c3RlbSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucG9zdExvZ2luKHtcbiAgICAgICAgICAgICAgICBzdG9yZWRUb2tlbjogYXV0aFRva2VuLnN0b3JlZFRva2VuLFxuICAgICAgICAgICAgICAgIHdhbGxldERldGFpbHM6IHtcbiAgICAgICAgICAgICAgICAgICAgd2FsbGV0QWRkcmVzczogcmVzdWx0LmFkZHJlc3MsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIC8vIElmIHRoaXMgaXMgYW4gZXhpc3Rpbmcgc2hhcmRlZCB3YWxsZXQgb3IgaW4tYXBwIHdhbGxldCwgd2UnbGwgbG9naW4gd2l0aCB0aGUgc2hhcmRlZCB3YWxsZXRcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5BdXRoUXVlcmllci5jYWxsKHtcbiAgICAgICAgICAgIHBhcmFtczoge1xuICAgICAgICAgICAgICAgIHJlY292ZXJ5Q29kZSxcbiAgICAgICAgICAgICAgICBzdG9yZWRUb2tlbjogYXV0aFRva2VuLnN0b3JlZFRva2VuLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHByb2NlZHVyZU5hbWU6IFwibG9naW5XaXRoU3RvcmVkVG9rZW5EZXRhaWxzXCIsXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdGhpcy5wb3N0TG9naW4ocmVzdWx0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVXNlZCB0byBsb2cgdGhlIHVzZXIgaW50byB0aGVpciB0aGlyZHdlYiB3YWxsZXQgb24geW91ciBwbGF0Zm9ybSB2aWEgYSBteXJpYWQgb2YgYXV0aCBwcm92aWRlcnNcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGBgYHR5cGVzY3JpcHRcbiAgICAgKiBjb25zdCB0aGlyZHdlYkluQXBwV2FsbGV0ID0gbmV3IEluQXBwV2FsbGV0U2RrKHtjbGllbnRJZDogXCJZT1VSX0NMSUVOVF9JRFwiLCBjaGFpbjogXCJQb2x5Z29uXCJ9KVxuICAgICAqIHRyeSB7XG4gICAgICogICBjb25zdCB1c2VyID0gYXdhaXQgdGhpcmR3ZWJJbkFwcFdhbGxldC5hdXRoLmxvZ2luV2l0aE1vZGFsKCk7XG4gICAgICogICAvLyB1c2VyIGlzIG5vdyBsb2dnZWQgaW5cbiAgICAgKiB9IGNhdGNoIChlKSB7XG4gICAgICogICAvLyBVc2VyIGNsb3NlZCBtb2RhbCBvciBzb21ldGhpbmcgZWxzZSB3ZW50IHdyb25nIGR1cmluZyB0aGUgYXV0aGVudGljYXRpb24gcHJvY2Vzc1xuICAgICAqICAgY29uc29sZS5lcnJvcihlKVxuICAgICAqIH1cbiAgICAgKiBgYGBcbiAgICAgKiBAcmV0dXJucyBge3t1c2VyOiBJbml0aWFsaXplZFVzZXJ9fWAgQW4gSW5pdGlhbGl6ZWRVc2VyIG9iamVjdC5cbiAgICAgKi9cbiAgICBhc3luYyBsb2dpbldpdGhNb2RhbCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuQmFzZUxvZ2luLmxvZ2luV2l0aE1vZGFsKCk7XG4gICAgfVxuICAgIGFzeW5jIGF1dGhlbnRpY2F0ZVdpdGhNb2RhbCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuQmFzZUxvZ2luLmF1dGhlbnRpY2F0ZVdpdGhNb2RhbCgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBVc2VkIHRvIGxvZyB0aGUgdXNlciBpbnRvIHRoZWlyIHRoaXJkd2ViIHdhbGxldCB1c2luZyBlbWFpbCBPVFBcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGBgYHR5cGVzY3JpcHRcbiAgICAgKiAgLy8gQmFzaWMgRmxvd1xuICAgICAqICBjb25zdCB0aGlyZHdlYkluQXBwV2FsbGV0ID0gbmV3IEluQXBwV2FsbGV0U2RrKHtjbGllbnRJZDogXCJcIiwgY2hhaW46IFwiUG9seWdvblwifSk7XG4gICAgICogIHRyeSB7XG4gICAgICogICAgLy8gcHJvbXB0cyB1c2VyIHRvIGVudGVyIHRoZSBjb2RlIHRoZXkgcmVjZWl2ZWRcbiAgICAgKiAgICBjb25zdCB1c2VyID0gYXdhaXQgdGhpcmR3ZWJJbkFwcFdhbGxldC5hdXRoLmxvZ2luV2l0aFRoaXJkd2ViRW1haWxPdHAoeyBlbWFpbCA6IFwieW91QGV4YW1wbGUuY29tXCIgfSk7XG4gICAgICogICAgLy8gdXNlciBpcyBub3cgbG9nZ2VkIGluXG4gICAgICogIH0gY2F0Y2ggKGUpIHtcbiAgICAgKiAgICAvLyBVc2VyIGNsb3NlZCB0aGUgT1RQIG1vZGFsIG9yIHNvbWV0aGluZyBlbHNlIHdlbnQgd3JvbmcgZHVyaW5nIHRoZSBhdXRoZW50aWNhdGlvbiBwcm9jZXNzXG4gICAgICogICAgY29uc29sZS5lcnJvcihlKVxuICAgICAqICB9XG4gICAgICogYGBgXG4gICAgICogQHBhcmFtIGFyZ3MgLSBhcmdzLmVtYWlsOiBXZSB3aWxsIHNlbmQgdGhlIGVtYWlsIGFuIE9UUCB0aGF0IG5lZWRzIHRvIGJlIGVudGVyZWQgaW4gb3JkZXIgZm9yIHRoZW0gdG8gYmUgbG9nZ2VkIGluLlxuICAgICAqIEByZXR1cm5zIGB7e3VzZXI6IEluaXRpYWxpemVkVXNlcn19YCBBbiBJbml0aWFsaXplZFVzZXIgb2JqZWN0LiBTZWUge0BsaW5rIEluQXBwV2FsbGV0U2RrLmdldFVzZXJ9IGZvciBtb3JlXG4gICAgICovXG4gICAgYXN5bmMgbG9naW5XaXRoSWZyYW1lKGFyZ3MpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuQmFzZUxvZ2luLmxvZ2luV2l0aElmcmFtZShhcmdzKTtcbiAgICB9XG4gICAgYXN5bmMgYXV0aGVudGljYXRlV2l0aElmcmFtZShhcmdzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLkJhc2VMb2dpbi5hdXRoZW50aWNhdGVXaXRoSWZyYW1lKGFyZ3MpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBhc3luYyBsb2dpbldpdGhDdXN0b21Kd3QoYXJncykge1xuICAgICAgICByZXR1cm4gdGhpcy5CYXNlTG9naW4ubG9naW5XaXRoQ3VzdG9tSnd0KGFyZ3MpO1xuICAgIH1cbiAgICBhc3luYyBhdXRoZW50aWNhdGVXaXRoQ3VzdG9tSnd0KGFyZ3MpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuQmFzZUxvZ2luLmF1dGhlbnRpY2F0ZVdpdGhDdXN0b21Kd3QoYXJncyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIGFzeW5jIGxvZ2luV2l0aEN1c3RvbUF1dGhFbmRwb2ludChhcmdzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLkJhc2VMb2dpbi5sb2dpbldpdGhDdXN0b21BdXRoRW5kcG9pbnQoYXJncyk7XG4gICAgfVxuICAgIGFzeW5jIGF1dGhlbnRpY2F0ZVdpdGhDdXN0b21BdXRoRW5kcG9pbnQoYXJncykge1xuICAgICAgICByZXR1cm4gdGhpcy5CYXNlTG9naW4uYXV0aGVudGljYXRlV2l0aEN1c3RvbUF1dGhFbmRwb2ludChhcmdzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQSBoZWFkbGVzcyB3YXkgdG8gc2VuZCB0aGUgdXNlcnMgYXQgdGhlIHBhc3NlZCBlbWFpbCBhbiBPVFAgY29kZS5cbiAgICAgKiBZb3UgbmVlZCB0byB0aGVuIGNhbGwge0BsaW5rIEF1dGgubG9naW5XaXRoRW1haWxPdHB9IGluIG9yZGVyIHRvIGNvbXBsZXRlIHRoZSBsb2dpbiBwcm9jZXNzXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBAcGFyYW0gcGFyYW0wLmVtYWlsXG4gICAgICogYGBgdHlwZXNjcmlwdFxuICAgICAqICBjb25zdCB0aGlyZHdlYkluQXBwV2FsbGV0ID0gbmV3IEluQXBwV2FsbGV0U2RrKHtjbGllbnRJZDogXCJcIiwgY2hhaW46IFwiUG9seWdvblwifSk7XG4gICAgICogIC8vIHNlbmRzIHVzZXIgYW4gT1RQIGNvZGVcbiAgICAgKiB0cnkge1xuICAgICAqICAgIGF3YWl0IHRoaXJkd2ViSW5BcHBXYWxsZXQuYXV0aC5zZW5kRW1haWxMb2dpbk90cCh7IGVtYWlsIDogXCJ5b3VAZXhhbXBsZS5jb21cIiB9KTtcbiAgICAgKiB9IGNhdGNoKGUpIHtcbiAgICAgKiAgICAvLyBFcnJvciBTZW5kaW5nIHVzZXIncyBlbWFpbCBhbiBPVFAgY29kZVxuICAgICAqICAgIGNvbnNvbGUuZXJyb3IoZSk7XG4gICAgICogfVxuICAgICAqXG4gICAgICogLy8gVGhlbiB3aGVuIHlvdXIgdXNlciBpcyByZWFkeSB0byB2ZXJpZnkgdGhlaXIgT1RQXG4gICAgICogdHJ5IHtcbiAgICAgKiAgICBjb25zdCB1c2VyID0gYXdhaXQgdGhpcmR3ZWJJbkFwcFdhbGxldC5hdXRoLnZlcmlmeUVtYWlsTG9naW5PdHAoeyBlbWFpbDogXCJ5b3VAZXhhbXBsZS5jb21cIiwgb3RwOiBcIjYtRElHSVRfQ09ERV9IRVJFXCIgfSk7XG4gICAgICogfSBjYXRjaChlKSB7XG4gICAgICogICAgLy8gRXJyb3IgdmVyaWZ5aW5nIHRoZSBPVFAgY29kZVxuICAgICAqICAgIGNvbnNvbGUuZXJyb3IoZSlcbiAgICAgKiB9XG4gICAgICogYGBgXG4gICAgICogQHBhcmFtIHBhcmFtMCAtIHBhcmFtMC5lbWFpbCBXZSB3aWxsIHNlbmQgdGhlIGVtYWlsIGFuIE9UUCB0aGF0IG5lZWRzIHRvIGJlIGVudGVyZWQgaW4gb3JkZXIgZm9yIHRoZW0gdG8gYmUgbG9nZ2VkIGluLlxuICAgICAqIEByZXR1cm5zIGB7eyBpc05ld1VzZXI6IGJvb2xlYW4gfX1gIElzTmV3VXNlciBpbmRpY2F0ZXMgaWYgdGhlIHVzZXIgaXMgYSBuZXcgdXNlciB0byB5b3VyIHBsYXRmb3JtXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgYXN5bmMgc2VuZEVtYWlsTG9naW5PdHAoeyBlbWFpbCwgfSkge1xuICAgICAgICByZXR1cm4gdGhpcy5CYXNlTG9naW4uc2VuZEVtYWlsTG9naW5PdHAoe1xuICAgICAgICAgICAgZW1haWwsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBhc3luYyBzZW5kU21zTG9naW5PdHAoeyBwaG9uZU51bWJlciwgfSkge1xuICAgICAgICByZXR1cm4gdGhpcy5CYXNlTG9naW4uc2VuZFNtc0xvZ2luT3RwKHtcbiAgICAgICAgICAgIHBob25lTnVtYmVyLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVXNlZCB0byB2ZXJpZnkgdGhlIG90cCB0aGF0IHRoZSB1c2VyIHJlY2VpdmVzIGZyb20gdGhpcmR3ZWJcbiAgICAgKlxuICAgICAqIFNlZSB7QGxpbmsgQXV0aC5zZW5kRW1haWxMb2dpbk90cH0gZm9yIGhvdyB0aGUgaGVhZGxlc3MgY2FsbCBmbG93IGxvb2tzIGxpa2UuIFNpbXBseSBzd2FwIG91dCB0aGUgY2FsbHMgdG8gYGxvZ2luV2l0aFRoaXJkd2ViRW1haWxPdHBgIHdpdGggYHZlcmlmeVRoaXJkd2ViRW1haWxMb2dpbk90cGBcbiAgICAgKiBAcGFyYW0gYXJncyAtIHByb3BzLmVtYWlsIFdlIHdpbGwgc2VuZCB0aGUgZW1haWwgYW4gT1RQIHRoYXQgbmVlZHMgdG8gYmUgZW50ZXJlZCBpbiBvcmRlciBmb3IgdGhlbSB0byBiZSBsb2dnZWQgaW4uXG4gICAgICogcHJvcHMub3RwIFRoZSBjb2RlIHRoYXQgdGhlIHVzZXIgcmVjZWl2ZWQgaW4gdGhlaXIgZW1haWxcbiAgICAgKiBAcmV0dXJucyBge3t1c2VyOiBJbml0aWFsaXplZFVzZXJ9fWAgQW4gSW5pdGlhbGl6ZWRVc2VyIG9iamVjdCBjb250YWluaW5nIHRoZSB1c2VyJ3Mgc3RhdHVzLCB3YWxsZXQsIGF1dGhEZXRhaWxzLCBhbmQgbW9yZVxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIGFzeW5jIGxvZ2luV2l0aEVtYWlsT3RwKGFyZ3MpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5wcmVMb2dpbigpO1xuICAgICAgICByZXR1cm4gdGhpcy5CYXNlTG9naW4ubG9naW5XaXRoRW1haWxPdHAoYXJncyk7XG4gICAgfVxuICAgIGFzeW5jIGF1dGhlbnRpY2F0ZVdpdGhFbWFpbE90cChhcmdzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLkJhc2VMb2dpbi5hdXRoZW50aWNhdGVXaXRoRW1haWxPdHAoYXJncyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIGFzeW5jIGxvZ2luV2l0aFNtc090cChhcmdzKSB7XG4gICAgICAgIGF3YWl0IHRoaXMucHJlTG9naW4oKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuQmFzZUxvZ2luLmxvZ2luV2l0aFNtc090cChhcmdzKTtcbiAgICB9XG4gICAgYXN5bmMgYXV0aGVudGljYXRlV2l0aFNtc090cChhcmdzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLkJhc2VMb2dpbi5hdXRoZW50aWNhdGVXaXRoU21zT3RwKGFyZ3MpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBMb2dzIGFueSBleGlzdGluZyB1c2VyIG91dCBvZiB0aGVpciB3YWxsZXQuXG4gICAgICogQHJldHVybnMgYHt7c3VjY2VzczogYm9vbGVhbn19YCB0cnVlIGlmIGEgdXNlciBpcyBzdWNjZXNzZnVsbHkgbG9nZ2VkIG91dC4gZmFsc2UgaWYgdGhlcmUncyBubyB1c2VyIGN1cnJlbnRseSBsb2dnZWQgaW4uXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgYXN5bmMgbG9nb3V0KCkge1xuICAgICAgICBjb25zdCBpc1JlbW92ZUF1dGhDb29raWUgPSBhd2FpdCB0aGlzLmxvY2FsU3RvcmFnZS5yZW1vdmVBdXRoQ29va2llKCk7XG4gICAgICAgIGNvbnN0IGlzUmVtb3ZlVXNlcklkID0gYXdhaXQgdGhpcy5sb2NhbFN0b3JhZ2UucmVtb3ZlV2FsbGV0VXNlcklkKCk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzdWNjZXNzOiBpc1JlbW92ZUF1dGhDb29raWUgfHwgaXNSZW1vdmVVc2VySWQsXG4gICAgICAgIH07XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aWZyYW1lLWF1dGguanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/web/lib/auth/iframe-auth.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/web/lib/auth/otp.js":
/*!***************************************************************************!*\
  !*** ./node_modules/thirdweb/dist/esm/wallets/in-app/web/lib/auth/otp.js ***!
  \***************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   sendOtp: function() { return /* binding */ sendOtp; },\n/* harmony export */   verifyOtp: function() { return /* binding */ verifyOtp; }\n/* harmony export */ });\n/* harmony import */ var _utils_json_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../utils/json.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/utils/json.js\");\n/* harmony import */ var _core_authentication_getLoginPath_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/authentication/getLoginPath.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/core/authentication/getLoginPath.js\");\n\n\n/**\n * @internal\n */\nconst sendOtp = async (args) => {\n    const { client, ecosystem } = args;\n    const url = (0,_core_authentication_getLoginPath_js__WEBPACK_IMPORTED_MODULE_0__.getLoginUrl)({ authOption: args.strategy, client, ecosystem });\n    const headers = {\n        \"Content-Type\": \"application/json\",\n        \"x-client-id\": client.clientId,\n    };\n    if (ecosystem?.id) {\n        headers[\"x-ecosystem-id\"] = ecosystem.id;\n    }\n    if (ecosystem?.partnerId) {\n        headers[\"x-ecosystem-partner-id\"] = ecosystem.partnerId;\n    }\n    const body = (() => {\n        switch (args.strategy) {\n            case \"email\":\n                return {\n                    email: args.email,\n                };\n            case \"phone\":\n                return {\n                    phone: args.phoneNumber,\n                };\n        }\n    })();\n    const response = await fetch(url, {\n        body: (0,_utils_json_js__WEBPACK_IMPORTED_MODULE_1__.stringify)(body),\n        headers,\n        method: \"POST\",\n    });\n    if (!response.ok) {\n        throw new Error(\"Failed to send verification code\");\n    }\n    return await response.json();\n};\n/**\n * @internal\n */\nconst verifyOtp = async (args) => {\n    const { client, ecosystem } = args;\n    const url = (0,_core_authentication_getLoginPath_js__WEBPACK_IMPORTED_MODULE_0__.getLoginCallbackUrl)({\n        authOption: args.strategy,\n        client: args.client,\n        ecosystem: args.ecosystem,\n    });\n    const headers = {\n        \"Content-Type\": \"application/json\",\n        \"x-client-id\": client.clientId,\n    };\n    if (ecosystem?.id) {\n        headers[\"x-ecosystem-id\"] = ecosystem.id;\n    }\n    if (ecosystem?.partnerId) {\n        headers[\"x-ecosystem-partner-id\"] = ecosystem.partnerId;\n    }\n    const body = (() => {\n        switch (args.strategy) {\n            case \"email\":\n                return {\n                    code: args.verificationCode,\n                    email: args.email,\n                };\n            case \"phone\":\n                return {\n                    code: args.verificationCode,\n                    phone: args.phoneNumber,\n                };\n        }\n    })();\n    const response = await fetch(url, {\n        body: (0,_utils_json_js__WEBPACK_IMPORTED_MODULE_1__.stringify)(body),\n        headers,\n        method: \"POST\",\n    });\n    if (!response.ok) {\n        throw new Error(\"Failed to verify verification code\");\n    }\n    return await response.json();\n};\n//# sourceMappingURL=otp.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy90aGlyZHdlYi9kaXN0L2VzbS93YWxsZXRzL2luLWFwcC93ZWIvbGliL2F1dGgvb3RwLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBeUQ7QUFDd0M7QUFDakc7QUFDQTtBQUNBO0FBQ087QUFDUCxZQUFZLG9CQUFvQjtBQUNoQyxnQkFBZ0IsaUZBQVcsR0FBRyw4Q0FBOEM7QUFDNUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsY0FBYyx5REFBUztBQUN2QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQLFlBQVksb0JBQW9CO0FBQ2hDLGdCQUFnQix5RkFBbUI7QUFDbkM7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxjQUFjLHlEQUFTO0FBQ3ZCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy90aGlyZHdlYi9kaXN0L2VzbS93YWxsZXRzL2luLWFwcC93ZWIvbGliL2F1dGgvb3RwLmpzPzZjYzEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgc3RyaW5naWZ5IH0gZnJvbSBcIi4uLy4uLy4uLy4uLy4uL3V0aWxzL2pzb24uanNcIjtcbmltcG9ydCB7IGdldExvZ2luQ2FsbGJhY2tVcmwsIGdldExvZ2luVXJsLCB9IGZyb20gXCIuLi8uLi8uLi9jb3JlL2F1dGhlbnRpY2F0aW9uL2dldExvZ2luUGF0aC5qc1wiO1xuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGNvbnN0IHNlbmRPdHAgPSBhc3luYyAoYXJncykgPT4ge1xuICAgIGNvbnN0IHsgY2xpZW50LCBlY29zeXN0ZW0gfSA9IGFyZ3M7XG4gICAgY29uc3QgdXJsID0gZ2V0TG9naW5VcmwoeyBhdXRoT3B0aW9uOiBhcmdzLnN0cmF0ZWd5LCBjbGllbnQsIGVjb3N5c3RlbSB9KTtcbiAgICBjb25zdCBoZWFkZXJzID0ge1xuICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgICAgXCJ4LWNsaWVudC1pZFwiOiBjbGllbnQuY2xpZW50SWQsXG4gICAgfTtcbiAgICBpZiAoZWNvc3lzdGVtPy5pZCkge1xuICAgICAgICBoZWFkZXJzW1wieC1lY29zeXN0ZW0taWRcIl0gPSBlY29zeXN0ZW0uaWQ7XG4gICAgfVxuICAgIGlmIChlY29zeXN0ZW0/LnBhcnRuZXJJZCkge1xuICAgICAgICBoZWFkZXJzW1wieC1lY29zeXN0ZW0tcGFydG5lci1pZFwiXSA9IGVjb3N5c3RlbS5wYXJ0bmVySWQ7XG4gICAgfVxuICAgIGNvbnN0IGJvZHkgPSAoKCkgPT4ge1xuICAgICAgICBzd2l0Y2ggKGFyZ3Muc3RyYXRlZ3kpIHtcbiAgICAgICAgICAgIGNhc2UgXCJlbWFpbFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIGVtYWlsOiBhcmdzLmVtYWlsLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjYXNlIFwicGhvbmVcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBwaG9uZTogYXJncy5waG9uZU51bWJlcixcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfSkoKTtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHVybCwge1xuICAgICAgICBib2R5OiBzdHJpbmdpZnkoYm9keSksXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgfSk7XG4gICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJGYWlsZWQgdG8gc2VuZCB2ZXJpZmljYXRpb24gY29kZVwiKTtcbiAgICB9XG4gICAgcmV0dXJuIGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbn07XG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY29uc3QgdmVyaWZ5T3RwID0gYXN5bmMgKGFyZ3MpID0+IHtcbiAgICBjb25zdCB7IGNsaWVudCwgZWNvc3lzdGVtIH0gPSBhcmdzO1xuICAgIGNvbnN0IHVybCA9IGdldExvZ2luQ2FsbGJhY2tVcmwoe1xuICAgICAgICBhdXRoT3B0aW9uOiBhcmdzLnN0cmF0ZWd5LFxuICAgICAgICBjbGllbnQ6IGFyZ3MuY2xpZW50LFxuICAgICAgICBlY29zeXN0ZW06IGFyZ3MuZWNvc3lzdGVtLFxuICAgIH0pO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7XG4gICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgICBcIngtY2xpZW50LWlkXCI6IGNsaWVudC5jbGllbnRJZCxcbiAgICB9O1xuICAgIGlmIChlY29zeXN0ZW0/LmlkKSB7XG4gICAgICAgIGhlYWRlcnNbXCJ4LWVjb3N5c3RlbS1pZFwiXSA9IGVjb3N5c3RlbS5pZDtcbiAgICB9XG4gICAgaWYgKGVjb3N5c3RlbT8ucGFydG5lcklkKSB7XG4gICAgICAgIGhlYWRlcnNbXCJ4LWVjb3N5c3RlbS1wYXJ0bmVyLWlkXCJdID0gZWNvc3lzdGVtLnBhcnRuZXJJZDtcbiAgICB9XG4gICAgY29uc3QgYm9keSA9ICgoKSA9PiB7XG4gICAgICAgIHN3aXRjaCAoYXJncy5zdHJhdGVneSkge1xuICAgICAgICAgICAgY2FzZSBcImVtYWlsXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgY29kZTogYXJncy52ZXJpZmljYXRpb25Db2RlLFxuICAgICAgICAgICAgICAgICAgICBlbWFpbDogYXJncy5lbWFpbCxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgY2FzZSBcInBob25lXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgY29kZTogYXJncy52ZXJpZmljYXRpb25Db2RlLFxuICAgICAgICAgICAgICAgICAgICBwaG9uZTogYXJncy5waG9uZU51bWJlcixcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfSkoKTtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHVybCwge1xuICAgICAgICBib2R5OiBzdHJpbmdpZnkoYm9keSksXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgfSk7XG4gICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJGYWlsZWQgdG8gdmVyaWZ5IHZlcmlmaWNhdGlvbiBjb2RlXCIpO1xuICAgIH1cbiAgICByZXR1cm4gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW90cC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/web/lib/auth/otp.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/web/lib/iframe-wallet.js":
/*!********************************************************************************!*\
  !*** ./node_modules/thirdweb/dist/esm/wallets/in-app/web/lib/iframe-wallet.js ***!
  \********************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   IFrameWallet: function() { return /* binding */ IFrameWallet; }\n/* harmony export */ });\n/* harmony import */ var _analytics_track_transaction_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../analytics/track/transaction.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/analytics/track/transaction.js\");\n/* harmony import */ var _chains_utils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../chains/utils.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/chains/utils.js\");\n/* harmony import */ var _rpc_actions_eth_sendRawTransaction_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../rpc/actions/eth_sendRawTransaction.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/rpc/actions/eth_sendRawTransaction.js\");\n/* harmony import */ var _rpc_rpc_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../rpc/rpc.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/rpc/rpc.js\");\n/* harmony import */ var _utils_address_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../utils/address.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/utils/address.js\");\n/* harmony import */ var _utils_domains_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../utils/domains.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/utils/domains.js\");\n/* harmony import */ var _utils_encoding_hex_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../utils/encoding/hex.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/utils/encoding/hex.js\");\n/* harmony import */ var _utils_signatures_helpers_parse_typed_data_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../utils/signatures/helpers/parse-typed-data.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/utils/signatures/helpers/parse-typed-data.js\");\n\n\n\n\n\n\n\n\n/**\n *\n */\nclass IFrameWallet {\n    /**\n     * Not meant to be initialized directly. Call {@link initializeUser} to get an instance\n     * @internal\n     */\n    constructor({ client, ecosystem, querier, localStorage, }) {\n        Object.defineProperty(this, \"client\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"ecosystem\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"walletManagerQuerier\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"localStorage\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        this.client = client;\n        this.ecosystem = ecosystem;\n        this.walletManagerQuerier = querier;\n        this.localStorage = localStorage;\n    }\n    /**\n     * Used to set-up the user device in the case that they are using incognito\n     * @returns `{walletAddress : string }` The user's wallet details\n     * @internal\n     */\n    async postWalletSetUp(authResult) {\n        if (authResult.deviceShareStored) {\n            await this.localStorage.saveDeviceShare(authResult.deviceShareStored, authResult.storedToken.authDetails.userWalletId);\n        }\n    }\n    /**\n     * Gets the various status states of the user\n     * @example\n     * ```typescript\n     *  const userStatus = await Paper.getUserWalletStatus();\n     *  switch (userStatus.status) {\n     *  case UserWalletStatus.LOGGED_OUT: {\n     *    // User is logged out, call one of the auth methods on Paper.auth to authenticate the user\n     *    break;\n     *  }\n     *  case UserWalletStatus.LOGGED_IN_WALLET_UNINITIALIZED: {\n     *    // User is logged in, but does not have a wallet associated with it\n     *    // you also have access to the user's details\n     *    userStatus.user.authDetails;\n     *    break;\n     *  }\n     *  case UserWalletStatus.LOGGED_IN_NEW_DEVICE: {\n     *    // User is logged in and created a wallet already, but is missing the device shard\n     *    // You have access to:\n     *    userStatus.user.authDetails;\n     *    userStatus.user.walletAddress;\n     *    break;\n     *  }\n     *  case UserWalletStatus.LOGGED_IN_WALLET_INITIALIZED: {\n     *    // user is logged in and wallet is all set up.\n     *    // You have access to:\n     *    userStatus.user.authDetails;\n     *    userStatus.user.walletAddress;\n     *    userStatus.user.wallet;\n     *    break;\n     *  }\n     *}\n     *```\n     * @returns `{GetUserWalletStatusFnReturnType}` an object to containing various information on the user statuses\n     * @internal\n     */\n    async getUserWalletStatus() {\n        const userStatus = await this.walletManagerQuerier.call({\n            params: undefined,\n            procedureName: \"getUserStatus\",\n        });\n        if (userStatus.status === \"Logged In, Wallet Initialized\") {\n            return {\n                status: \"Logged In, Wallet Initialized\",\n                ...userStatus.user,\n                account: await this.getAccount(),\n            };\n        }\n        if (userStatus.status === \"Logged In, New Device\") {\n            return {\n                status: \"Logged In, New Device\",\n                ...userStatus.user,\n            };\n        }\n        if (userStatus.status === \"Logged In, Wallet Uninitialized\") {\n            return {\n                status: \"Logged In, Wallet Uninitialized\",\n                ...userStatus.user,\n            };\n        }\n        // Logged out\n        return { status: userStatus.status };\n    }\n    /**\n     * Returns an account that communicates with the iFrame for signing operations\n     * @internal\n     */\n    async getAccount() {\n        const querier = this\n            .walletManagerQuerier;\n        const client = this.client;\n        const partnerId = this.ecosystem?.partnerId;\n        const { address } = await querier.call({\n            params: undefined,\n            procedureName: \"getAddress\",\n        });\n        const _signTransaction = async (tx) => {\n            // biome-ignore lint/suspicious/noExplicitAny: ethers tx transformation\n            const transaction = {\n                chainId: tx.chainId,\n                data: tx.data,\n                gasLimit: tx.gas,\n                nonce: tx.nonce,\n                to: tx.to ?? undefined,\n                value: tx.value,\n            };\n            if (tx.maxFeePerGas) {\n                // ethers (in the iframe) rejects any type 0 transaction with unknown keys\n                // TODO remove this once iframe is upgraded to v5\n                transaction.accessList = tx.accessList;\n                transaction.maxFeePerGas = tx.maxFeePerGas;\n                transaction.maxPriorityFeePerGas = tx.maxPriorityFeePerGas;\n                transaction.type = 2;\n            }\n            else {\n                transaction.gasPrice = tx.gasPrice;\n                transaction.type = 0;\n            }\n            const RPC_URL = (0,_utils_domains_js__WEBPACK_IMPORTED_MODULE_0__.getThirdwebDomains)().rpc;\n            const { signedTransaction } = await querier.call({\n                params: {\n                    chainId: tx.chainId,\n                    partnerId,\n                    rpcEndpoint: `https://${tx.chainId}.${RPC_URL}`,\n                    transaction, // TODO (ew) shouldnt be needed\n                },\n                procedureName: \"signTransaction\",\n            });\n            return signedTransaction;\n        };\n        return {\n            address: (0,_utils_address_js__WEBPACK_IMPORTED_MODULE_1__.getAddress)(address),\n            async sendTransaction(tx) {\n                const rpcRequest = (0,_rpc_rpc_js__WEBPACK_IMPORTED_MODULE_2__.getRpcClient)({\n                    chain: (0,_chains_utils_js__WEBPACK_IMPORTED_MODULE_3__.getCachedChain)(tx.chainId),\n                    client,\n                });\n                const signedTx = await _signTransaction(tx);\n                const transactionHash = await (0,_rpc_actions_eth_sendRawTransaction_js__WEBPACK_IMPORTED_MODULE_4__.eth_sendRawTransaction)(rpcRequest, signedTx);\n                (0,_analytics_track_transaction_js__WEBPACK_IMPORTED_MODULE_5__.trackTransaction)({\n                    chainId: tx.chainId,\n                    client,\n                    contractAddress: tx.to ?? undefined,\n                    gasPrice: tx.gasPrice,\n                    transactionHash,\n                    walletAddress: address,\n                    walletType: \"inApp\",\n                });\n                return { transactionHash };\n            },\n            async signMessage({ message }) {\n                // in-app wallets use ethers to sign messages, which always expects a string (or bytes maybe but string is safest)\n                const messageDecoded = (() => {\n                    if (typeof message === \"string\") {\n                        return message;\n                    }\n                    if (message.raw instanceof Uint8Array) {\n                        return message.raw;\n                    }\n                    return (0,_utils_encoding_hex_js__WEBPACK_IMPORTED_MODULE_6__.hexToString)(message.raw);\n                })();\n                const { signedMessage } = await querier.call({\n                    params: {\n                        chainId: 1, // needs bytes or string\n                        // biome-ignore lint/suspicious/noExplicitAny: ethers tx transformation\n                        message: messageDecoded,\n                        partnerId, // TODO check if we need this\n                    },\n                    procedureName: \"signMessage\",\n                });\n                return signedMessage;\n            },\n            async signTransaction(tx) {\n                if (!tx.chainId) {\n                    throw new Error(\"chainId required in tx to sign\");\n                }\n                return _signTransaction({\n                    ...tx,\n                    chainId: tx.chainId,\n                });\n            },\n            async signTypedData(_typedData) {\n                const parsedTypedData = (0,_utils_signatures_helpers_parse_typed_data_js__WEBPACK_IMPORTED_MODULE_7__.parseTypedData)(_typedData);\n                // deleting EIP712 Domain as it results in ambiguous primary type on some cases\n                // this happens when going from viem to ethers via the iframe\n                if (parsedTypedData.types?.EIP712Domain) {\n                    parsedTypedData.types.EIP712Domain = undefined;\n                }\n                const domain = parsedTypedData.domain;\n                const chainId = domain?.chainId;\n                const verifyingContract = domain?.verifyingContract\n                    ? { verifyingContract: domain?.verifyingContract }\n                    : {};\n                const domainData = {\n                    ...verifyingContract,\n                    name: domain?.name,\n                    version: domain?.version,\n                };\n                // chain id can't be included if it wasn't explicitly specified\n                if (chainId) {\n                    domainData.chainId = chainId;\n                }\n                const RPC_URL = (0,_utils_domains_js__WEBPACK_IMPORTED_MODULE_0__.getThirdwebDomains)().rpc;\n                const { signedTypedData } = await querier.call({\n                    params: {\n                        chainId: Number.parseInt(BigInt(chainId || 1).toString()),\n                        domain: domainData,\n                        message: parsedTypedData.message,\n                        partnerId,\n                        rpcEndpoint: `https://${chainId}.${RPC_URL}`,\n                        types: parsedTypedData.types, // TODO (ew) shouldnt be needed\n                    },\n                    procedureName: \"signTypedDataV4\",\n                });\n                return signedTypedData;\n            },\n        };\n    }\n}\n//# sourceMappingURL=iframe-wallet.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy90aGlyZHdlYi9kaXN0L2VzbS93YWxsZXRzL2luLWFwcC93ZWIvbGliL2lmcmFtZS13YWxsZXQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQThFO0FBQ2pCO0FBQzhCO0FBQ3JDO0FBQ0k7QUFDUTtBQUNGO0FBQzBCO0FBQzFGO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQSxtREFBbUQsc0JBQXNCO0FBQ3pFO0FBQ0E7QUFDQSxrQkFBa0IsMkNBQTJDO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0Isd0JBQXdCO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLGdDQUFnQztBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixVQUFVO0FBQzFCO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIscUVBQWtCO0FBQzlDLG9CQUFvQixvQkFBb0I7QUFDeEM7QUFDQTtBQUNBO0FBQ0EsNENBQTRDLFdBQVcsR0FBRyxRQUFRO0FBQ2xFO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQiw2REFBVTtBQUMvQjtBQUNBLG1DQUFtQyx5REFBWTtBQUMvQywyQkFBMkIsZ0VBQWM7QUFDekM7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSw4Q0FBOEMsOEZBQXNCO0FBQ3BFLGdCQUFnQixpRkFBZ0I7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIseUJBQXlCO0FBQ3pCLGFBQWE7QUFDYixnQ0FBZ0MsU0FBUztBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLG1FQUFXO0FBQ3RDLGlCQUFpQjtBQUNqQix3QkFBd0IsZ0JBQWdCO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsYUFBYTtBQUNiO0FBQ0Esd0NBQXdDLDZGQUFjO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0I7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MscUVBQWtCO0FBQ2xELHdCQUF3QixrQkFBa0I7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdEQUFnRCxRQUFRLEdBQUcsUUFBUTtBQUNuRTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvdGhpcmR3ZWIvZGlzdC9lc20vd2FsbGV0cy9pbi1hcHAvd2ViL2xpYi9pZnJhbWUtd2FsbGV0LmpzP2Q4ZTciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdHJhY2tUcmFuc2FjdGlvbiB9IGZyb20gXCIuLi8uLi8uLi8uLi9hbmFseXRpY3MvdHJhY2svdHJhbnNhY3Rpb24uanNcIjtcbmltcG9ydCB7IGdldENhY2hlZENoYWluIH0gZnJvbSBcIi4uLy4uLy4uLy4uL2NoYWlucy91dGlscy5qc1wiO1xuaW1wb3J0IHsgZXRoX3NlbmRSYXdUcmFuc2FjdGlvbiB9IGZyb20gXCIuLi8uLi8uLi8uLi9ycGMvYWN0aW9ucy9ldGhfc2VuZFJhd1RyYW5zYWN0aW9uLmpzXCI7XG5pbXBvcnQgeyBnZXRScGNDbGllbnQgfSBmcm9tIFwiLi4vLi4vLi4vLi4vcnBjL3JwYy5qc1wiO1xuaW1wb3J0IHsgZ2V0QWRkcmVzcyB9IGZyb20gXCIuLi8uLi8uLi8uLi91dGlscy9hZGRyZXNzLmpzXCI7XG5pbXBvcnQgeyBnZXRUaGlyZHdlYkRvbWFpbnMgfSBmcm9tIFwiLi4vLi4vLi4vLi4vdXRpbHMvZG9tYWlucy5qc1wiO1xuaW1wb3J0IHsgaGV4VG9TdHJpbmcgfSBmcm9tIFwiLi4vLi4vLi4vLi4vdXRpbHMvZW5jb2RpbmcvaGV4LmpzXCI7XG5pbXBvcnQgeyBwYXJzZVR5cGVkRGF0YSB9IGZyb20gXCIuLi8uLi8uLi8uLi91dGlscy9zaWduYXR1cmVzL2hlbHBlcnMvcGFyc2UtdHlwZWQtZGF0YS5qc1wiO1xuLyoqXG4gKlxuICovXG5leHBvcnQgY2xhc3MgSUZyYW1lV2FsbGV0IHtcbiAgICAvKipcbiAgICAgKiBOb3QgbWVhbnQgdG8gYmUgaW5pdGlhbGl6ZWQgZGlyZWN0bHkuIENhbGwge0BsaW5rIGluaXRpYWxpemVVc2VyfSB0byBnZXQgYW4gaW5zdGFuY2VcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcih7IGNsaWVudCwgZWNvc3lzdGVtLCBxdWVyaWVyLCBsb2NhbFN0b3JhZ2UsIH0pIHtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiY2xpZW50XCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImVjb3N5c3RlbVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJ3YWxsZXRNYW5hZ2VyUXVlcmllclwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJsb2NhbFN0b3JhZ2VcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5jbGllbnQgPSBjbGllbnQ7XG4gICAgICAgIHRoaXMuZWNvc3lzdGVtID0gZWNvc3lzdGVtO1xuICAgICAgICB0aGlzLndhbGxldE1hbmFnZXJRdWVyaWVyID0gcXVlcmllcjtcbiAgICAgICAgdGhpcy5sb2NhbFN0b3JhZ2UgPSBsb2NhbFN0b3JhZ2U7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFVzZWQgdG8gc2V0LXVwIHRoZSB1c2VyIGRldmljZSBpbiB0aGUgY2FzZSB0aGF0IHRoZXkgYXJlIHVzaW5nIGluY29nbml0b1xuICAgICAqIEByZXR1cm5zIGB7d2FsbGV0QWRkcmVzcyA6IHN0cmluZyB9YCBUaGUgdXNlcidzIHdhbGxldCBkZXRhaWxzXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgYXN5bmMgcG9zdFdhbGxldFNldFVwKGF1dGhSZXN1bHQpIHtcbiAgICAgICAgaWYgKGF1dGhSZXN1bHQuZGV2aWNlU2hhcmVTdG9yZWQpIHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMubG9jYWxTdG9yYWdlLnNhdmVEZXZpY2VTaGFyZShhdXRoUmVzdWx0LmRldmljZVNoYXJlU3RvcmVkLCBhdXRoUmVzdWx0LnN0b3JlZFRva2VuLmF1dGhEZXRhaWxzLnVzZXJXYWxsZXRJZCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgdmFyaW91cyBzdGF0dXMgc3RhdGVzIG9mIHRoZSB1c2VyXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBgYGB0eXBlc2NyaXB0XG4gICAgICogIGNvbnN0IHVzZXJTdGF0dXMgPSBhd2FpdCBQYXBlci5nZXRVc2VyV2FsbGV0U3RhdHVzKCk7XG4gICAgICogIHN3aXRjaCAodXNlclN0YXR1cy5zdGF0dXMpIHtcbiAgICAgKiAgY2FzZSBVc2VyV2FsbGV0U3RhdHVzLkxPR0dFRF9PVVQ6IHtcbiAgICAgKiAgICAvLyBVc2VyIGlzIGxvZ2dlZCBvdXQsIGNhbGwgb25lIG9mIHRoZSBhdXRoIG1ldGhvZHMgb24gUGFwZXIuYXV0aCB0byBhdXRoZW50aWNhdGUgdGhlIHVzZXJcbiAgICAgKiAgICBicmVhaztcbiAgICAgKiAgfVxuICAgICAqICBjYXNlIFVzZXJXYWxsZXRTdGF0dXMuTE9HR0VEX0lOX1dBTExFVF9VTklOSVRJQUxJWkVEOiB7XG4gICAgICogICAgLy8gVXNlciBpcyBsb2dnZWQgaW4sIGJ1dCBkb2VzIG5vdCBoYXZlIGEgd2FsbGV0IGFzc29jaWF0ZWQgd2l0aCBpdFxuICAgICAqICAgIC8vIHlvdSBhbHNvIGhhdmUgYWNjZXNzIHRvIHRoZSB1c2VyJ3MgZGV0YWlsc1xuICAgICAqICAgIHVzZXJTdGF0dXMudXNlci5hdXRoRGV0YWlscztcbiAgICAgKiAgICBicmVhaztcbiAgICAgKiAgfVxuICAgICAqICBjYXNlIFVzZXJXYWxsZXRTdGF0dXMuTE9HR0VEX0lOX05FV19ERVZJQ0U6IHtcbiAgICAgKiAgICAvLyBVc2VyIGlzIGxvZ2dlZCBpbiBhbmQgY3JlYXRlZCBhIHdhbGxldCBhbHJlYWR5LCBidXQgaXMgbWlzc2luZyB0aGUgZGV2aWNlIHNoYXJkXG4gICAgICogICAgLy8gWW91IGhhdmUgYWNjZXNzIHRvOlxuICAgICAqICAgIHVzZXJTdGF0dXMudXNlci5hdXRoRGV0YWlscztcbiAgICAgKiAgICB1c2VyU3RhdHVzLnVzZXIud2FsbGV0QWRkcmVzcztcbiAgICAgKiAgICBicmVhaztcbiAgICAgKiAgfVxuICAgICAqICBjYXNlIFVzZXJXYWxsZXRTdGF0dXMuTE9HR0VEX0lOX1dBTExFVF9JTklUSUFMSVpFRDoge1xuICAgICAqICAgIC8vIHVzZXIgaXMgbG9nZ2VkIGluIGFuZCB3YWxsZXQgaXMgYWxsIHNldCB1cC5cbiAgICAgKiAgICAvLyBZb3UgaGF2ZSBhY2Nlc3MgdG86XG4gICAgICogICAgdXNlclN0YXR1cy51c2VyLmF1dGhEZXRhaWxzO1xuICAgICAqICAgIHVzZXJTdGF0dXMudXNlci53YWxsZXRBZGRyZXNzO1xuICAgICAqICAgIHVzZXJTdGF0dXMudXNlci53YWxsZXQ7XG4gICAgICogICAgYnJlYWs7XG4gICAgICogIH1cbiAgICAgKn1cbiAgICAgKmBgYFxuICAgICAqIEByZXR1cm5zIGB7R2V0VXNlcldhbGxldFN0YXR1c0ZuUmV0dXJuVHlwZX1gIGFuIG9iamVjdCB0byBjb250YWluaW5nIHZhcmlvdXMgaW5mb3JtYXRpb24gb24gdGhlIHVzZXIgc3RhdHVzZXNcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBhc3luYyBnZXRVc2VyV2FsbGV0U3RhdHVzKCkge1xuICAgICAgICBjb25zdCB1c2VyU3RhdHVzID0gYXdhaXQgdGhpcy53YWxsZXRNYW5hZ2VyUXVlcmllci5jYWxsKHtcbiAgICAgICAgICAgIHBhcmFtczogdW5kZWZpbmVkLFxuICAgICAgICAgICAgcHJvY2VkdXJlTmFtZTogXCJnZXRVc2VyU3RhdHVzXCIsXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAodXNlclN0YXR1cy5zdGF0dXMgPT09IFwiTG9nZ2VkIEluLCBXYWxsZXQgSW5pdGlhbGl6ZWRcIikge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBzdGF0dXM6IFwiTG9nZ2VkIEluLCBXYWxsZXQgSW5pdGlhbGl6ZWRcIixcbiAgICAgICAgICAgICAgICAuLi51c2VyU3RhdHVzLnVzZXIsXG4gICAgICAgICAgICAgICAgYWNjb3VudDogYXdhaXQgdGhpcy5nZXRBY2NvdW50KCksXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGlmICh1c2VyU3RhdHVzLnN0YXR1cyA9PT0gXCJMb2dnZWQgSW4sIE5ldyBEZXZpY2VcIikge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBzdGF0dXM6IFwiTG9nZ2VkIEluLCBOZXcgRGV2aWNlXCIsXG4gICAgICAgICAgICAgICAgLi4udXNlclN0YXR1cy51c2VyLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodXNlclN0YXR1cy5zdGF0dXMgPT09IFwiTG9nZ2VkIEluLCBXYWxsZXQgVW5pbml0aWFsaXplZFwiKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHN0YXR1czogXCJMb2dnZWQgSW4sIFdhbGxldCBVbmluaXRpYWxpemVkXCIsXG4gICAgICAgICAgICAgICAgLi4udXNlclN0YXR1cy51c2VyLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICAvLyBMb2dnZWQgb3V0XG4gICAgICAgIHJldHVybiB7IHN0YXR1czogdXNlclN0YXR1cy5zdGF0dXMgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhbiBhY2NvdW50IHRoYXQgY29tbXVuaWNhdGVzIHdpdGggdGhlIGlGcmFtZSBmb3Igc2lnbmluZyBvcGVyYXRpb25zXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgYXN5bmMgZ2V0QWNjb3VudCgpIHtcbiAgICAgICAgY29uc3QgcXVlcmllciA9IHRoaXNcbiAgICAgICAgICAgIC53YWxsZXRNYW5hZ2VyUXVlcmllcjtcbiAgICAgICAgY29uc3QgY2xpZW50ID0gdGhpcy5jbGllbnQ7XG4gICAgICAgIGNvbnN0IHBhcnRuZXJJZCA9IHRoaXMuZWNvc3lzdGVtPy5wYXJ0bmVySWQ7XG4gICAgICAgIGNvbnN0IHsgYWRkcmVzcyB9ID0gYXdhaXQgcXVlcmllci5jYWxsKHtcbiAgICAgICAgICAgIHBhcmFtczogdW5kZWZpbmVkLFxuICAgICAgICAgICAgcHJvY2VkdXJlTmFtZTogXCJnZXRBZGRyZXNzXCIsXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBfc2lnblRyYW5zYWN0aW9uID0gYXN5bmMgKHR4KSA9PiB7XG4gICAgICAgICAgICAvLyBiaW9tZS1pZ25vcmUgbGludC9zdXNwaWNpb3VzL25vRXhwbGljaXRBbnk6IGV0aGVycyB0eCB0cmFuc2Zvcm1hdGlvblxuICAgICAgICAgICAgY29uc3QgdHJhbnNhY3Rpb24gPSB7XG4gICAgICAgICAgICAgICAgY2hhaW5JZDogdHguY2hhaW5JZCxcbiAgICAgICAgICAgICAgICBkYXRhOiB0eC5kYXRhLFxuICAgICAgICAgICAgICAgIGdhc0xpbWl0OiB0eC5nYXMsXG4gICAgICAgICAgICAgICAgbm9uY2U6IHR4Lm5vbmNlLFxuICAgICAgICAgICAgICAgIHRvOiB0eC50byA/PyB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgdmFsdWU6IHR4LnZhbHVlLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmICh0eC5tYXhGZWVQZXJHYXMpIHtcbiAgICAgICAgICAgICAgICAvLyBldGhlcnMgKGluIHRoZSBpZnJhbWUpIHJlamVjdHMgYW55IHR5cGUgMCB0cmFuc2FjdGlvbiB3aXRoIHVua25vd24ga2V5c1xuICAgICAgICAgICAgICAgIC8vIFRPRE8gcmVtb3ZlIHRoaXMgb25jZSBpZnJhbWUgaXMgdXBncmFkZWQgdG8gdjVcbiAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbi5hY2Nlc3NMaXN0ID0gdHguYWNjZXNzTGlzdDtcbiAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbi5tYXhGZWVQZXJHYXMgPSB0eC5tYXhGZWVQZXJHYXM7XG4gICAgICAgICAgICAgICAgdHJhbnNhY3Rpb24ubWF4UHJpb3JpdHlGZWVQZXJHYXMgPSB0eC5tYXhQcmlvcml0eUZlZVBlckdhcztcbiAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbi50eXBlID0gMjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRyYW5zYWN0aW9uLmdhc1ByaWNlID0gdHguZ2FzUHJpY2U7XG4gICAgICAgICAgICAgICAgdHJhbnNhY3Rpb24udHlwZSA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBSUENfVVJMID0gZ2V0VGhpcmR3ZWJEb21haW5zKCkucnBjO1xuICAgICAgICAgICAgY29uc3QgeyBzaWduZWRUcmFuc2FjdGlvbiB9ID0gYXdhaXQgcXVlcmllci5jYWxsKHtcbiAgICAgICAgICAgICAgICBwYXJhbXM6IHtcbiAgICAgICAgICAgICAgICAgICAgY2hhaW5JZDogdHguY2hhaW5JZCxcbiAgICAgICAgICAgICAgICAgICAgcGFydG5lcklkLFxuICAgICAgICAgICAgICAgICAgICBycGNFbmRwb2ludDogYGh0dHBzOi8vJHt0eC5jaGFpbklkfS4ke1JQQ19VUkx9YCxcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNhY3Rpb24sIC8vIFRPRE8gKGV3KSBzaG91bGRudCBiZSBuZWVkZWRcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHByb2NlZHVyZU5hbWU6IFwic2lnblRyYW5zYWN0aW9uXCIsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBzaWduZWRUcmFuc2FjdGlvbjtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGFkZHJlc3M6IGdldEFkZHJlc3MoYWRkcmVzcyksXG4gICAgICAgICAgICBhc3luYyBzZW5kVHJhbnNhY3Rpb24odHgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBycGNSZXF1ZXN0ID0gZ2V0UnBjQ2xpZW50KHtcbiAgICAgICAgICAgICAgICAgICAgY2hhaW46IGdldENhY2hlZENoYWluKHR4LmNoYWluSWQpLFxuICAgICAgICAgICAgICAgICAgICBjbGllbnQsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2lnbmVkVHggPSBhd2FpdCBfc2lnblRyYW5zYWN0aW9uKHR4KTtcbiAgICAgICAgICAgICAgICBjb25zdCB0cmFuc2FjdGlvbkhhc2ggPSBhd2FpdCBldGhfc2VuZFJhd1RyYW5zYWN0aW9uKHJwY1JlcXVlc3QsIHNpZ25lZFR4KTtcbiAgICAgICAgICAgICAgICB0cmFja1RyYW5zYWN0aW9uKHtcbiAgICAgICAgICAgICAgICAgICAgY2hhaW5JZDogdHguY2hhaW5JZCxcbiAgICAgICAgICAgICAgICAgICAgY2xpZW50LFxuICAgICAgICAgICAgICAgICAgICBjb250cmFjdEFkZHJlc3M6IHR4LnRvID8/IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgICAgZ2FzUHJpY2U6IHR4Lmdhc1ByaWNlLFxuICAgICAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbkhhc2gsXG4gICAgICAgICAgICAgICAgICAgIHdhbGxldEFkZHJlc3M6IGFkZHJlc3MsXG4gICAgICAgICAgICAgICAgICAgIHdhbGxldFR5cGU6IFwiaW5BcHBcIixcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4geyB0cmFuc2FjdGlvbkhhc2ggfTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBhc3luYyBzaWduTWVzc2FnZSh7IG1lc3NhZ2UgfSkge1xuICAgICAgICAgICAgICAgIC8vIGluLWFwcCB3YWxsZXRzIHVzZSBldGhlcnMgdG8gc2lnbiBtZXNzYWdlcywgd2hpY2ggYWx3YXlzIGV4cGVjdHMgYSBzdHJpbmcgKG9yIGJ5dGVzIG1heWJlIGJ1dCBzdHJpbmcgaXMgc2FmZXN0KVxuICAgICAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2VEZWNvZGVkID0gKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBtZXNzYWdlID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5yYXcgaW5zdGFuY2VvZiBVaW50OEFycmF5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWVzc2FnZS5yYXc7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGhleFRvU3RyaW5nKG1lc3NhZ2UucmF3KTtcbiAgICAgICAgICAgICAgICB9KSgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgc2lnbmVkTWVzc2FnZSB9ID0gYXdhaXQgcXVlcmllci5jYWxsKHtcbiAgICAgICAgICAgICAgICAgICAgcGFyYW1zOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjaGFpbklkOiAxLCAvLyBuZWVkcyBieXRlcyBvciBzdHJpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGJpb21lLWlnbm9yZSBsaW50L3N1c3BpY2lvdXMvbm9FeHBsaWNpdEFueTogZXRoZXJzIHR4IHRyYW5zZm9ybWF0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBtZXNzYWdlRGVjb2RlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcnRuZXJJZCwgLy8gVE9ETyBjaGVjayBpZiB3ZSBuZWVkIHRoaXNcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgcHJvY2VkdXJlTmFtZTogXCJzaWduTWVzc2FnZVwiLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiBzaWduZWRNZXNzYWdlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGFzeW5jIHNpZ25UcmFuc2FjdGlvbih0eCkge1xuICAgICAgICAgICAgICAgIGlmICghdHguY2hhaW5JZCkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJjaGFpbklkIHJlcXVpcmVkIGluIHR4IHRvIHNpZ25cIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBfc2lnblRyYW5zYWN0aW9uKHtcbiAgICAgICAgICAgICAgICAgICAgLi4udHgsXG4gICAgICAgICAgICAgICAgICAgIGNoYWluSWQ6IHR4LmNoYWluSWQsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYXN5bmMgc2lnblR5cGVkRGF0YShfdHlwZWREYXRhKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFyc2VkVHlwZWREYXRhID0gcGFyc2VUeXBlZERhdGEoX3R5cGVkRGF0YSk7XG4gICAgICAgICAgICAgICAgLy8gZGVsZXRpbmcgRUlQNzEyIERvbWFpbiBhcyBpdCByZXN1bHRzIGluIGFtYmlndW91cyBwcmltYXJ5IHR5cGUgb24gc29tZSBjYXNlc1xuICAgICAgICAgICAgICAgIC8vIHRoaXMgaGFwcGVucyB3aGVuIGdvaW5nIGZyb20gdmllbSB0byBldGhlcnMgdmlhIHRoZSBpZnJhbWVcbiAgICAgICAgICAgICAgICBpZiAocGFyc2VkVHlwZWREYXRhLnR5cGVzPy5FSVA3MTJEb21haW4pIHtcbiAgICAgICAgICAgICAgICAgICAgcGFyc2VkVHlwZWREYXRhLnR5cGVzLkVJUDcxMkRvbWFpbiA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgZG9tYWluID0gcGFyc2VkVHlwZWREYXRhLmRvbWFpbjtcbiAgICAgICAgICAgICAgICBjb25zdCBjaGFpbklkID0gZG9tYWluPy5jaGFpbklkO1xuICAgICAgICAgICAgICAgIGNvbnN0IHZlcmlmeWluZ0NvbnRyYWN0ID0gZG9tYWluPy52ZXJpZnlpbmdDb250cmFjdFxuICAgICAgICAgICAgICAgICAgICA/IHsgdmVyaWZ5aW5nQ29udHJhY3Q6IGRvbWFpbj8udmVyaWZ5aW5nQ29udHJhY3QgfVxuICAgICAgICAgICAgICAgICAgICA6IHt9O1xuICAgICAgICAgICAgICAgIGNvbnN0IGRvbWFpbkRhdGEgPSB7XG4gICAgICAgICAgICAgICAgICAgIC4uLnZlcmlmeWluZ0NvbnRyYWN0LFxuICAgICAgICAgICAgICAgICAgICBuYW1lOiBkb21haW4/Lm5hbWUsXG4gICAgICAgICAgICAgICAgICAgIHZlcnNpb246IGRvbWFpbj8udmVyc2lvbixcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIC8vIGNoYWluIGlkIGNhbid0IGJlIGluY2x1ZGVkIGlmIGl0IHdhc24ndCBleHBsaWNpdGx5IHNwZWNpZmllZFxuICAgICAgICAgICAgICAgIGlmIChjaGFpbklkKSB7XG4gICAgICAgICAgICAgICAgICAgIGRvbWFpbkRhdGEuY2hhaW5JZCA9IGNoYWluSWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IFJQQ19VUkwgPSBnZXRUaGlyZHdlYkRvbWFpbnMoKS5ycGM7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBzaWduZWRUeXBlZERhdGEgfSA9IGF3YWl0IHF1ZXJpZXIuY2FsbCh7XG4gICAgICAgICAgICAgICAgICAgIHBhcmFtczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2hhaW5JZDogTnVtYmVyLnBhcnNlSW50KEJpZ0ludChjaGFpbklkIHx8IDEpLnRvU3RyaW5nKCkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgZG9tYWluOiBkb21haW5EYXRhLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogcGFyc2VkVHlwZWREYXRhLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJ0bmVySWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBycGNFbmRwb2ludDogYGh0dHBzOi8vJHtjaGFpbklkfS4ke1JQQ19VUkx9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGVzOiBwYXJzZWRUeXBlZERhdGEudHlwZXMsIC8vIFRPRE8gKGV3KSBzaG91bGRudCBiZSBuZWVkZWRcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgcHJvY2VkdXJlTmFtZTogXCJzaWduVHlwZWREYXRhVjRcIixcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2lnbmVkVHlwZWREYXRhO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pZnJhbWUtd2FsbGV0LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/web/lib/iframe-wallet.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/web/lib/web-connector.js":
/*!********************************************************************************!*\
  !*** ./node_modules/thirdweb/dist/esm/wallets/in-app/web/lib/web-connector.js ***!
  \********************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   InAppWebConnector: function() { return /* binding */ InAppWebConnector; }\n/* harmony export */ });\n/* harmony import */ var _utils_domains_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../utils/domains.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/utils/domains.js\");\n/* harmony import */ var _utils_storage_inMemoryStorage_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../../utils/storage/inMemoryStorage.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/utils/storage/inMemoryStorage.js\");\n/* harmony import */ var _utils_storage_webStorage_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../../utils/storage/webStorage.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/utils/storage/webStorage.js\");\n/* harmony import */ var _core_actions_get_enclave_user_status_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/actions/get-enclave-user-status.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/core/actions/get-enclave-user-status.js\");\n/* harmony import */ var _core_authentication_authEndpoint_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../core/authentication/authEndpoint.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/core/authentication/authEndpoint.js\");\n/* harmony import */ var _core_authentication_backend_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../core/authentication/backend.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/core/authentication/backend.js\");\n/* harmony import */ var _core_authentication_client_scoped_storage_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/authentication/client-scoped-storage.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/core/authentication/client-scoped-storage.js\");\n/* harmony import */ var _core_authentication_guest_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../core/authentication/guest.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/core/authentication/guest.js\");\n/* harmony import */ var _core_authentication_jwt_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../core/authentication/jwt.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/core/authentication/jwt.js\");\n/* harmony import */ var _core_authentication_linkAccount_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../core/authentication/linkAccount.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/core/authentication/linkAccount.js\");\n/* harmony import */ var _core_authentication_passkeys_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../core/authentication/passkeys.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/core/authentication/passkeys.js\");\n/* harmony import */ var _core_authentication_siwe_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../core/authentication/siwe.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/core/authentication/siwe.js\");\n/* harmony import */ var _core_wallet_enclave_wallet_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/wallet/enclave-wallet.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/core/wallet/enclave-wallet.js\");\n/* harmony import */ var _utils_iFrameCommunication_InAppWalletIframeCommunicator_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/iFrameCommunication/InAppWalletIframeCommunicator.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/web/utils/iFrameCommunication/InAppWalletIframeCommunicator.js\");\n/* harmony import */ var _auth_iframe_auth_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./auth/iframe-auth.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/web/lib/auth/iframe-auth.js\");\n/* harmony import */ var _auth_oauth_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./auth/oauth.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/web/lib/auth/oauth.js\");\n/* harmony import */ var _auth_otp_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./auth/otp.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/web/lib/auth/otp.js\");\n/* harmony import */ var _iframe_wallet_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./iframe-wallet.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/web/lib/iframe-wallet.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/**\n * @internal\n */\nclass InAppWebConnector {\n    isClientIdLegacyPaper(clientId) {\n        if (clientId.indexOf(\"-\") > 0 && clientId.length === 36) {\n            return true;\n        }\n        return false;\n    }\n    /**\n     * @example\n     * `const thirdwebInAppWallet = new InAppWalletSdk({ clientId: \"\", chain: \"Goerli\" });`\n     * @internal\n     */\n    constructor({ client, onAuthSuccess, ecosystem, passkeyDomain, storage, }) {\n        Object.defineProperty(this, \"client\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"ecosystem\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"querier\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"storage\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"wallet\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        /**\n         * Used to manage the Auth state of the user.\n         */\n        Object.defineProperty(this, \"auth\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"passkeyDomain\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        if (this.isClientIdLegacyPaper(client.clientId)) {\n            throw new Error(\"You are using a legacy clientId. Please use the clientId found on the thirdweb dashboard settings page\");\n        }\n        const baseUrl = (0,_utils_domains_js__WEBPACK_IMPORTED_MODULE_0__.getThirdwebBaseUrl)(\"inAppWallet\");\n        this.client = client;\n        this.ecosystem = ecosystem;\n        this.passkeyDomain = passkeyDomain;\n        this.storage = new _core_authentication_client_scoped_storage_js__WEBPACK_IMPORTED_MODULE_1__.ClientScopedStorage({\n            clientId: client.clientId,\n            ecosystem: ecosystem,\n            storage: storage ?? getDefaultStorage(),\n        });\n        this.querier = new _utils_iFrameCommunication_InAppWalletIframeCommunicator_js__WEBPACK_IMPORTED_MODULE_2__.InAppWalletIframeCommunicator({\n            baseUrl,\n            clientId: client.clientId,\n            ecosystem,\n        });\n        this.auth = new _auth_iframe_auth_js__WEBPACK_IMPORTED_MODULE_3__.Auth({\n            baseUrl,\n            client,\n            ecosystem,\n            localStorage: this.storage,\n            onAuthSuccess: async (authResult) => {\n                onAuthSuccess?.(authResult);\n                if (authResult.storedToken.authDetails.walletType === \"sharded\") {\n                    // If this is an existing sharded ecosystem wallet, we'll need to migrate\n                    const result = await this.querier.call({\n                        params: {\n                            storedToken: authResult.storedToken,\n                        },\n                        procedureName: \"migrateFromShardToEnclave\",\n                    });\n                    if (!result) {\n                        console.warn(\"Failed to migrate from sharded to enclave wallet, continuing with sharded wallet\");\n                    }\n                }\n                this.wallet = await this.initializeWallet(authResult.storedToken.cookieString);\n                if (!this.wallet) {\n                    throw new Error(\"Failed to initialize wallet\");\n                }\n                const deviceShareStored = \"deviceShareStored\" in authResult.walletDetails\n                    ? authResult.walletDetails.deviceShareStored\n                    : undefined;\n                await this.wallet.postWalletSetUp({\n                    deviceShareStored,\n                    storedToken: authResult.storedToken,\n                });\n                if (this.wallet instanceof _iframe_wallet_js__WEBPACK_IMPORTED_MODULE_4__.IFrameWallet) {\n                    await this.querier.call({\n                        params: {\n                            authCookie: authResult.storedToken.cookieString,\n                            clientId: this.client.clientId,\n                            // For enclave wallets we won't have a device share\n                            deviceShareStored: \"deviceShareStored\" in authResult.walletDetails\n                                ? authResult.walletDetails.deviceShareStored\n                                : null,\n                            ecosystemId: ecosystem?.id,\n                            partnerId: ecosystem?.partnerId,\n                            walletUserId: authResult.storedToken.authDetails.userWalletId,\n                        },\n                        procedureName: \"initIframe\",\n                    });\n                }\n                return {\n                    user: {\n                        account: await this.wallet.getAccount(),\n                        authDetails: authResult.storedToken.authDetails,\n                        status: \"Logged In, Wallet Initialized\",\n                        walletAddress: authResult.walletDetails.walletAddress,\n                    },\n                };\n            },\n            querier: this.querier,\n        });\n    }\n    async initializeWallet(authToken) {\n        const storedAuthToken = await this.storage.getAuthCookie();\n        if (!authToken && storedAuthToken === null) {\n            throw new Error(\"No auth token provided and no stored auth token found to initialize the wallet\");\n        }\n        const user = await (0,_core_actions_get_enclave_user_status_js__WEBPACK_IMPORTED_MODULE_5__.getUserStatus)({\n            authToken: authToken || storedAuthToken,\n            client: this.client,\n            ecosystem: this.ecosystem,\n        });\n        if (!user) {\n            throw new Error(\"Cannot initialize wallet, no user logged in\");\n        }\n        if (user.wallets.length === 0) {\n            throw new Error(\"Cannot initialize wallet, this user does not have a wallet generated yet\");\n        }\n        if (user.wallets[0]?.type === \"enclave\") {\n            return new _core_wallet_enclave_wallet_js__WEBPACK_IMPORTED_MODULE_6__.EnclaveWallet({\n                address: user.wallets[0].address,\n                client: this.client,\n                ecosystem: this.ecosystem,\n                storage: this.storage,\n            });\n        }\n        return new _iframe_wallet_js__WEBPACK_IMPORTED_MODULE_4__.IFrameWallet({\n            client: this.client,\n            ecosystem: this.ecosystem,\n            localStorage: this.storage,\n            querier: this.querier,\n        });\n    }\n    /**\n     * Gets the user if they're logged in\n     * @example\n     * ```js\n     *  const user = await thirdwebInAppWallet.getUser();\n     *  switch (user.status) {\n     *     case UserWalletStatus.LOGGED_OUT: {\n     *       // User is logged out, call one of the auth methods on thirdwebInAppWallet.auth to authenticate the user\n     *       break;\n     *     }\n     *     case UserWalletStatus.LOGGED_IN_WALLET_INITIALIZED: {\n     *       // user is logged in and wallet is all set up.\n     *       // You have access to:\n     *       user.status;\n     *       user.authDetails;\n     *       user.walletAddress;\n     *       user.wallet;\n     *       break;\n     *     }\n     * }\n     * ```\n     * @returns GetUser - an object to containing various information on the user statuses\n     */\n    async getUser() {\n        // If we don't have a wallet yet we'll create one\n        if (!this.wallet) {\n            const localAuthToken = await this.storage.getAuthCookie();\n            if (!localAuthToken) {\n                return { status: \"Logged Out\" };\n            }\n            this.wallet = await this.initializeWallet(localAuthToken);\n        }\n        if (!this.wallet) {\n            throw new Error(\"Wallet not initialized\");\n        }\n        return await this.wallet.getUserWalletStatus();\n    }\n    getAccount() {\n        if (!this.wallet) {\n            throw new Error(\"Wallet not initialized\");\n        }\n        return this.wallet.getAccount();\n    }\n    async preAuthenticate(args) {\n        return (0,_auth_otp_js__WEBPACK_IMPORTED_MODULE_7__.sendOtp)({\n            ...args,\n            client: this.client,\n            ecosystem: this.ecosystem,\n        });\n    }\n    async authenticateWithRedirect(strategy, mode, redirectUrl) {\n        return (0,_auth_oauth_js__WEBPACK_IMPORTED_MODULE_8__.loginWithOauthRedirect)({\n            authOption: strategy,\n            client: this.client,\n            ecosystem: this.ecosystem,\n            mode,\n            redirectUrl,\n        });\n    }\n    async loginWithAuthToken(authResult, recoveryCode) {\n        return this.auth.loginWithAuthToken(authResult, recoveryCode);\n    }\n    /**\n     * Authenticates the user and returns the auth token, but does not instantiate their wallet\n     */\n    async authenticate(args) {\n        const strategy = args.strategy;\n        switch (strategy) {\n            case \"email\":\n                return (0,_auth_otp_js__WEBPACK_IMPORTED_MODULE_7__.verifyOtp)({\n                    ...args,\n                    client: this.client,\n                    ecosystem: this.ecosystem,\n                });\n            case \"phone\":\n                return (0,_auth_otp_js__WEBPACK_IMPORTED_MODULE_7__.verifyOtp)({\n                    ...args,\n                    client: this.client,\n                    ecosystem: this.ecosystem,\n                });\n            case \"auth_endpoint\": {\n                return (0,_core_authentication_authEndpoint_js__WEBPACK_IMPORTED_MODULE_9__.authEndpoint)({\n                    client: this.client,\n                    ecosystem: this.ecosystem,\n                    payload: args.payload,\n                });\n            }\n            case \"jwt\":\n                return (0,_core_authentication_jwt_js__WEBPACK_IMPORTED_MODULE_10__.customJwt)({\n                    client: this.client,\n                    ecosystem: this.ecosystem,\n                    jwt: args.jwt,\n                });\n            case \"passkey\": {\n                return this.passkeyAuth(args);\n            }\n            case \"iframe_email_verification\": {\n                return this.auth.authenticateWithIframe({\n                    email: args.email,\n                });\n            }\n            case \"iframe\": {\n                return this.auth.authenticateWithModal();\n            }\n            case \"apple\":\n            case \"facebook\":\n            case \"google\":\n            case \"telegram\":\n            case \"github\":\n            case \"twitch\":\n            case \"farcaster\":\n            case \"line\":\n            case \"x\":\n            case \"tiktok\":\n            case \"steam\":\n            case \"coinbase\":\n            case \"discord\": {\n                return (0,_auth_oauth_js__WEBPACK_IMPORTED_MODULE_8__.loginWithOauth)({\n                    authOption: strategy,\n                    client: this.client,\n                    closeOpenedWindow: args.closeOpenedWindow,\n                    ecosystem: this.ecosystem,\n                    openedWindow: args.openedWindow,\n                });\n            }\n            case \"guest\": {\n                return (0,_core_authentication_guest_js__WEBPACK_IMPORTED_MODULE_11__.guestAuthenticate)({\n                    client: this.client,\n                    ecosystem: this.ecosystem,\n                    storage: this.storage,\n                });\n            }\n            case \"backend\": {\n                return (0,_core_authentication_backend_js__WEBPACK_IMPORTED_MODULE_12__.backendAuthenticate)({\n                    client: this.client,\n                    ecosystem: this.ecosystem,\n                    walletSecret: args.walletSecret,\n                });\n            }\n            case \"wallet\": {\n                return (0,_core_authentication_siwe_js__WEBPACK_IMPORTED_MODULE_13__.siweAuthenticate)({\n                    chain: args.chain,\n                    client: this.client,\n                    ecosystem: this.ecosystem,\n                    wallet: args.wallet,\n                });\n            }\n        }\n    }\n    /**\n     * Authenticates the user then instantiates their wallet using the resulting auth token\n     */\n    async connect(args) {\n        const strategy = args.strategy;\n        switch (strategy) {\n            case \"auth_endpoint\":\n            case \"jwt\": {\n                const authToken = await this.authenticate(args);\n                return await this.loginWithAuthToken(authToken, args.encryptionKey);\n            }\n            case \"iframe_email_verification\": {\n                return this.auth.loginWithIframe({\n                    email: args.email,\n                });\n            }\n            case \"iframe\": {\n                return this.auth.loginWithModal();\n            }\n            case \"passkey\": {\n                const authToken = await this.passkeyAuth(args);\n                return this.loginWithAuthToken(authToken);\n            }\n            case \"backend\":\n            case \"phone\":\n            case \"email\":\n            case \"wallet\":\n            case \"apple\":\n            case \"facebook\":\n            case \"google\":\n            case \"farcaster\":\n            case \"telegram\":\n            case \"github\":\n            case \"line\":\n            case \"x\":\n            case \"tiktok\":\n            case \"guest\":\n            case \"coinbase\":\n            case \"twitch\":\n            case \"steam\":\n            case \"discord\": {\n                const authToken = await this.authenticate(args);\n                return await this.auth.loginWithAuthToken(authToken);\n            }\n            default:\n                assertUnreachable(strategy);\n        }\n    }\n    async logout() {\n        return await this.auth.logout();\n    }\n    async passkeyAuth(args) {\n        const { PasskeyWebClient } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ./auth/passkeys.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/web/lib/auth/passkeys.js\"));\n        const { passkeyName, storeLastUsedPasskey = true } = args;\n        const passkeyClient = new PasskeyWebClient();\n        const storage = this.storage;\n        if (args.type === \"sign-up\") {\n            return (0,_core_authentication_passkeys_js__WEBPACK_IMPORTED_MODULE_14__.registerPasskey)({\n                client: this.client,\n                ecosystem: this.ecosystem,\n                passkeyClient,\n                rp: {\n                    id: this.passkeyDomain ?? window.location.hostname,\n                    name: this.passkeyDomain ?? window.document.title,\n                },\n                storage: storeLastUsedPasskey ? storage : undefined,\n                username: passkeyName,\n            });\n        }\n        return (0,_core_authentication_passkeys_js__WEBPACK_IMPORTED_MODULE_14__.loginWithPasskey)({\n            client: this.client,\n            ecosystem: this.ecosystem,\n            passkeyClient,\n            rp: {\n                id: this.passkeyDomain ?? window.location.hostname,\n                name: this.passkeyDomain ?? window.document.title,\n            },\n            storage: storeLastUsedPasskey ? storage : undefined,\n        });\n    }\n    async linkProfile(args) {\n        const { storedToken } = await this.authenticate(args);\n        return await (0,_core_authentication_linkAccount_js__WEBPACK_IMPORTED_MODULE_15__.linkAccount)({\n            client: args.client,\n            ecosystem: args.ecosystem || this.ecosystem,\n            storage: this.storage,\n            tokenToLink: storedToken.cookieString,\n        });\n    }\n    async unlinkProfile(profile, allowAccountDeletion) {\n        return await (0,_core_authentication_linkAccount_js__WEBPACK_IMPORTED_MODULE_15__.unlinkAccount)({\n            allowAccountDeletion,\n            client: this.client,\n            ecosystem: this.ecosystem,\n            profileToUnlink: profile,\n            storage: this.storage,\n        });\n    }\n    async getProfiles() {\n        return (0,_core_authentication_linkAccount_js__WEBPACK_IMPORTED_MODULE_15__.getLinkedProfilesInternal)({\n            client: this.client,\n            ecosystem: this.ecosystem,\n            storage: this.storage,\n        });\n    }\n}\nfunction assertUnreachable(x, message) {\n    throw new Error(message ?? `Invalid param: ${x}`);\n}\nfunction getDefaultStorage() {\n    if (typeof window !== \"undefined\" && window.localStorage) {\n        return _utils_storage_webStorage_js__WEBPACK_IMPORTED_MODULE_16__.webLocalStorage;\n    }\n    // default to in-memory storage if we're not in the browser\n    return _utils_storage_inMemoryStorage_js__WEBPACK_IMPORTED_MODULE_17__.inMemoryStorage;\n}\n//# sourceMappingURL=web-connector.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy90aGlyZHdlYi9kaXN0L2VzbS93YWxsZXRzL2luLWFwcC93ZWIvbGliL3dlYi1jb25uZWN0b3IuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFrRTtBQUNhO0FBQ0w7QUFDSTtBQUNMO0FBQ0U7QUFDYztBQUNsQjtBQUNWO0FBQ3FEO0FBQ3ZCO0FBQ3RCO0FBQ0Q7QUFDMEM7QUFDakU7QUFDNEI7QUFDdEI7QUFDRDtBQUNsRDtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5REFBeUQsK0JBQStCLEVBQUU7QUFDMUY7QUFDQTtBQUNBLGtCQUFrQiwyREFBMkQ7QUFDN0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IscUVBQWtCO0FBQzFDO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQiw4RkFBbUI7QUFDOUM7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULDJCQUEyQixzSEFBNkI7QUFDeEQ7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULHdCQUF3QixzREFBSTtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsMkNBQTJDLDJEQUFZO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQSxhQUFhO0FBQ2I7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLHVGQUFhO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1Qix5RUFBYTtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLG1CQUFtQiwyREFBWTtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUscURBQU87QUFDdEI7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxlQUFlLHNFQUFzQjtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsdURBQVM7QUFDaEM7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsdUJBQXVCLHVEQUFTO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLHVCQUF1QixrRkFBWTtBQUNuQztBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBLHVCQUF1Qix1RUFBUztBQUNoQztBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsOERBQWM7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EsdUJBQXVCLGlGQUFpQjtBQUN4QztBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBLHVCQUF1QixxRkFBbUI7QUFDMUM7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQSx1QkFBdUIsK0VBQWdCO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsbUJBQW1CLFFBQVEsOE1BQTRCO0FBQ3ZFLGdCQUFnQiwyQ0FBMkM7QUFDM0Q7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLGtGQUFlO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsZUFBZSxtRkFBZ0I7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxnQkFBZ0IsY0FBYztBQUM5QixxQkFBcUIsaUZBQVc7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLHFCQUFxQixtRkFBYTtBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxlQUFlLCtGQUF5QjtBQUN4QztBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsaURBQWlELEVBQUU7QUFDbkQ7QUFDQTtBQUNBO0FBQ0EsZUFBZSwwRUFBZTtBQUM5QjtBQUNBO0FBQ0EsV0FBVywrRUFBZTtBQUMxQjtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy90aGlyZHdlYi9kaXN0L2VzbS93YWxsZXRzL2luLWFwcC93ZWIvbGliL3dlYi1jb25uZWN0b3IuanM/ZTNkZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBnZXRUaGlyZHdlYkJhc2VVcmwgfSBmcm9tIFwiLi4vLi4vLi4vLi4vdXRpbHMvZG9tYWlucy5qc1wiO1xuaW1wb3J0IHsgaW5NZW1vcnlTdG9yYWdlIH0gZnJvbSBcIi4uLy4uLy4uLy4uL3V0aWxzL3N0b3JhZ2UvaW5NZW1vcnlTdG9yYWdlLmpzXCI7XG5pbXBvcnQgeyB3ZWJMb2NhbFN0b3JhZ2UgfSBmcm9tIFwiLi4vLi4vLi4vLi4vdXRpbHMvc3RvcmFnZS93ZWJTdG9yYWdlLmpzXCI7XG5pbXBvcnQgeyBnZXRVc2VyU3RhdHVzIH0gZnJvbSBcIi4uLy4uL2NvcmUvYWN0aW9ucy9nZXQtZW5jbGF2ZS11c2VyLXN0YXR1cy5qc1wiO1xuaW1wb3J0IHsgYXV0aEVuZHBvaW50IH0gZnJvbSBcIi4uLy4uL2NvcmUvYXV0aGVudGljYXRpb24vYXV0aEVuZHBvaW50LmpzXCI7XG5pbXBvcnQgeyBiYWNrZW5kQXV0aGVudGljYXRlIH0gZnJvbSBcIi4uLy4uL2NvcmUvYXV0aGVudGljYXRpb24vYmFja2VuZC5qc1wiO1xuaW1wb3J0IHsgQ2xpZW50U2NvcGVkU3RvcmFnZSB9IGZyb20gXCIuLi8uLi9jb3JlL2F1dGhlbnRpY2F0aW9uL2NsaWVudC1zY29wZWQtc3RvcmFnZS5qc1wiO1xuaW1wb3J0IHsgZ3Vlc3RBdXRoZW50aWNhdGUgfSBmcm9tIFwiLi4vLi4vY29yZS9hdXRoZW50aWNhdGlvbi9ndWVzdC5qc1wiO1xuaW1wb3J0IHsgY3VzdG9tSnd0IH0gZnJvbSBcIi4uLy4uL2NvcmUvYXV0aGVudGljYXRpb24vand0LmpzXCI7XG5pbXBvcnQgeyBnZXRMaW5rZWRQcm9maWxlc0ludGVybmFsLCBsaW5rQWNjb3VudCwgdW5saW5rQWNjb3VudCwgfSBmcm9tIFwiLi4vLi4vY29yZS9hdXRoZW50aWNhdGlvbi9saW5rQWNjb3VudC5qc1wiO1xuaW1wb3J0IHsgbG9naW5XaXRoUGFzc2tleSwgcmVnaXN0ZXJQYXNza2V5LCB9IGZyb20gXCIuLi8uLi9jb3JlL2F1dGhlbnRpY2F0aW9uL3Bhc3NrZXlzLmpzXCI7XG5pbXBvcnQgeyBzaXdlQXV0aGVudGljYXRlIH0gZnJvbSBcIi4uLy4uL2NvcmUvYXV0aGVudGljYXRpb24vc2l3ZS5qc1wiO1xuaW1wb3J0IHsgRW5jbGF2ZVdhbGxldCB9IGZyb20gXCIuLi8uLi9jb3JlL3dhbGxldC9lbmNsYXZlLXdhbGxldC5qc1wiO1xuaW1wb3J0IHsgSW5BcHBXYWxsZXRJZnJhbWVDb21tdW5pY2F0b3IgfSBmcm9tIFwiLi4vdXRpbHMvaUZyYW1lQ29tbXVuaWNhdGlvbi9JbkFwcFdhbGxldElmcmFtZUNvbW11bmljYXRvci5qc1wiO1xuaW1wb3J0IHsgQXV0aCB9IGZyb20gXCIuL2F1dGgvaWZyYW1lLWF1dGguanNcIjtcbmltcG9ydCB7IGxvZ2luV2l0aE9hdXRoLCBsb2dpbldpdGhPYXV0aFJlZGlyZWN0IH0gZnJvbSBcIi4vYXV0aC9vYXV0aC5qc1wiO1xuaW1wb3J0IHsgc2VuZE90cCwgdmVyaWZ5T3RwIH0gZnJvbSBcIi4vYXV0aC9vdHAuanNcIjtcbmltcG9ydCB7IElGcmFtZVdhbGxldCB9IGZyb20gXCIuL2lmcmFtZS13YWxsZXQuanNcIjtcbi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBjbGFzcyBJbkFwcFdlYkNvbm5lY3RvciB7XG4gICAgaXNDbGllbnRJZExlZ2FjeVBhcGVyKGNsaWVudElkKSB7XG4gICAgICAgIGlmIChjbGllbnRJZC5pbmRleE9mKFwiLVwiKSA+IDAgJiYgY2xpZW50SWQubGVuZ3RoID09PSAzNikge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGBjb25zdCB0aGlyZHdlYkluQXBwV2FsbGV0ID0gbmV3IEluQXBwV2FsbGV0U2RrKHsgY2xpZW50SWQ6IFwiXCIsIGNoYWluOiBcIkdvZXJsaVwiIH0pO2BcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcih7IGNsaWVudCwgb25BdXRoU3VjY2VzcywgZWNvc3lzdGVtLCBwYXNza2V5RG9tYWluLCBzdG9yYWdlLCB9KSB7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImNsaWVudFwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJlY29zeXN0ZW1cIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwicXVlcmllclwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJzdG9yYWdlXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIndhbGxldFwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICAvKipcbiAgICAgICAgICogVXNlZCB0byBtYW5hZ2UgdGhlIEF1dGggc3RhdGUgb2YgdGhlIHVzZXIuXG4gICAgICAgICAqL1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJhdXRoXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInBhc3NrZXlEb21haW5cIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHRoaXMuaXNDbGllbnRJZExlZ2FjeVBhcGVyKGNsaWVudC5jbGllbnRJZCkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIllvdSBhcmUgdXNpbmcgYSBsZWdhY3kgY2xpZW50SWQuIFBsZWFzZSB1c2UgdGhlIGNsaWVudElkIGZvdW5kIG9uIHRoZSB0aGlyZHdlYiBkYXNoYm9hcmQgc2V0dGluZ3MgcGFnZVwiKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBiYXNlVXJsID0gZ2V0VGhpcmR3ZWJCYXNlVXJsKFwiaW5BcHBXYWxsZXRcIik7XG4gICAgICAgIHRoaXMuY2xpZW50ID0gY2xpZW50O1xuICAgICAgICB0aGlzLmVjb3N5c3RlbSA9IGVjb3N5c3RlbTtcbiAgICAgICAgdGhpcy5wYXNza2V5RG9tYWluID0gcGFzc2tleURvbWFpbjtcbiAgICAgICAgdGhpcy5zdG9yYWdlID0gbmV3IENsaWVudFNjb3BlZFN0b3JhZ2Uoe1xuICAgICAgICAgICAgY2xpZW50SWQ6IGNsaWVudC5jbGllbnRJZCxcbiAgICAgICAgICAgIGVjb3N5c3RlbTogZWNvc3lzdGVtLFxuICAgICAgICAgICAgc3RvcmFnZTogc3RvcmFnZSA/PyBnZXREZWZhdWx0U3RvcmFnZSgpLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5xdWVyaWVyID0gbmV3IEluQXBwV2FsbGV0SWZyYW1lQ29tbXVuaWNhdG9yKHtcbiAgICAgICAgICAgIGJhc2VVcmwsXG4gICAgICAgICAgICBjbGllbnRJZDogY2xpZW50LmNsaWVudElkLFxuICAgICAgICAgICAgZWNvc3lzdGVtLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5hdXRoID0gbmV3IEF1dGgoe1xuICAgICAgICAgICAgYmFzZVVybCxcbiAgICAgICAgICAgIGNsaWVudCxcbiAgICAgICAgICAgIGVjb3N5c3RlbSxcbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZTogdGhpcy5zdG9yYWdlLFxuICAgICAgICAgICAgb25BdXRoU3VjY2VzczogYXN5bmMgKGF1dGhSZXN1bHQpID0+IHtcbiAgICAgICAgICAgICAgICBvbkF1dGhTdWNjZXNzPy4oYXV0aFJlc3VsdCk7XG4gICAgICAgICAgICAgICAgaWYgKGF1dGhSZXN1bHQuc3RvcmVkVG9rZW4uYXV0aERldGFpbHMud2FsbGV0VHlwZSA9PT0gXCJzaGFyZGVkXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgdGhpcyBpcyBhbiBleGlzdGluZyBzaGFyZGVkIGVjb3N5c3RlbSB3YWxsZXQsIHdlJ2xsIG5lZWQgdG8gbWlncmF0ZVxuICAgICAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLnF1ZXJpZXIuY2FsbCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJhbXM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdG9yZWRUb2tlbjogYXV0aFJlc3VsdC5zdG9yZWRUb2tlbixcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9jZWR1cmVOYW1lOiBcIm1pZ3JhdGVGcm9tU2hhcmRUb0VuY2xhdmVcIixcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghcmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJGYWlsZWQgdG8gbWlncmF0ZSBmcm9tIHNoYXJkZWQgdG8gZW5jbGF2ZSB3YWxsZXQsIGNvbnRpbnVpbmcgd2l0aCBzaGFyZGVkIHdhbGxldFwiKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLndhbGxldCA9IGF3YWl0IHRoaXMuaW5pdGlhbGl6ZVdhbGxldChhdXRoUmVzdWx0LnN0b3JlZFRva2VuLmNvb2tpZVN0cmluZyk7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLndhbGxldCkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJGYWlsZWQgdG8gaW5pdGlhbGl6ZSB3YWxsZXRcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IGRldmljZVNoYXJlU3RvcmVkID0gXCJkZXZpY2VTaGFyZVN0b3JlZFwiIGluIGF1dGhSZXN1bHQud2FsbGV0RGV0YWlsc1xuICAgICAgICAgICAgICAgICAgICA/IGF1dGhSZXN1bHQud2FsbGV0RGV0YWlscy5kZXZpY2VTaGFyZVN0b3JlZFxuICAgICAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLndhbGxldC5wb3N0V2FsbGV0U2V0VXAoe1xuICAgICAgICAgICAgICAgICAgICBkZXZpY2VTaGFyZVN0b3JlZCxcbiAgICAgICAgICAgICAgICAgICAgc3RvcmVkVG9rZW46IGF1dGhSZXN1bHQuc3RvcmVkVG9rZW4sXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMud2FsbGV0IGluc3RhbmNlb2YgSUZyYW1lV2FsbGV0KSB7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucXVlcmllci5jYWxsKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF1dGhDb29raWU6IGF1dGhSZXN1bHQuc3RvcmVkVG9rZW4uY29va2llU3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaWVudElkOiB0aGlzLmNsaWVudC5jbGllbnRJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBGb3IgZW5jbGF2ZSB3YWxsZXRzIHdlIHdvbid0IGhhdmUgYSBkZXZpY2Ugc2hhcmVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXZpY2VTaGFyZVN0b3JlZDogXCJkZXZpY2VTaGFyZVN0b3JlZFwiIGluIGF1dGhSZXN1bHQud2FsbGV0RGV0YWlsc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IGF1dGhSZXN1bHQud2FsbGV0RGV0YWlscy5kZXZpY2VTaGFyZVN0b3JlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWNvc3lzdGVtSWQ6IGVjb3N5c3RlbT8uaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFydG5lcklkOiBlY29zeXN0ZW0/LnBhcnRuZXJJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3YWxsZXRVc2VySWQ6IGF1dGhSZXN1bHQuc3RvcmVkVG9rZW4uYXV0aERldGFpbHMudXNlcldhbGxldElkLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb2NlZHVyZU5hbWU6IFwiaW5pdElmcmFtZVwiLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgdXNlcjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWNjb3VudDogYXdhaXQgdGhpcy53YWxsZXQuZ2V0QWNjb3VudCgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgYXV0aERldGFpbHM6IGF1dGhSZXN1bHQuc3RvcmVkVG9rZW4uYXV0aERldGFpbHMsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IFwiTG9nZ2VkIEluLCBXYWxsZXQgSW5pdGlhbGl6ZWRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHdhbGxldEFkZHJlc3M6IGF1dGhSZXN1bHQud2FsbGV0RGV0YWlscy53YWxsZXRBZGRyZXNzLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcXVlcmllcjogdGhpcy5xdWVyaWVyLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgYXN5bmMgaW5pdGlhbGl6ZVdhbGxldChhdXRoVG9rZW4pIHtcbiAgICAgICAgY29uc3Qgc3RvcmVkQXV0aFRva2VuID0gYXdhaXQgdGhpcy5zdG9yYWdlLmdldEF1dGhDb29raWUoKTtcbiAgICAgICAgaWYgKCFhdXRoVG9rZW4gJiYgc3RvcmVkQXV0aFRva2VuID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJObyBhdXRoIHRva2VuIHByb3ZpZGVkIGFuZCBubyBzdG9yZWQgYXV0aCB0b2tlbiBmb3VuZCB0byBpbml0aWFsaXplIHRoZSB3YWxsZXRcIik7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdXNlciA9IGF3YWl0IGdldFVzZXJTdGF0dXMoe1xuICAgICAgICAgICAgYXV0aFRva2VuOiBhdXRoVG9rZW4gfHwgc3RvcmVkQXV0aFRva2VuLFxuICAgICAgICAgICAgY2xpZW50OiB0aGlzLmNsaWVudCxcbiAgICAgICAgICAgIGVjb3N5c3RlbTogdGhpcy5lY29zeXN0ZW0sXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIXVzZXIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBpbml0aWFsaXplIHdhbGxldCwgbm8gdXNlciBsb2dnZWQgaW5cIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHVzZXIud2FsbGV0cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBpbml0aWFsaXplIHdhbGxldCwgdGhpcyB1c2VyIGRvZXMgbm90IGhhdmUgYSB3YWxsZXQgZ2VuZXJhdGVkIHlldFwiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodXNlci53YWxsZXRzWzBdPy50eXBlID09PSBcImVuY2xhdmVcIikge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBFbmNsYXZlV2FsbGV0KHtcbiAgICAgICAgICAgICAgICBhZGRyZXNzOiB1c2VyLndhbGxldHNbMF0uYWRkcmVzcyxcbiAgICAgICAgICAgICAgICBjbGllbnQ6IHRoaXMuY2xpZW50LFxuICAgICAgICAgICAgICAgIGVjb3N5c3RlbTogdGhpcy5lY29zeXN0ZW0sXG4gICAgICAgICAgICAgICAgc3RvcmFnZTogdGhpcy5zdG9yYWdlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBJRnJhbWVXYWxsZXQoe1xuICAgICAgICAgICAgY2xpZW50OiB0aGlzLmNsaWVudCxcbiAgICAgICAgICAgIGVjb3N5c3RlbTogdGhpcy5lY29zeXN0ZW0sXG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2U6IHRoaXMuc3RvcmFnZSxcbiAgICAgICAgICAgIHF1ZXJpZXI6IHRoaXMucXVlcmllcixcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIHVzZXIgaWYgdGhleSdyZSBsb2dnZWQgaW5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGBgYGpzXG4gICAgICogIGNvbnN0IHVzZXIgPSBhd2FpdCB0aGlyZHdlYkluQXBwV2FsbGV0LmdldFVzZXIoKTtcbiAgICAgKiAgc3dpdGNoICh1c2VyLnN0YXR1cykge1xuICAgICAqICAgICBjYXNlIFVzZXJXYWxsZXRTdGF0dXMuTE9HR0VEX09VVDoge1xuICAgICAqICAgICAgIC8vIFVzZXIgaXMgbG9nZ2VkIG91dCwgY2FsbCBvbmUgb2YgdGhlIGF1dGggbWV0aG9kcyBvbiB0aGlyZHdlYkluQXBwV2FsbGV0LmF1dGggdG8gYXV0aGVudGljYXRlIHRoZSB1c2VyXG4gICAgICogICAgICAgYnJlYWs7XG4gICAgICogICAgIH1cbiAgICAgKiAgICAgY2FzZSBVc2VyV2FsbGV0U3RhdHVzLkxPR0dFRF9JTl9XQUxMRVRfSU5JVElBTElaRUQ6IHtcbiAgICAgKiAgICAgICAvLyB1c2VyIGlzIGxvZ2dlZCBpbiBhbmQgd2FsbGV0IGlzIGFsbCBzZXQgdXAuXG4gICAgICogICAgICAgLy8gWW91IGhhdmUgYWNjZXNzIHRvOlxuICAgICAqICAgICAgIHVzZXIuc3RhdHVzO1xuICAgICAqICAgICAgIHVzZXIuYXV0aERldGFpbHM7XG4gICAgICogICAgICAgdXNlci53YWxsZXRBZGRyZXNzO1xuICAgICAqICAgICAgIHVzZXIud2FsbGV0O1xuICAgICAqICAgICAgIGJyZWFrO1xuICAgICAqICAgICB9XG4gICAgICogfVxuICAgICAqIGBgYFxuICAgICAqIEByZXR1cm5zIEdldFVzZXIgLSBhbiBvYmplY3QgdG8gY29udGFpbmluZyB2YXJpb3VzIGluZm9ybWF0aW9uIG9uIHRoZSB1c2VyIHN0YXR1c2VzXG4gICAgICovXG4gICAgYXN5bmMgZ2V0VXNlcigpIHtcbiAgICAgICAgLy8gSWYgd2UgZG9uJ3QgaGF2ZSBhIHdhbGxldCB5ZXQgd2UnbGwgY3JlYXRlIG9uZVxuICAgICAgICBpZiAoIXRoaXMud2FsbGV0KSB7XG4gICAgICAgICAgICBjb25zdCBsb2NhbEF1dGhUb2tlbiA9IGF3YWl0IHRoaXMuc3RvcmFnZS5nZXRBdXRoQ29va2llKCk7XG4gICAgICAgICAgICBpZiAoIWxvY2FsQXV0aFRva2VuKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgc3RhdHVzOiBcIkxvZ2dlZCBPdXRcIiB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy53YWxsZXQgPSBhd2FpdCB0aGlzLmluaXRpYWxpemVXYWxsZXQobG9jYWxBdXRoVG9rZW4pO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy53YWxsZXQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIldhbGxldCBub3QgaW5pdGlhbGl6ZWRcIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMud2FsbGV0LmdldFVzZXJXYWxsZXRTdGF0dXMoKTtcbiAgICB9XG4gICAgZ2V0QWNjb3VudCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLndhbGxldCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiV2FsbGV0IG5vdCBpbml0aWFsaXplZFwiKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy53YWxsZXQuZ2V0QWNjb3VudCgpO1xuICAgIH1cbiAgICBhc3luYyBwcmVBdXRoZW50aWNhdGUoYXJncykge1xuICAgICAgICByZXR1cm4gc2VuZE90cCh7XG4gICAgICAgICAgICAuLi5hcmdzLFxuICAgICAgICAgICAgY2xpZW50OiB0aGlzLmNsaWVudCxcbiAgICAgICAgICAgIGVjb3N5c3RlbTogdGhpcy5lY29zeXN0ZW0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBhc3luYyBhdXRoZW50aWNhdGVXaXRoUmVkaXJlY3Qoc3RyYXRlZ3ksIG1vZGUsIHJlZGlyZWN0VXJsKSB7XG4gICAgICAgIHJldHVybiBsb2dpbldpdGhPYXV0aFJlZGlyZWN0KHtcbiAgICAgICAgICAgIGF1dGhPcHRpb246IHN0cmF0ZWd5LFxuICAgICAgICAgICAgY2xpZW50OiB0aGlzLmNsaWVudCxcbiAgICAgICAgICAgIGVjb3N5c3RlbTogdGhpcy5lY29zeXN0ZW0sXG4gICAgICAgICAgICBtb2RlLFxuICAgICAgICAgICAgcmVkaXJlY3RVcmwsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBhc3luYyBsb2dpbldpdGhBdXRoVG9rZW4oYXV0aFJlc3VsdCwgcmVjb3ZlcnlDb2RlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmF1dGgubG9naW5XaXRoQXV0aFRva2VuKGF1dGhSZXN1bHQsIHJlY292ZXJ5Q29kZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEF1dGhlbnRpY2F0ZXMgdGhlIHVzZXIgYW5kIHJldHVybnMgdGhlIGF1dGggdG9rZW4sIGJ1dCBkb2VzIG5vdCBpbnN0YW50aWF0ZSB0aGVpciB3YWxsZXRcbiAgICAgKi9cbiAgICBhc3luYyBhdXRoZW50aWNhdGUoYXJncykge1xuICAgICAgICBjb25zdCBzdHJhdGVneSA9IGFyZ3Muc3RyYXRlZ3k7XG4gICAgICAgIHN3aXRjaCAoc3RyYXRlZ3kpIHtcbiAgICAgICAgICAgIGNhc2UgXCJlbWFpbFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiB2ZXJpZnlPdHAoe1xuICAgICAgICAgICAgICAgICAgICAuLi5hcmdzLFxuICAgICAgICAgICAgICAgICAgICBjbGllbnQ6IHRoaXMuY2xpZW50LFxuICAgICAgICAgICAgICAgICAgICBlY29zeXN0ZW06IHRoaXMuZWNvc3lzdGVtLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY2FzZSBcInBob25lXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZlcmlmeU90cCh7XG4gICAgICAgICAgICAgICAgICAgIC4uLmFyZ3MsXG4gICAgICAgICAgICAgICAgICAgIGNsaWVudDogdGhpcy5jbGllbnQsXG4gICAgICAgICAgICAgICAgICAgIGVjb3N5c3RlbTogdGhpcy5lY29zeXN0ZW0sXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjYXNlIFwiYXV0aF9lbmRwb2ludFwiOiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGF1dGhFbmRwb2ludCh7XG4gICAgICAgICAgICAgICAgICAgIGNsaWVudDogdGhpcy5jbGllbnQsXG4gICAgICAgICAgICAgICAgICAgIGVjb3N5c3RlbTogdGhpcy5lY29zeXN0ZW0sXG4gICAgICAgICAgICAgICAgICAgIHBheWxvYWQ6IGFyZ3MucGF5bG9hZCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJqd3RcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gY3VzdG9tSnd0KHtcbiAgICAgICAgICAgICAgICAgICAgY2xpZW50OiB0aGlzLmNsaWVudCxcbiAgICAgICAgICAgICAgICAgICAgZWNvc3lzdGVtOiB0aGlzLmVjb3N5c3RlbSxcbiAgICAgICAgICAgICAgICAgICAgand0OiBhcmdzLmp3dCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNhc2UgXCJwYXNza2V5XCI6IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wYXNza2V5QXV0aChhcmdzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJpZnJhbWVfZW1haWxfdmVyaWZpY2F0aW9uXCI6IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5hdXRoLmF1dGhlbnRpY2F0ZVdpdGhJZnJhbWUoe1xuICAgICAgICAgICAgICAgICAgICBlbWFpbDogYXJncy5lbWFpbCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJpZnJhbWVcIjoge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmF1dGguYXV0aGVudGljYXRlV2l0aE1vZGFsKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwiYXBwbGVcIjpcbiAgICAgICAgICAgIGNhc2UgXCJmYWNlYm9va1wiOlxuICAgICAgICAgICAgY2FzZSBcImdvb2dsZVwiOlxuICAgICAgICAgICAgY2FzZSBcInRlbGVncmFtXCI6XG4gICAgICAgICAgICBjYXNlIFwiZ2l0aHViXCI6XG4gICAgICAgICAgICBjYXNlIFwidHdpdGNoXCI6XG4gICAgICAgICAgICBjYXNlIFwiZmFyY2FzdGVyXCI6XG4gICAgICAgICAgICBjYXNlIFwibGluZVwiOlxuICAgICAgICAgICAgY2FzZSBcInhcIjpcbiAgICAgICAgICAgIGNhc2UgXCJ0aWt0b2tcIjpcbiAgICAgICAgICAgIGNhc2UgXCJzdGVhbVwiOlxuICAgICAgICAgICAgY2FzZSBcImNvaW5iYXNlXCI6XG4gICAgICAgICAgICBjYXNlIFwiZGlzY29yZFwiOiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGxvZ2luV2l0aE9hdXRoKHtcbiAgICAgICAgICAgICAgICAgICAgYXV0aE9wdGlvbjogc3RyYXRlZ3ksXG4gICAgICAgICAgICAgICAgICAgIGNsaWVudDogdGhpcy5jbGllbnQsXG4gICAgICAgICAgICAgICAgICAgIGNsb3NlT3BlbmVkV2luZG93OiBhcmdzLmNsb3NlT3BlbmVkV2luZG93LFxuICAgICAgICAgICAgICAgICAgICBlY29zeXN0ZW06IHRoaXMuZWNvc3lzdGVtLFxuICAgICAgICAgICAgICAgICAgICBvcGVuZWRXaW5kb3c6IGFyZ3Mub3BlbmVkV2luZG93LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcImd1ZXN0XCI6IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZ3Vlc3RBdXRoZW50aWNhdGUoe1xuICAgICAgICAgICAgICAgICAgICBjbGllbnQ6IHRoaXMuY2xpZW50LFxuICAgICAgICAgICAgICAgICAgICBlY29zeXN0ZW06IHRoaXMuZWNvc3lzdGVtLFxuICAgICAgICAgICAgICAgICAgICBzdG9yYWdlOiB0aGlzLnN0b3JhZ2UsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwiYmFja2VuZFwiOiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGJhY2tlbmRBdXRoZW50aWNhdGUoe1xuICAgICAgICAgICAgICAgICAgICBjbGllbnQ6IHRoaXMuY2xpZW50LFxuICAgICAgICAgICAgICAgICAgICBlY29zeXN0ZW06IHRoaXMuZWNvc3lzdGVtLFxuICAgICAgICAgICAgICAgICAgICB3YWxsZXRTZWNyZXQ6IGFyZ3Mud2FsbGV0U2VjcmV0LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcIndhbGxldFwiOiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNpd2VBdXRoZW50aWNhdGUoe1xuICAgICAgICAgICAgICAgICAgICBjaGFpbjogYXJncy5jaGFpbixcbiAgICAgICAgICAgICAgICAgICAgY2xpZW50OiB0aGlzLmNsaWVudCxcbiAgICAgICAgICAgICAgICAgICAgZWNvc3lzdGVtOiB0aGlzLmVjb3N5c3RlbSxcbiAgICAgICAgICAgICAgICAgICAgd2FsbGV0OiBhcmdzLndhbGxldCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBBdXRoZW50aWNhdGVzIHRoZSB1c2VyIHRoZW4gaW5zdGFudGlhdGVzIHRoZWlyIHdhbGxldCB1c2luZyB0aGUgcmVzdWx0aW5nIGF1dGggdG9rZW5cbiAgICAgKi9cbiAgICBhc3luYyBjb25uZWN0KGFyZ3MpIHtcbiAgICAgICAgY29uc3Qgc3RyYXRlZ3kgPSBhcmdzLnN0cmF0ZWd5O1xuICAgICAgICBzd2l0Y2ggKHN0cmF0ZWd5KSB7XG4gICAgICAgICAgICBjYXNlIFwiYXV0aF9lbmRwb2ludFwiOlxuICAgICAgICAgICAgY2FzZSBcImp3dFwiOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgYXV0aFRva2VuID0gYXdhaXQgdGhpcy5hdXRoZW50aWNhdGUoYXJncyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMubG9naW5XaXRoQXV0aFRva2VuKGF1dGhUb2tlbiwgYXJncy5lbmNyeXB0aW9uS2V5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJpZnJhbWVfZW1haWxfdmVyaWZpY2F0aW9uXCI6IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5hdXRoLmxvZ2luV2l0aElmcmFtZSh7XG4gICAgICAgICAgICAgICAgICAgIGVtYWlsOiBhcmdzLmVtYWlsLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcImlmcmFtZVwiOiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuYXV0aC5sb2dpbldpdGhNb2RhbCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcInBhc3NrZXlcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IGF1dGhUb2tlbiA9IGF3YWl0IHRoaXMucGFzc2tleUF1dGgoYXJncyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubG9naW5XaXRoQXV0aFRva2VuKGF1dGhUb2tlbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwiYmFja2VuZFwiOlxuICAgICAgICAgICAgY2FzZSBcInBob25lXCI6XG4gICAgICAgICAgICBjYXNlIFwiZW1haWxcIjpcbiAgICAgICAgICAgIGNhc2UgXCJ3YWxsZXRcIjpcbiAgICAgICAgICAgIGNhc2UgXCJhcHBsZVwiOlxuICAgICAgICAgICAgY2FzZSBcImZhY2Vib29rXCI6XG4gICAgICAgICAgICBjYXNlIFwiZ29vZ2xlXCI6XG4gICAgICAgICAgICBjYXNlIFwiZmFyY2FzdGVyXCI6XG4gICAgICAgICAgICBjYXNlIFwidGVsZWdyYW1cIjpcbiAgICAgICAgICAgIGNhc2UgXCJnaXRodWJcIjpcbiAgICAgICAgICAgIGNhc2UgXCJsaW5lXCI6XG4gICAgICAgICAgICBjYXNlIFwieFwiOlxuICAgICAgICAgICAgY2FzZSBcInRpa3Rva1wiOlxuICAgICAgICAgICAgY2FzZSBcImd1ZXN0XCI6XG4gICAgICAgICAgICBjYXNlIFwiY29pbmJhc2VcIjpcbiAgICAgICAgICAgIGNhc2UgXCJ0d2l0Y2hcIjpcbiAgICAgICAgICAgIGNhc2UgXCJzdGVhbVwiOlxuICAgICAgICAgICAgY2FzZSBcImRpc2NvcmRcIjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IGF1dGhUb2tlbiA9IGF3YWl0IHRoaXMuYXV0aGVudGljYXRlKGFyZ3MpO1xuICAgICAgICAgICAgICAgIHJldHVybiBhd2FpdCB0aGlzLmF1dGgubG9naW5XaXRoQXV0aFRva2VuKGF1dGhUb2tlbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGFzc2VydFVucmVhY2hhYmxlKHN0cmF0ZWd5KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhc3luYyBsb2dvdXQoKSB7XG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLmF1dGgubG9nb3V0KCk7XG4gICAgfVxuICAgIGFzeW5jIHBhc3NrZXlBdXRoKGFyZ3MpIHtcbiAgICAgICAgY29uc3QgeyBQYXNza2V5V2ViQ2xpZW50IH0gPSBhd2FpdCBpbXBvcnQoXCIuL2F1dGgvcGFzc2tleXMuanNcIik7XG4gICAgICAgIGNvbnN0IHsgcGFzc2tleU5hbWUsIHN0b3JlTGFzdFVzZWRQYXNza2V5ID0gdHJ1ZSB9ID0gYXJncztcbiAgICAgICAgY29uc3QgcGFzc2tleUNsaWVudCA9IG5ldyBQYXNza2V5V2ViQ2xpZW50KCk7XG4gICAgICAgIGNvbnN0IHN0b3JhZ2UgPSB0aGlzLnN0b3JhZ2U7XG4gICAgICAgIGlmIChhcmdzLnR5cGUgPT09IFwic2lnbi11cFwiKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVnaXN0ZXJQYXNza2V5KHtcbiAgICAgICAgICAgICAgICBjbGllbnQ6IHRoaXMuY2xpZW50LFxuICAgICAgICAgICAgICAgIGVjb3N5c3RlbTogdGhpcy5lY29zeXN0ZW0sXG4gICAgICAgICAgICAgICAgcGFzc2tleUNsaWVudCxcbiAgICAgICAgICAgICAgICBycDoge1xuICAgICAgICAgICAgICAgICAgICBpZDogdGhpcy5wYXNza2V5RG9tYWluID8/IHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZSxcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogdGhpcy5wYXNza2V5RG9tYWluID8/IHdpbmRvdy5kb2N1bWVudC50aXRsZSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHN0b3JhZ2U6IHN0b3JlTGFzdFVzZWRQYXNza2V5ID8gc3RvcmFnZSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICB1c2VybmFtZTogcGFzc2tleU5hbWUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbG9naW5XaXRoUGFzc2tleSh7XG4gICAgICAgICAgICBjbGllbnQ6IHRoaXMuY2xpZW50LFxuICAgICAgICAgICAgZWNvc3lzdGVtOiB0aGlzLmVjb3N5c3RlbSxcbiAgICAgICAgICAgIHBhc3NrZXlDbGllbnQsXG4gICAgICAgICAgICBycDoge1xuICAgICAgICAgICAgICAgIGlkOiB0aGlzLnBhc3NrZXlEb21haW4gPz8gd2luZG93LmxvY2F0aW9uLmhvc3RuYW1lLFxuICAgICAgICAgICAgICAgIG5hbWU6IHRoaXMucGFzc2tleURvbWFpbiA/PyB3aW5kb3cuZG9jdW1lbnQudGl0bGUsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc3RvcmFnZTogc3RvcmVMYXN0VXNlZFBhc3NrZXkgPyBzdG9yYWdlIDogdW5kZWZpbmVkLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgYXN5bmMgbGlua1Byb2ZpbGUoYXJncykge1xuICAgICAgICBjb25zdCB7IHN0b3JlZFRva2VuIH0gPSBhd2FpdCB0aGlzLmF1dGhlbnRpY2F0ZShhcmdzKTtcbiAgICAgICAgcmV0dXJuIGF3YWl0IGxpbmtBY2NvdW50KHtcbiAgICAgICAgICAgIGNsaWVudDogYXJncy5jbGllbnQsXG4gICAgICAgICAgICBlY29zeXN0ZW06IGFyZ3MuZWNvc3lzdGVtIHx8IHRoaXMuZWNvc3lzdGVtLFxuICAgICAgICAgICAgc3RvcmFnZTogdGhpcy5zdG9yYWdlLFxuICAgICAgICAgICAgdG9rZW5Ub0xpbms6IHN0b3JlZFRva2VuLmNvb2tpZVN0cmluZyxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGFzeW5jIHVubGlua1Byb2ZpbGUocHJvZmlsZSwgYWxsb3dBY2NvdW50RGVsZXRpb24pIHtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHVubGlua0FjY291bnQoe1xuICAgICAgICAgICAgYWxsb3dBY2NvdW50RGVsZXRpb24sXG4gICAgICAgICAgICBjbGllbnQ6IHRoaXMuY2xpZW50LFxuICAgICAgICAgICAgZWNvc3lzdGVtOiB0aGlzLmVjb3N5c3RlbSxcbiAgICAgICAgICAgIHByb2ZpbGVUb1VubGluazogcHJvZmlsZSxcbiAgICAgICAgICAgIHN0b3JhZ2U6IHRoaXMuc3RvcmFnZSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGFzeW5jIGdldFByb2ZpbGVzKCkge1xuICAgICAgICByZXR1cm4gZ2V0TGlua2VkUHJvZmlsZXNJbnRlcm5hbCh7XG4gICAgICAgICAgICBjbGllbnQ6IHRoaXMuY2xpZW50LFxuICAgICAgICAgICAgZWNvc3lzdGVtOiB0aGlzLmVjb3N5c3RlbSxcbiAgICAgICAgICAgIHN0b3JhZ2U6IHRoaXMuc3RvcmFnZSxcbiAgICAgICAgfSk7XG4gICAgfVxufVxuZnVuY3Rpb24gYXNzZXJ0VW5yZWFjaGFibGUoeCwgbWVzc2FnZSkge1xuICAgIHRocm93IG5ldyBFcnJvcihtZXNzYWdlID8/IGBJbnZhbGlkIHBhcmFtOiAke3h9YCk7XG59XG5mdW5jdGlvbiBnZXREZWZhdWx0U3RvcmFnZSgpIHtcbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiAmJiB3aW5kb3cubG9jYWxTdG9yYWdlKSB7XG4gICAgICAgIHJldHVybiB3ZWJMb2NhbFN0b3JhZ2U7XG4gICAgfVxuICAgIC8vIGRlZmF1bHQgdG8gaW4tbWVtb3J5IHN0b3JhZ2UgaWYgd2UncmUgbm90IGluIHRoZSBicm93c2VyXG4gICAgcmV0dXJuIGluTWVtb3J5U3RvcmFnZTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXdlYi1jb25uZWN0b3IuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/web/lib/web-connector.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/web/utils/iFrameCommunication/IframeCommunicator.js":
/*!***********************************************************************************************************!*\
  !*** ./node_modules/thirdweb/dist/esm/wallets/in-app/web/utils/iFrameCommunication/IframeCommunicator.js ***!
  \***********************************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   IframeCommunicator: function() { return /* binding */ IframeCommunicator; }\n/* harmony export */ });\n/* harmony import */ var _utils_sleep_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../utils/sleep.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/utils/sleep.js\");\n\nconst iframeBaseStyle = {\n    backgroundColor: \"transparent\",\n    border: \"none\",\n    colorScheme: \"light\",\n    display: \"none\",\n    height: \"100%\",\n    pointerEvents: \"all\",\n    position: \"fixed\",\n    right: \"0px\",\n    top: \"0px\",\n    width: \"100%\",\n    zIndex: \"2147483646\",\n};\n// Global var to help track iframe state\nconst isIframeLoaded = new Map();\n/**\n * @internal\n */\n// biome-ignore lint/suspicious/noExplicitAny: TODO: fix later\nclass IframeCommunicator {\n    /**\n     * @internal\n     */\n    constructor({ link, baseUrl, iframeId, container, onIframeInitialize, localStorage, clientId, ecosystem, }) {\n        Object.defineProperty(this, \"iframe\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"POLLING_INTERVAL_SECONDS\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: 1.4\n        });\n        Object.defineProperty(this, \"iframeBaseUrl\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"localStorage\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"clientId\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"ecosystem\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        this.localStorage = localStorage;\n        this.clientId = clientId;\n        this.ecosystem = ecosystem;\n        this.iframeBaseUrl = baseUrl;\n        if (typeof document === \"undefined\") {\n            return;\n        }\n        container = container ?? document.body;\n        // Creating the IFrame element for communication\n        let iframe = document.getElementById(iframeId);\n        const hrefLink = new URL(link);\n        // TODO (ew) - bring back version tracking\n        // const sdkVersion = process.env.THIRDWEB_EWS_SDK_VERSION;\n        // if (!sdkVersion) {\n        //   throw new Error(\"Missing THIRDWEB_EWS_SDK_VERSION env var\");\n        // }\n        // hrefLink.searchParams.set(\"sdkVersion\", sdkVersion);\n        if (!iframe || iframe.src !== hrefLink.href) {\n            // ! Do not update the hrefLink here or it'll cause multiple re-renders\n            iframe = document.createElement(\"iframe\");\n            const mergedIframeStyles = {\n                ...iframeBaseStyle,\n            };\n            Object.assign(iframe.style, mergedIframeStyles);\n            iframe.setAttribute(\"id\", iframeId);\n            iframe.setAttribute(\"fetchpriority\", \"high\");\n            container.appendChild(iframe);\n            iframe.src = hrefLink.href;\n            // iframe.setAttribute(\"data-version\", sdkVersion);\n            // biome-ignore lint/suspicious/noExplicitAny: TODO: fix later\n            const onIframeLoaded = (event) => {\n                if (event.data.eventType === \"ewsIframeLoaded\") {\n                    window.removeEventListener(\"message\", onIframeLoaded);\n                    if (!iframe) {\n                        console.warn(\"thirdweb iFrame not found\");\n                        return;\n                    }\n                    this.onIframeLoadHandler(iframe, onIframeInitialize)();\n                }\n            };\n            window.addEventListener(\"message\", onIframeLoaded);\n        }\n        this.iframe = iframe;\n    }\n    // biome-ignore lint/suspicious/noExplicitAny: TODO: fix later\n    async onIframeLoadedInitVariables() {\n        return {\n            authCookie: await this.localStorage.getAuthCookie(),\n            clientId: this.clientId,\n            deviceShareStored: await this.localStorage.getDeviceShare(),\n            ecosystemId: this.ecosystem?.id,\n            partnerId: this.ecosystem?.partnerId,\n            walletUserId: await this.localStorage.getWalletUserId(),\n        };\n    }\n    /**\n     * @internal\n     */\n    onIframeLoadHandler(iframe, onIframeInitialize) {\n        return async () => {\n            const channel = new MessageChannel();\n            const promise = new Promise((res, rej) => {\n                // biome-ignore lint/suspicious/noExplicitAny: TODO: fix later\n                channel.port1.onmessage = (event) => {\n                    const { data } = event;\n                    channel.port1.close();\n                    if (!data.success) {\n                        rej(new Error(data.error));\n                    }\n                    isIframeLoaded.set(iframe.src, true);\n                    if (onIframeInitialize) {\n                        onIframeInitialize();\n                    }\n                    res(true);\n                };\n            });\n            iframe?.contentWindow?.postMessage({\n                data: await this.onIframeLoadedInitVariables(),\n                eventType: \"initIframe\",\n            }, this.iframeBaseUrl, [channel.port2]);\n            await promise;\n        };\n    }\n    /**\n     * @internal\n     */\n    async call({ procedureName, params, showIframe = false, }) {\n        if (!this.iframe) {\n            throw new Error(\"Iframe not found. You are likely calling this from the backend where the DOM is not available.\");\n        }\n        while (!isIframeLoaded.get(this.iframe.src)) {\n            await (0,_utils_sleep_js__WEBPACK_IMPORTED_MODULE_0__.sleep)(this.POLLING_INTERVAL_SECONDS * 1000);\n        }\n        if (showIframe) {\n            this.iframe.style.display = \"block\";\n            // magic number to let the display render before performing the animation of the modal in\n            await (0,_utils_sleep_js__WEBPACK_IMPORTED_MODULE_0__.sleep)(0.005 * 1000);\n        }\n        const channel = new MessageChannel();\n        const promise = new Promise((res, rej) => {\n            // biome-ignore lint/suspicious/noExplicitAny: TODO: fix later\n            channel.port1.onmessage = async (event) => {\n                const { data } = event;\n                channel.port1.close();\n                if (showIframe) {\n                    // magic number to let modal fade out before hiding it\n                    await (0,_utils_sleep_js__WEBPACK_IMPORTED_MODULE_0__.sleep)(0.1 * 1000);\n                    if (this.iframe) {\n                        this.iframe.style.display = \"none\";\n                    }\n                }\n                if (!data.success) {\n                    rej(new Error(data.error));\n                }\n                else {\n                    res(data.data);\n                }\n            };\n        });\n        this.iframe.contentWindow?.postMessage({\n            // Pass the initialization data on every request in case the iframe storage was reset (can happen in some environments such as iOS PWAs)\n            data: {\n                ...params,\n                ...(await this.onIframeLoadedInitVariables()),\n            },\n            eventType: procedureName,\n        }, this.iframeBaseUrl, [channel.port2]);\n        return promise;\n    }\n    /**\n     * This has to be called by any iframe that will be removed from the DOM.\n     * Use to make sure that we reset the global loaded state of the particular iframe.src\n     * @internal\n     */\n    destroy() {\n        if (this.iframe) {\n            isIframeLoaded.delete(this.iframe.src);\n        }\n    }\n}\n//# sourceMappingURL=IframeCommunicator.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy90aGlyZHdlYi9kaXN0L2VzbS93YWxsZXRzL2luLWFwcC93ZWIvdXRpbHMvaUZyYW1lQ29tbXVuaWNhdGlvbi9JZnJhbWVDb21tdW5pY2F0b3IuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBc0Q7QUFDdEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQiw0RkFBNEY7QUFDOUc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsT0FBTztBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLDRDQUE0QztBQUM3RDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixzREFBSztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixzREFBSztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLE9BQU87QUFDL0I7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLHNEQUFLO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy90aGlyZHdlYi9kaXN0L2VzbS93YWxsZXRzL2luLWFwcC93ZWIvdXRpbHMvaUZyYW1lQ29tbXVuaWNhdGlvbi9JZnJhbWVDb21tdW5pY2F0b3IuanM/ZmRlMyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBzbGVlcCB9IGZyb20gXCIuLi8uLi8uLi8uLi8uLi91dGlscy9zbGVlcC5qc1wiO1xuY29uc3QgaWZyYW1lQmFzZVN0eWxlID0ge1xuICAgIGJhY2tncm91bmRDb2xvcjogXCJ0cmFuc3BhcmVudFwiLFxuICAgIGJvcmRlcjogXCJub25lXCIsXG4gICAgY29sb3JTY2hlbWU6IFwibGlnaHRcIixcbiAgICBkaXNwbGF5OiBcIm5vbmVcIixcbiAgICBoZWlnaHQ6IFwiMTAwJVwiLFxuICAgIHBvaW50ZXJFdmVudHM6IFwiYWxsXCIsXG4gICAgcG9zaXRpb246IFwiZml4ZWRcIixcbiAgICByaWdodDogXCIwcHhcIixcbiAgICB0b3A6IFwiMHB4XCIsXG4gICAgd2lkdGg6IFwiMTAwJVwiLFxuICAgIHpJbmRleDogXCIyMTQ3NDgzNjQ2XCIsXG59O1xuLy8gR2xvYmFsIHZhciB0byBoZWxwIHRyYWNrIGlmcmFtZSBzdGF0ZVxuY29uc3QgaXNJZnJhbWVMb2FkZWQgPSBuZXcgTWFwKCk7XG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG4vLyBiaW9tZS1pZ25vcmUgbGludC9zdXNwaWNpb3VzL25vRXhwbGljaXRBbnk6IFRPRE86IGZpeCBsYXRlclxuZXhwb3J0IGNsYXNzIElmcmFtZUNvbW11bmljYXRvciB7XG4gICAgLyoqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoeyBsaW5rLCBiYXNlVXJsLCBpZnJhbWVJZCwgY29udGFpbmVyLCBvbklmcmFtZUluaXRpYWxpemUsIGxvY2FsU3RvcmFnZSwgY2xpZW50SWQsIGVjb3N5c3RlbSwgfSkge1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJpZnJhbWVcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiUE9MTElOR19JTlRFUlZBTF9TRUNPTkRTXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiAxLjRcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImlmcmFtZUJhc2VVcmxcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibG9jYWxTdG9yYWdlXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImNsaWVudElkXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImVjb3N5c3RlbVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmxvY2FsU3RvcmFnZSA9IGxvY2FsU3RvcmFnZTtcbiAgICAgICAgdGhpcy5jbGllbnRJZCA9IGNsaWVudElkO1xuICAgICAgICB0aGlzLmVjb3N5c3RlbSA9IGVjb3N5c3RlbTtcbiAgICAgICAgdGhpcy5pZnJhbWVCYXNlVXJsID0gYmFzZVVybDtcbiAgICAgICAgaWYgKHR5cGVvZiBkb2N1bWVudCA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnRhaW5lciA9IGNvbnRhaW5lciA/PyBkb2N1bWVudC5ib2R5O1xuICAgICAgICAvLyBDcmVhdGluZyB0aGUgSUZyYW1lIGVsZW1lbnQgZm9yIGNvbW11bmljYXRpb25cbiAgICAgICAgbGV0IGlmcmFtZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlmcmFtZUlkKTtcbiAgICAgICAgY29uc3QgaHJlZkxpbmsgPSBuZXcgVVJMKGxpbmspO1xuICAgICAgICAvLyBUT0RPIChldykgLSBicmluZyBiYWNrIHZlcnNpb24gdHJhY2tpbmdcbiAgICAgICAgLy8gY29uc3Qgc2RrVmVyc2lvbiA9IHByb2Nlc3MuZW52LlRISVJEV0VCX0VXU19TREtfVkVSU0lPTjtcbiAgICAgICAgLy8gaWYgKCFzZGtWZXJzaW9uKSB7XG4gICAgICAgIC8vICAgdGhyb3cgbmV3IEVycm9yKFwiTWlzc2luZyBUSElSRFdFQl9FV1NfU0RLX1ZFUlNJT04gZW52IHZhclwiKTtcbiAgICAgICAgLy8gfVxuICAgICAgICAvLyBocmVmTGluay5zZWFyY2hQYXJhbXMuc2V0KFwic2RrVmVyc2lvblwiLCBzZGtWZXJzaW9uKTtcbiAgICAgICAgaWYgKCFpZnJhbWUgfHwgaWZyYW1lLnNyYyAhPT0gaHJlZkxpbmsuaHJlZikge1xuICAgICAgICAgICAgLy8gISBEbyBub3QgdXBkYXRlIHRoZSBocmVmTGluayBoZXJlIG9yIGl0J2xsIGNhdXNlIG11bHRpcGxlIHJlLXJlbmRlcnNcbiAgICAgICAgICAgIGlmcmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpZnJhbWVcIik7XG4gICAgICAgICAgICBjb25zdCBtZXJnZWRJZnJhbWVTdHlsZXMgPSB7XG4gICAgICAgICAgICAgICAgLi4uaWZyYW1lQmFzZVN0eWxlLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oaWZyYW1lLnN0eWxlLCBtZXJnZWRJZnJhbWVTdHlsZXMpO1xuICAgICAgICAgICAgaWZyYW1lLnNldEF0dHJpYnV0ZShcImlkXCIsIGlmcmFtZUlkKTtcbiAgICAgICAgICAgIGlmcmFtZS5zZXRBdHRyaWJ1dGUoXCJmZXRjaHByaW9yaXR5XCIsIFwiaGlnaFwiKTtcbiAgICAgICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChpZnJhbWUpO1xuICAgICAgICAgICAgaWZyYW1lLnNyYyA9IGhyZWZMaW5rLmhyZWY7XG4gICAgICAgICAgICAvLyBpZnJhbWUuc2V0QXR0cmlidXRlKFwiZGF0YS12ZXJzaW9uXCIsIHNka1ZlcnNpb24pO1xuICAgICAgICAgICAgLy8gYmlvbWUtaWdub3JlIGxpbnQvc3VzcGljaW91cy9ub0V4cGxpY2l0QW55OiBUT0RPOiBmaXggbGF0ZXJcbiAgICAgICAgICAgIGNvbnN0IG9uSWZyYW1lTG9hZGVkID0gKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGV2ZW50LmRhdGEuZXZlbnRUeXBlID09PSBcImV3c0lmcmFtZUxvYWRlZFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLCBvbklmcmFtZUxvYWRlZCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghaWZyYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJ0aGlyZHdlYiBpRnJhbWUgbm90IGZvdW5kXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub25JZnJhbWVMb2FkSGFuZGxlcihpZnJhbWUsIG9uSWZyYW1lSW5pdGlhbGl6ZSkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsIG9uSWZyYW1lTG9hZGVkKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmlmcmFtZSA9IGlmcmFtZTtcbiAgICB9XG4gICAgLy8gYmlvbWUtaWdub3JlIGxpbnQvc3VzcGljaW91cy9ub0V4cGxpY2l0QW55OiBUT0RPOiBmaXggbGF0ZXJcbiAgICBhc3luYyBvbklmcmFtZUxvYWRlZEluaXRWYXJpYWJsZXMoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBhdXRoQ29va2llOiBhd2FpdCB0aGlzLmxvY2FsU3RvcmFnZS5nZXRBdXRoQ29va2llKCksXG4gICAgICAgICAgICBjbGllbnRJZDogdGhpcy5jbGllbnRJZCxcbiAgICAgICAgICAgIGRldmljZVNoYXJlU3RvcmVkOiBhd2FpdCB0aGlzLmxvY2FsU3RvcmFnZS5nZXREZXZpY2VTaGFyZSgpLFxuICAgICAgICAgICAgZWNvc3lzdGVtSWQ6IHRoaXMuZWNvc3lzdGVtPy5pZCxcbiAgICAgICAgICAgIHBhcnRuZXJJZDogdGhpcy5lY29zeXN0ZW0/LnBhcnRuZXJJZCxcbiAgICAgICAgICAgIHdhbGxldFVzZXJJZDogYXdhaXQgdGhpcy5sb2NhbFN0b3JhZ2UuZ2V0V2FsbGV0VXNlcklkKCksXG4gICAgICAgIH07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIG9uSWZyYW1lTG9hZEhhbmRsZXIoaWZyYW1lLCBvbklmcmFtZUluaXRpYWxpemUpIHtcbiAgICAgICAgcmV0dXJuIGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGNoYW5uZWwgPSBuZXcgTWVzc2FnZUNoYW5uZWwoKTtcbiAgICAgICAgICAgIGNvbnN0IHByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzLCByZWopID0+IHtcbiAgICAgICAgICAgICAgICAvLyBiaW9tZS1pZ25vcmUgbGludC9zdXNwaWNpb3VzL25vRXhwbGljaXRBbnk6IFRPRE86IGZpeCBsYXRlclxuICAgICAgICAgICAgICAgIGNoYW5uZWwucG9ydDEub25tZXNzYWdlID0gKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgZGF0YSB9ID0gZXZlbnQ7XG4gICAgICAgICAgICAgICAgICAgIGNoYW5uZWwucG9ydDEuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFkYXRhLnN1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlaihuZXcgRXJyb3IoZGF0YS5lcnJvcikpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlzSWZyYW1lTG9hZGVkLnNldChpZnJhbWUuc3JjLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9uSWZyYW1lSW5pdGlhbGl6ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgb25JZnJhbWVJbml0aWFsaXplKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmVzKHRydWUpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmcmFtZT8uY29udGVudFdpbmRvdz8ucG9zdE1lc3NhZ2Uoe1xuICAgICAgICAgICAgICAgIGRhdGE6IGF3YWl0IHRoaXMub25JZnJhbWVMb2FkZWRJbml0VmFyaWFibGVzKCksXG4gICAgICAgICAgICAgICAgZXZlbnRUeXBlOiBcImluaXRJZnJhbWVcIixcbiAgICAgICAgICAgIH0sIHRoaXMuaWZyYW1lQmFzZVVybCwgW2NoYW5uZWwucG9ydDJdKTtcbiAgICAgICAgICAgIGF3YWl0IHByb21pc2U7XG4gICAgICAgIH07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIGFzeW5jIGNhbGwoeyBwcm9jZWR1cmVOYW1lLCBwYXJhbXMsIHNob3dJZnJhbWUgPSBmYWxzZSwgfSkge1xuICAgICAgICBpZiAoIXRoaXMuaWZyYW1lKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJZnJhbWUgbm90IGZvdW5kLiBZb3UgYXJlIGxpa2VseSBjYWxsaW5nIHRoaXMgZnJvbSB0aGUgYmFja2VuZCB3aGVyZSB0aGUgRE9NIGlzIG5vdCBhdmFpbGFibGUuXCIpO1xuICAgICAgICB9XG4gICAgICAgIHdoaWxlICghaXNJZnJhbWVMb2FkZWQuZ2V0KHRoaXMuaWZyYW1lLnNyYykpIHtcbiAgICAgICAgICAgIGF3YWl0IHNsZWVwKHRoaXMuUE9MTElOR19JTlRFUlZBTF9TRUNPTkRTICogMTAwMCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNob3dJZnJhbWUpIHtcbiAgICAgICAgICAgIHRoaXMuaWZyYW1lLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICAgICAgICAvLyBtYWdpYyBudW1iZXIgdG8gbGV0IHRoZSBkaXNwbGF5IHJlbmRlciBiZWZvcmUgcGVyZm9ybWluZyB0aGUgYW5pbWF0aW9uIG9mIHRoZSBtb2RhbCBpblxuICAgICAgICAgICAgYXdhaXQgc2xlZXAoMC4wMDUgKiAxMDAwKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjaGFubmVsID0gbmV3IE1lc3NhZ2VDaGFubmVsKCk7XG4gICAgICAgIGNvbnN0IHByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzLCByZWopID0+IHtcbiAgICAgICAgICAgIC8vIGJpb21lLWlnbm9yZSBsaW50L3N1c3BpY2lvdXMvbm9FeHBsaWNpdEFueTogVE9ETzogZml4IGxhdGVyXG4gICAgICAgICAgICBjaGFubmVsLnBvcnQxLm9ubWVzc2FnZSA9IGFzeW5jIChldmVudCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgZGF0YSB9ID0gZXZlbnQ7XG4gICAgICAgICAgICAgICAgY2hhbm5lbC5wb3J0MS5jbG9zZSgpO1xuICAgICAgICAgICAgICAgIGlmIChzaG93SWZyYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIG1hZ2ljIG51bWJlciB0byBsZXQgbW9kYWwgZmFkZSBvdXQgYmVmb3JlIGhpZGluZyBpdFxuICAgICAgICAgICAgICAgICAgICBhd2FpdCBzbGVlcCgwLjEgKiAxMDAwKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuaWZyYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlmcmFtZS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCFkYXRhLnN1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVqKG5ldyBFcnJvcihkYXRhLmVycm9yKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXMoZGF0YS5kYXRhKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5pZnJhbWUuY29udGVudFdpbmRvdz8ucG9zdE1lc3NhZ2Uoe1xuICAgICAgICAgICAgLy8gUGFzcyB0aGUgaW5pdGlhbGl6YXRpb24gZGF0YSBvbiBldmVyeSByZXF1ZXN0IGluIGNhc2UgdGhlIGlmcmFtZSBzdG9yYWdlIHdhcyByZXNldCAoY2FuIGhhcHBlbiBpbiBzb21lIGVudmlyb25tZW50cyBzdWNoIGFzIGlPUyBQV0FzKVxuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgIC4uLnBhcmFtcyxcbiAgICAgICAgICAgICAgICAuLi4oYXdhaXQgdGhpcy5vbklmcmFtZUxvYWRlZEluaXRWYXJpYWJsZXMoKSksXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZXZlbnRUeXBlOiBwcm9jZWR1cmVOYW1lLFxuICAgICAgICB9LCB0aGlzLmlmcmFtZUJhc2VVcmwsIFtjaGFubmVsLnBvcnQyXSk7XG4gICAgICAgIHJldHVybiBwcm9taXNlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGlzIGhhcyB0byBiZSBjYWxsZWQgYnkgYW55IGlmcmFtZSB0aGF0IHdpbGwgYmUgcmVtb3ZlZCBmcm9tIHRoZSBET00uXG4gICAgICogVXNlIHRvIG1ha2Ugc3VyZSB0aGF0IHdlIHJlc2V0IHRoZSBnbG9iYWwgbG9hZGVkIHN0YXRlIG9mIHRoZSBwYXJ0aWN1bGFyIGlmcmFtZS5zcmNcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBkZXN0cm95KCkge1xuICAgICAgICBpZiAodGhpcy5pZnJhbWUpIHtcbiAgICAgICAgICAgIGlzSWZyYW1lTG9hZGVkLmRlbGV0ZSh0aGlzLmlmcmFtZS5zcmMpO1xuICAgICAgICB9XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9SWZyYW1lQ29tbXVuaWNhdG9yLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/web/utils/iFrameCommunication/IframeCommunicator.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/web/utils/iFrameCommunication/InAppWalletIframeCommunicator.js":
/*!**********************************************************************************************************************!*\
  !*** ./node_modules/thirdweb/dist/esm/wallets/in-app/web/utils/iFrameCommunication/InAppWalletIframeCommunicator.js ***!
  \**********************************************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   InAppWalletIframeCommunicator: function() { return /* binding */ InAppWalletIframeCommunicator; }\n/* harmony export */ });\n/* harmony import */ var _utils_storage_webStorage_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../utils/storage/webStorage.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/utils/storage/webStorage.js\");\n/* harmony import */ var _core_authentication_client_scoped_storage_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/authentication/client-scoped-storage.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/core/authentication/client-scoped-storage.js\");\n/* harmony import */ var _core_constants_settings_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/constants/settings.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/core/constants/settings.js\");\n/* harmony import */ var _IframeCommunicator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./IframeCommunicator.js */ \"(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/web/utils/iFrameCommunication/IframeCommunicator.js\");\n\n\n\n\n/**\n * @internal\n */\nclass InAppWalletIframeCommunicator extends _IframeCommunicator_js__WEBPACK_IMPORTED_MODULE_0__.IframeCommunicator {\n    /**\n     * @internal\n     */\n    constructor({ clientId, baseUrl, ecosystem, }) {\n        super({\n            baseUrl,\n            clientId,\n            container: typeof document === \"undefined\" ? undefined : document.body,\n            ecosystem,\n            iframeId: IN_APP_WALLET_IFRAME_ID + (ecosystem?.id || \"\"),\n            link: createInAppWalletIframeLink({\n                baseUrl,\n                clientId,\n                ecosystem,\n                path: _core_constants_settings_js__WEBPACK_IMPORTED_MODULE_1__.IN_APP_WALLET_PATH,\n            }).href,\n            localStorage: new _core_authentication_client_scoped_storage_js__WEBPACK_IMPORTED_MODULE_2__.ClientScopedStorage({\n                clientId,\n                ecosystem,\n                storage: _utils_storage_webStorage_js__WEBPACK_IMPORTED_MODULE_3__.webLocalStorage,\n            }),\n        });\n        this.clientId = clientId;\n        this.ecosystem = ecosystem;\n    }\n}\n// This is the URL and ID tag of the iFrame that we communicate with\n/**\n * @internal\n */\nfunction createInAppWalletIframeLink({ clientId, baseUrl, path, ecosystem, queryParams, }) {\n    const inAppWalletUrl = new URL(`${path}`, baseUrl);\n    if (queryParams) {\n        for (const queryKey of Object.keys(queryParams)) {\n            inAppWalletUrl.searchParams.set(queryKey, queryParams[queryKey]?.toString() || \"\");\n        }\n    }\n    inAppWalletUrl.searchParams.set(\"clientId\", clientId);\n    if (ecosystem?.partnerId !== undefined) {\n        inAppWalletUrl.searchParams.set(\"partnerId\", ecosystem.partnerId);\n    }\n    if (ecosystem?.id !== undefined) {\n        inAppWalletUrl.searchParams.set(\"ecosystemId\", ecosystem.id);\n    }\n    return inAppWalletUrl;\n}\nconst IN_APP_WALLET_IFRAME_ID = \"thirdweb-in-app-wallet-iframe\";\n//# sourceMappingURL=InAppWalletIframeCommunicator.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy90aGlyZHdlYi9kaXN0L2VzbS93YWxsZXRzL2luLWFwcC93ZWIvdXRpbHMvaUZyYW1lQ29tbXVuaWNhdGlvbi9JbkFwcFdhbGxldElmcmFtZUNvbW11bmljYXRvci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUE2RTtBQUNlO0FBQ25CO0FBQ1o7QUFDN0Q7QUFDQTtBQUNBO0FBQ08sNENBQTRDLHNFQUFrQjtBQUNyRTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsK0JBQStCO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLDJFQUFrQjtBQUN4QyxhQUFhO0FBQ2IsOEJBQThCLDhGQUFtQjtBQUNqRDtBQUNBO0FBQ0EseUJBQXlCLHlFQUFlO0FBQ3hDLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1QyxrREFBa0Q7QUFDekYsc0NBQXNDLEtBQUs7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL3RoaXJkd2ViL2Rpc3QvZXNtL3dhbGxldHMvaW4tYXBwL3dlYi91dGlscy9pRnJhbWVDb21tdW5pY2F0aW9uL0luQXBwV2FsbGV0SWZyYW1lQ29tbXVuaWNhdG9yLmpzPzQ0ZWUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgd2ViTG9jYWxTdG9yYWdlIH0gZnJvbSBcIi4uLy4uLy4uLy4uLy4uL3V0aWxzL3N0b3JhZ2Uvd2ViU3RvcmFnZS5qc1wiO1xuaW1wb3J0IHsgQ2xpZW50U2NvcGVkU3RvcmFnZSB9IGZyb20gXCIuLi8uLi8uLi9jb3JlL2F1dGhlbnRpY2F0aW9uL2NsaWVudC1zY29wZWQtc3RvcmFnZS5qc1wiO1xuaW1wb3J0IHsgSU5fQVBQX1dBTExFVF9QQVRIIH0gZnJvbSBcIi4uLy4uLy4uL2NvcmUvY29uc3RhbnRzL3NldHRpbmdzLmpzXCI7XG5pbXBvcnQgeyBJZnJhbWVDb21tdW5pY2F0b3IgfSBmcm9tIFwiLi9JZnJhbWVDb21tdW5pY2F0b3IuanNcIjtcbi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBjbGFzcyBJbkFwcFdhbGxldElmcmFtZUNvbW11bmljYXRvciBleHRlbmRzIElmcmFtZUNvbW11bmljYXRvciB7XG4gICAgLyoqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoeyBjbGllbnRJZCwgYmFzZVVybCwgZWNvc3lzdGVtLCB9KSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIGJhc2VVcmwsXG4gICAgICAgICAgICBjbGllbnRJZCxcbiAgICAgICAgICAgIGNvbnRhaW5lcjogdHlwZW9mIGRvY3VtZW50ID09PSBcInVuZGVmaW5lZFwiID8gdW5kZWZpbmVkIDogZG9jdW1lbnQuYm9keSxcbiAgICAgICAgICAgIGVjb3N5c3RlbSxcbiAgICAgICAgICAgIGlmcmFtZUlkOiBJTl9BUFBfV0FMTEVUX0lGUkFNRV9JRCArIChlY29zeXN0ZW0/LmlkIHx8IFwiXCIpLFxuICAgICAgICAgICAgbGluazogY3JlYXRlSW5BcHBXYWxsZXRJZnJhbWVMaW5rKHtcbiAgICAgICAgICAgICAgICBiYXNlVXJsLFxuICAgICAgICAgICAgICAgIGNsaWVudElkLFxuICAgICAgICAgICAgICAgIGVjb3N5c3RlbSxcbiAgICAgICAgICAgICAgICBwYXRoOiBJTl9BUFBfV0FMTEVUX1BBVEgsXG4gICAgICAgICAgICB9KS5ocmVmLFxuICAgICAgICAgICAgbG9jYWxTdG9yYWdlOiBuZXcgQ2xpZW50U2NvcGVkU3RvcmFnZSh7XG4gICAgICAgICAgICAgICAgY2xpZW50SWQsXG4gICAgICAgICAgICAgICAgZWNvc3lzdGVtLFxuICAgICAgICAgICAgICAgIHN0b3JhZ2U6IHdlYkxvY2FsU3RvcmFnZSxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5jbGllbnRJZCA9IGNsaWVudElkO1xuICAgICAgICB0aGlzLmVjb3N5c3RlbSA9IGVjb3N5c3RlbTtcbiAgICB9XG59XG4vLyBUaGlzIGlzIHRoZSBVUkwgYW5kIElEIHRhZyBvZiB0aGUgaUZyYW1lIHRoYXQgd2UgY29tbXVuaWNhdGUgd2l0aFxuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZnVuY3Rpb24gY3JlYXRlSW5BcHBXYWxsZXRJZnJhbWVMaW5rKHsgY2xpZW50SWQsIGJhc2VVcmwsIHBhdGgsIGVjb3N5c3RlbSwgcXVlcnlQYXJhbXMsIH0pIHtcbiAgICBjb25zdCBpbkFwcFdhbGxldFVybCA9IG5ldyBVUkwoYCR7cGF0aH1gLCBiYXNlVXJsKTtcbiAgICBpZiAocXVlcnlQYXJhbXMpIHtcbiAgICAgICAgZm9yIChjb25zdCBxdWVyeUtleSBvZiBPYmplY3Qua2V5cyhxdWVyeVBhcmFtcykpIHtcbiAgICAgICAgICAgIGluQXBwV2FsbGV0VXJsLnNlYXJjaFBhcmFtcy5zZXQocXVlcnlLZXksIHF1ZXJ5UGFyYW1zW3F1ZXJ5S2V5XT8udG9TdHJpbmcoKSB8fCBcIlwiKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpbkFwcFdhbGxldFVybC5zZWFyY2hQYXJhbXMuc2V0KFwiY2xpZW50SWRcIiwgY2xpZW50SWQpO1xuICAgIGlmIChlY29zeXN0ZW0/LnBhcnRuZXJJZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGluQXBwV2FsbGV0VXJsLnNlYXJjaFBhcmFtcy5zZXQoXCJwYXJ0bmVySWRcIiwgZWNvc3lzdGVtLnBhcnRuZXJJZCk7XG4gICAgfVxuICAgIGlmIChlY29zeXN0ZW0/LmlkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaW5BcHBXYWxsZXRVcmwuc2VhcmNoUGFyYW1zLnNldChcImVjb3N5c3RlbUlkXCIsIGVjb3N5c3RlbS5pZCk7XG4gICAgfVxuICAgIHJldHVybiBpbkFwcFdhbGxldFVybDtcbn1cbmNvbnN0IElOX0FQUF9XQUxMRVRfSUZSQU1FX0lEID0gXCJ0aGlyZHdlYi1pbi1hcHAtd2FsbGV0LWlmcmFtZVwiO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9SW5BcHBXYWxsZXRJZnJhbWVDb21tdW5pY2F0b3IuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/thirdweb/dist/esm/wallets/in-app/web/utils/iFrameCommunication/InAppWalletIframeCommunicator.js\n"));

/***/ })

}]);